<!doctype html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <title>Homework - Buzzfeed Surveillance Planes Random Forests (Completed)</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">
  <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Raleway:400,700|Open+Sans:400,700&display=swap" rel="stylesheet"> -->
  <link rel="stylesheet" href="/ds4j/css/spectre.min.css">
  <link rel="stylesheet" href="/ds4j/css/spectre-exp.min.css">
  <link rel="stylesheet" href="/ds4j/css/spectre-icons.min.css">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/ds4j/css/style.css" rel="stylesheet">
  <link href="/ds4j/css/highlight.css" rel="stylesheet">
</head>

<body>
  <div class="nav-holder bg-secondary">
  <div class='content'>
    <header class="navbar">
      <section class="navbar-section">
        <a href="/ds4j/" class="navbar-brand mr-2">DS4J</a>
      </section>
      <section class="navbar-section">
        <a href="/ds4j/projects" class="btn btn-link">Projects</a>
        <a href="/ds4j/topics" class="btn btn-link">Topics</a>
        <a href="/ds4j/curriculum" class="btn btn-link">Curriculum</a>
        <a href="/ds4j/about" class="btn btn-link">About</a>
      </section>
    </header>
  </div>
</div>
  
<div class="content text-based">
  <div class="columns">
    <div class="column col-12 notebook">
      <ul class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="#">Projects</a>
        </li>
        <li class="breadcrumb-item">
          <a href="/ds4j/buzzfeed-spy-planes/">Uncovering surveillance planes with Buzzfeed</a>
        </li>
        <li class="breadcrumb-item">
          <a href="/ds4j/buzzfeed-spy-planes/homework-buzzfeed-surveillance-planes-random-forests-completed">Homework - Buzzfeed Surveillance Planes Random Forests (Completed)</a>
        </li>
      </ul>

      <div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Finding-surveillance-planes-using-random-forests">Finding surveillance planes using random forests<a class="anchor-link" href="#Finding-surveillance-planes-using-random-forests">#</a></h1><p><strong>The story:</strong></p>
<ul>
<li><a href="https://www.buzzfeednews.com/article/peteraldhous/spies-in-the-skies">https://www.buzzfeednews.com/article/peteraldhous/spies-in-the-skies</a></li>
<li><a href="https://www.buzzfeednews.com/article/peteraldhous/hidden-spy-planes">https://www.buzzfeednews.com/article/peteraldhous/hidden-spy-planes</a></li>
</ul>
<p>This story, done by Peter Aldhous at Buzzfeed News, involved training a machine learning algorithm to recognize government surveillance planes based on what their flight patterns look like.</p>
<p><strong>Topics:</strong> Random Forests</p>
<p><strong>Datasets</strong></p>
<ul>
<li><strong>feds.csv:</strong> Transponder codes of planes operated by the federal government</li>
<li><strong>planes_features.csv:</strong> various features describing each plane's flight patterns</li>
<li><strong>train.csv:</strong> a labeled dataset of transponder codes and whether each plane is a surveillance plane or not<ul>
<li>The <code>label</code> column was originally <code>class</code>, but I renamed it because pandas freaks out a bit with a column named <code>class</code></li>
<li>This was created by Buzzfeed <code>feds.csv</code></li>
</ul>
</li>
<li><strong>data dictionary:</strong> You can find the data dictionary published with their analysis <a href="https://buzzfeednews.github.io/2016-04-federal-surveillance-planes/analysis.html">here</a></li>
<li><strong>a few other files</strong></li>
</ul>
<h2 id="What's-the-goal?">What's the goal?<a class="anchor-link" href="#What's-the-goal?">#</a></h2><p>The FBI and Department of Homeland Security operate many planes that are not directly labeled as belonging to the government. If we can uncover these planes, we have a better idea of the surveillance activities they are undertaking.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p class="reading-options">
  <a class="btn" href="/ds4j/buzzfeed-spy-planes/homework-buzzfeed-surveillance-planes-random-forests-completed">
    <i class="fa fa-sm fa-book"></i>
    Read online
  </a>
  <a class="btn" href="/ds4j/buzzfeed-spy-planes/notebooks/Homework - Buzzfeed Surveillance Planes Random Forests (Completed).ipynb">
    <i class="fa fa-sm fa-download"></i>
    Download notebook
  </a>
  <a class="btn" href="#">
    <i class="fa fa-sm fa-laptop"></i>
    Interactive version
  </a>
</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Imports">Imports<a class="anchor-link" href="#Imports">#</a></h2><p>Also set a large number of maximum columns.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_columns&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Read-in-our-data">Read in our data<a class="anchor-link" href="#Read-in-our-data">#</a></h1><p>Almost all classification problems start with a set of labeled features. In this case, the features are in one CSV file and the labels are in another. <strong>Read both files in and merge them on <code>adshex</code>, the transpoder code.</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Read in your features</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/planes_features.csv&quot;</span><span class="p">)</span>
<span class="n">features</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>0.120253</td>
      <td>0.075949</td>
      <td>0.183544</td>
      <td>0.335443</td>
      <td>0.284810</td>
      <td>0.088608</td>
      <td>0.044304</td>
      <td>0.069620</td>
      <td>0.120253</td>
      <td>0.677215</td>
      <td>0.021824</td>
      <td>0.020550</td>
      <td>0.062330</td>
      <td>0.100713</td>
      <td>0.794582</td>
      <td>0.042374</td>
      <td>0.060971</td>
      <td>0.066831</td>
      <td>0.106403</td>
      <td>0.723421</td>
      <td>0.020211</td>
      <td>0.048913</td>
      <td>0.270550</td>
      <td>0.344090</td>
      <td>0.097317</td>
      <td>0.186651</td>
      <td>0.011379</td>
      <td>0.009426</td>
      <td>158</td>
      <td>0</td>
      <td>11776</td>
      <td>GRND</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A00000</td>
      <td>0.211735</td>
      <td>0.155612</td>
      <td>0.181122</td>
      <td>0.198980</td>
      <td>0.252551</td>
      <td>0.204082</td>
      <td>0.183673</td>
      <td>0.168367</td>
      <td>0.173469</td>
      <td>0.267857</td>
      <td>0.107348</td>
      <td>0.143410</td>
      <td>0.208139</td>
      <td>0.177013</td>
      <td>0.364090</td>
      <td>0.177318</td>
      <td>0.114457</td>
      <td>0.129648</td>
      <td>0.197694</td>
      <td>0.380882</td>
      <td>0.034976</td>
      <td>0.048127</td>
      <td>0.240732</td>
      <td>0.356314</td>
      <td>0.116116</td>
      <td>0.159325</td>
      <td>0.012828</td>
      <td>0.013628</td>
      <td>392</td>
      <td>0</td>
      <td>52465</td>
      <td>TBM7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A00002</td>
      <td>0.517241</td>
      <td>0.103448</td>
      <td>0.103448</td>
      <td>0.103448</td>
      <td>0.172414</td>
      <td>0.862069</td>
      <td>0.137931</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.990792</td>
      <td>0.000921</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.008287</td>
      <td>0.599448</td>
      <td>0.400552</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.105893</td>
      <td>0.090239</td>
      <td>0.174954</td>
      <td>0.244015</td>
      <td>0.034070</td>
      <td>0.202578</td>
      <td>0.021179</td>
      <td>0.068140</td>
      <td>29</td>
      <td>0</td>
      <td>1086</td>
      <td>SHIP</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A00008</td>
      <td>0.125000</td>
      <td>0.041667</td>
      <td>0.208333</td>
      <td>0.166667</td>
      <td>0.458333</td>
      <td>0.125000</td>
      <td>0.083333</td>
      <td>0.125000</td>
      <td>0.166667</td>
      <td>0.500000</td>
      <td>0.187960</td>
      <td>0.278952</td>
      <td>0.221048</td>
      <td>0.190257</td>
      <td>0.121783</td>
      <td>0.014706</td>
      <td>0.053309</td>
      <td>0.149816</td>
      <td>0.279871</td>
      <td>0.502298</td>
      <td>0.029871</td>
      <td>0.044118</td>
      <td>0.202665</td>
      <td>0.380515</td>
      <td>0.094669</td>
      <td>0.182904</td>
      <td>0.014706</td>
      <td>0.020221</td>
      <td>24</td>
      <td>0</td>
      <td>2176</td>
      <td>PA46</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A0001E</td>
      <td>0.100000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.400000</td>
      <td>0.100000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.400000</td>
      <td>0.400000</td>
      <td>0.007937</td>
      <td>0.026984</td>
      <td>0.084127</td>
      <td>0.179365</td>
      <td>0.701587</td>
      <td>0.041270</td>
      <td>0.085714</td>
      <td>0.039683</td>
      <td>0.111111</td>
      <td>0.722222</td>
      <td>0.019048</td>
      <td>0.049206</td>
      <td>0.249206</td>
      <td>0.326984</td>
      <td>0.112698</td>
      <td>0.206349</td>
      <td>0.012698</td>
      <td>0.011111</td>
      <td>10</td>
      <td>1135</td>
      <td>630</td>
      <td>C56X</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Read in your labels</span>
<span class="n">labeled</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/train.csv&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;label&#39;</span><span class="p">})</span>
<span class="n">labeled</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A00C4B</td>
      <td>surveil</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A0AB21</td>
      <td>surveil</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A0AE77</td>
      <td>surveil</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A0AE7C</td>
      <td>surveil</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A0C462</td>
      <td>surveil</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">labeled</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;adshex&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A00C4B</td>
      <td>surveil</td>
      <td>0.450000</td>
      <td>0.125000</td>
      <td>0.025000</td>
      <td>0.025000</td>
      <td>0.375000</td>
      <td>0.475000</td>
      <td>0.250000</td>
      <td>0.250000</td>
      <td>0.025000</td>
      <td>0.000000</td>
      <td>0.337128</td>
      <td>0.408286</td>
      <td>0.185431</td>
      <td>0.053026</td>
      <td>0.016129</td>
      <td>0.010226</td>
      <td>0.168564</td>
      <td>0.793274</td>
      <td>0.027936</td>
      <td>0.000000</td>
      <td>0.151697</td>
      <td>0.203774</td>
      <td>0.303922</td>
      <td>0.154544</td>
      <td>0.033312</td>
      <td>0.088024</td>
      <td>0.010858</td>
      <td>0.010753</td>
      <td>40</td>
      <td>4414</td>
      <td>9486</td>
      <td>C182</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A0AB21</td>
      <td>surveil</td>
      <td>0.523810</td>
      <td>0.000000</td>
      <td>0.047619</td>
      <td>0.095238</td>
      <td>0.333333</td>
      <td>0.714286</td>
      <td>0.095238</td>
      <td>0.047619</td>
      <td>0.142857</td>
      <td>0.000000</td>
      <td>0.703329</td>
      <td>0.144543</td>
      <td>0.114201</td>
      <td>0.026549</td>
      <td>0.011378</td>
      <td>0.007164</td>
      <td>0.580700</td>
      <td>0.374210</td>
      <td>0.037927</td>
      <td>0.000000</td>
      <td>0.141593</td>
      <td>0.152550</td>
      <td>0.166456</td>
      <td>0.309313</td>
      <td>0.008007</td>
      <td>0.078382</td>
      <td>0.021492</td>
      <td>0.064054</td>
      <td>21</td>
      <td>4414</td>
      <td>2373</td>
      <td>C182</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A0AE77</td>
      <td>surveil</td>
      <td>0.262295</td>
      <td>0.196721</td>
      <td>0.081967</td>
      <td>0.114754</td>
      <td>0.344262</td>
      <td>0.639344</td>
      <td>0.295082</td>
      <td>0.032787</td>
      <td>0.032787</td>
      <td>0.000000</td>
      <td>0.703037</td>
      <td>0.181262</td>
      <td>0.066502</td>
      <td>0.030956</td>
      <td>0.018244</td>
      <td>0.000000</td>
      <td>0.000118</td>
      <td>0.034134</td>
      <td>0.923376</td>
      <td>0.042373</td>
      <td>0.121234</td>
      <td>0.256709</td>
      <td>0.279779</td>
      <td>0.209981</td>
      <td>0.009416</td>
      <td>0.037900</td>
      <td>0.011064</td>
      <td>0.027778</td>
      <td>61</td>
      <td>4414</td>
      <td>8496</td>
      <td>T206</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A0AE7C</td>
      <td>surveil</td>
      <td>0.521739</td>
      <td>0.086957</td>
      <td>0.043478</td>
      <td>0.043478</td>
      <td>0.304348</td>
      <td>0.565217</td>
      <td>0.043478</td>
      <td>0.260870</td>
      <td>0.000000</td>
      <td>0.130435</td>
      <td>0.129674</td>
      <td>0.291088</td>
      <td>0.384954</td>
      <td>0.098159</td>
      <td>0.096126</td>
      <td>0.000000</td>
      <td>0.004631</td>
      <td>0.200723</td>
      <td>0.722806</td>
      <td>0.071840</td>
      <td>0.159494</td>
      <td>0.256636</td>
      <td>0.238111</td>
      <td>0.168305</td>
      <td>0.023043</td>
      <td>0.086073</td>
      <td>0.014007</td>
      <td>0.014797</td>
      <td>23</td>
      <td>4415</td>
      <td>8853</td>
      <td>T206</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A0C462</td>
      <td>surveil</td>
      <td>0.250000</td>
      <td>0.083333</td>
      <td>0.500000</td>
      <td>0.083333</td>
      <td>0.083333</td>
      <td>0.208333</td>
      <td>0.041667</td>
      <td>0.041667</td>
      <td>0.500000</td>
      <td>0.208333</td>
      <td>0.040691</td>
      <td>0.002466</td>
      <td>0.041924</td>
      <td>0.170160</td>
      <td>0.744760</td>
      <td>0.011097</td>
      <td>0.007398</td>
      <td>0.023428</td>
      <td>0.090012</td>
      <td>0.868064</td>
      <td>0.019729</td>
      <td>0.020962</td>
      <td>0.199753</td>
      <td>0.478422</td>
      <td>0.119605</td>
      <td>0.118372</td>
      <td>0.006165</td>
      <td>0.011097</td>
      <td>24</td>
      <td>1731</td>
      <td>811</td>
      <td>P8</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="No-wait,-merge-them-again!">No wait, merge them again!<a class="anchor-link" href="#No-wait,-merge-them-again!">#</a></h3><p>We have features for about 20,000 planes and labels for about 600 planes. When you merge, the planes you have features for but not labels for will disappear.</p>
<p>We want to keep those in the dataframe so we can play detective with them later, and try to find surveillance planes using the features. When you merge, you should use <code>how='left'</code> or <code>how='right'</code> to keep unmatched columns from the left (or right) dataframe.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">labeled</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;adshex&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Confirm you have 19,799 rows and 34 columns.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(19799, 34)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Cleaning-up-our-data">Cleaning up our data<a class="anchor-link" href="#Cleaning-up-our-data">#</a></h1><h2 id="Number-izing-our-labels">Number-izing our labels<a class="anchor-link" href="#Number-izing-our-labels">#</a></h2><p>Each row is a plane, and it's marked as either a surveillance plane or not. How many do we have in each category?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>other      500
surveil     97
Name: label, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>How do you feel about that split?</p>
<p><strong>Prepare this column for machine learning.</strong> What's wrong with it as <code>"surveil"</code> and <code>"other"</code>? Add a new column that we can use for classification.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Replace label with numbers</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span>
    <span class="s1">&#39;surveil&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;other&#39;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A00C4B</td>
      <td>1.0</td>
      <td>0.450000</td>
      <td>0.125000</td>
      <td>0.025000</td>
      <td>0.025000</td>
      <td>0.375000</td>
      <td>0.475000</td>
      <td>0.250000</td>
      <td>0.250000</td>
      <td>0.025000</td>
      <td>0.000000</td>
      <td>0.337128</td>
      <td>0.408286</td>
      <td>0.185431</td>
      <td>0.053026</td>
      <td>0.016129</td>
      <td>0.010226</td>
      <td>0.168564</td>
      <td>0.793274</td>
      <td>0.027936</td>
      <td>0.000000</td>
      <td>0.151697</td>
      <td>0.203774</td>
      <td>0.303922</td>
      <td>0.154544</td>
      <td>0.033312</td>
      <td>0.088024</td>
      <td>0.010858</td>
      <td>0.010753</td>
      <td>40</td>
      <td>4414</td>
      <td>9486</td>
      <td>C182</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A0AB21</td>
      <td>1.0</td>
      <td>0.523810</td>
      <td>0.000000</td>
      <td>0.047619</td>
      <td>0.095238</td>
      <td>0.333333</td>
      <td>0.714286</td>
      <td>0.095238</td>
      <td>0.047619</td>
      <td>0.142857</td>
      <td>0.000000</td>
      <td>0.703329</td>
      <td>0.144543</td>
      <td>0.114201</td>
      <td>0.026549</td>
      <td>0.011378</td>
      <td>0.007164</td>
      <td>0.580700</td>
      <td>0.374210</td>
      <td>0.037927</td>
      <td>0.000000</td>
      <td>0.141593</td>
      <td>0.152550</td>
      <td>0.166456</td>
      <td>0.309313</td>
      <td>0.008007</td>
      <td>0.078382</td>
      <td>0.021492</td>
      <td>0.064054</td>
      <td>21</td>
      <td>4414</td>
      <td>2373</td>
      <td>C182</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A0AE77</td>
      <td>1.0</td>
      <td>0.262295</td>
      <td>0.196721</td>
      <td>0.081967</td>
      <td>0.114754</td>
      <td>0.344262</td>
      <td>0.639344</td>
      <td>0.295082</td>
      <td>0.032787</td>
      <td>0.032787</td>
      <td>0.000000</td>
      <td>0.703037</td>
      <td>0.181262</td>
      <td>0.066502</td>
      <td>0.030956</td>
      <td>0.018244</td>
      <td>0.000000</td>
      <td>0.000118</td>
      <td>0.034134</td>
      <td>0.923376</td>
      <td>0.042373</td>
      <td>0.121234</td>
      <td>0.256709</td>
      <td>0.279779</td>
      <td>0.209981</td>
      <td>0.009416</td>
      <td>0.037900</td>
      <td>0.011064</td>
      <td>0.027778</td>
      <td>61</td>
      <td>4414</td>
      <td>8496</td>
      <td>T206</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A0AE7C</td>
      <td>1.0</td>
      <td>0.521739</td>
      <td>0.086957</td>
      <td>0.043478</td>
      <td>0.043478</td>
      <td>0.304348</td>
      <td>0.565217</td>
      <td>0.043478</td>
      <td>0.260870</td>
      <td>0.000000</td>
      <td>0.130435</td>
      <td>0.129674</td>
      <td>0.291088</td>
      <td>0.384954</td>
      <td>0.098159</td>
      <td>0.096126</td>
      <td>0.000000</td>
      <td>0.004631</td>
      <td>0.200723</td>
      <td>0.722806</td>
      <td>0.071840</td>
      <td>0.159494</td>
      <td>0.256636</td>
      <td>0.238111</td>
      <td>0.168305</td>
      <td>0.023043</td>
      <td>0.086073</td>
      <td>0.014007</td>
      <td>0.014797</td>
      <td>23</td>
      <td>4415</td>
      <td>8853</td>
      <td>T206</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A0C462</td>
      <td>1.0</td>
      <td>0.250000</td>
      <td>0.083333</td>
      <td>0.500000</td>
      <td>0.083333</td>
      <td>0.083333</td>
      <td>0.208333</td>
      <td>0.041667</td>
      <td>0.041667</td>
      <td>0.500000</td>
      <td>0.208333</td>
      <td>0.040691</td>
      <td>0.002466</td>
      <td>0.041924</td>
      <td>0.170160</td>
      <td>0.744760</td>
      <td>0.011097</td>
      <td>0.007398</td>
      <td>0.023428</td>
      <td>0.090012</td>
      <td>0.868064</td>
      <td>0.019729</td>
      <td>0.020962</td>
      <td>0.199753</td>
      <td>0.478422</td>
      <td>0.119605</td>
      <td>0.118372</td>
      <td>0.006165</td>
      <td>0.011097</td>
      <td>24</td>
      <td>1731</td>
      <td>811</td>
      <td>P8</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Categorical-variables">Categorical variables<a class="anchor-link" href="#Categorical-variables">#</a></h2><p>Do we have any variables that count as categories? Yes, we do! ...but how many different categories does it have?</p>
<ul>
<li><strong>Tip:</strong> You can use <code>.unique()</code> or <code>.value_counts()</code> to count unique items, depending on what you're looking for</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>unknown    2528
C172       1014
SR22        799
BE36        699
C182        693
           ... 
MS76          1
FGT           1
SC7           1
E35L          1
M20J          1
Name: type, Length: 455, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Most of those types of plane only have one appearance, which means they wouldn't be very helpful identifiers in the final analysis. For example, if I only see one GLF5 and it's a surveillance plane, does that mean the next one I see is probably a surveillance plane? With such a small sample size, I have no idea!</p>
<p>We have a few options</p>
<ol>
<li>Create a very large set of dummy variables out of all 133 types of planes</li>
<li>Create <code>0</code>/<code>1</code> columns for common plane types and ignore the less common ones -  C182, T206, SR22</li>
<li>Interview someone who knows something about planes and put these into a few broader categories</li>
<li>Keep them as one column, just turn them into numbers - it doesn't make sense in terms of order, but if one or two plane types are very indicative of a surveillance plane the forest might pick it up</li>
</ol>
<p>Oddly enough, <strong>the last one is a common approach.</strong> Let's use it!</p>
<p>If you want to convert a list of categories into numbers, an easy way is to use the <code>Categorical</code> data type.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0    C182
1    C182
2    T206
3    T206
4      P8
Name: type, dtype: category
Categories (455, object): [208, A109, A119, A139, ..., WW24, XL2, ZZZZ, unknown]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It looks like a normal bunch of strings, but pandas is secretly using a number for each one! You can find the number with <code>.cat.codes</code>.</p>
<p><strong>Use <code>df.type.cat.codes</code> to make a new columns called <code>type_code</code>.</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;type_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
<span class="n">df</span><span class="p">[[</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;type_code&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>type</th>
      <th>type_code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>C182</td>
      <td>91</td>
    </tr>
    <tr>
      <th>1</th>
      <td>C182</td>
      <td>91</td>
    </tr>
    <tr>
      <th>2</th>
      <td>T206</td>
      <td>417</td>
    </tr>
    <tr>
      <th>3</th>
      <td>T206</td>
      <td>417</td>
    </tr>
    <tr>
      <th>4</th>
      <td>P8</td>
      <td>337</td>
    </tr>
    <tr>
      <th>5</th>
      <td>BE20</td>
      <td>48</td>
    </tr>
    <tr>
      <th>6</th>
      <td>BE20</td>
      <td>48</td>
    </tr>
    <tr>
      <th>7</th>
      <td>BE20</td>
      <td>48</td>
    </tr>
    <tr>
      <th>8</th>
      <td>C182</td>
      <td>91</td>
    </tr>
    <tr>
      <th>9</th>
      <td>C182</td>
      <td>91</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We'll use <code>type_code</code> for machine learning since sklearn needs a number, and <code>type</code> for reading since we like text.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Building-our-classifier">Building our classifier<a class="anchor-link" href="#Building-our-classifier">#</a></h1><p>When we're about to classify, we usually just drop our target column to build our inputs and outputs:</p>
<div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;column_you_are_predicting&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">column_you_are_predicting</span>
</pre></div>
<p>This time is a little different. First, we have unlabeled data in there! Use <code>.dropna()</code> to filter your training data so we only have labeled data.</p>
<p>Confirm <code>train_df</code> has 597 rows and 35 columns.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">train_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(597, 35)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We also have a few extra columns that we aren't using for classification (like the text version of the type column and the transponder code). It's fine to drop multiple columns here that you aren't using, just a little bit messier. You also have to make sure you're dropping all the right ones.</p>
<p>Do a <code>.head()</code> to double-check all of the columns you need to drop when creating your <code>X</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
      <th>type_code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A00C4B</td>
      <td>1.0</td>
      <td>0.45000</td>
      <td>0.125</td>
      <td>0.025000</td>
      <td>0.025000</td>
      <td>0.375000</td>
      <td>0.475000</td>
      <td>0.250000</td>
      <td>0.250000</td>
      <td>0.025000</td>
      <td>0.0</td>
      <td>0.337128</td>
      <td>0.408286</td>
      <td>0.185431</td>
      <td>0.053026</td>
      <td>0.016129</td>
      <td>0.010226</td>
      <td>0.168564</td>
      <td>0.793274</td>
      <td>0.027936</td>
      <td>0.0</td>
      <td>0.151697</td>
      <td>0.203774</td>
      <td>0.303922</td>
      <td>0.154544</td>
      <td>0.033312</td>
      <td>0.088024</td>
      <td>0.010858</td>
      <td>0.010753</td>
      <td>40</td>
      <td>4414</td>
      <td>9486</td>
      <td>C182</td>
      <td>91</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A0AB21</td>
      <td>1.0</td>
      <td>0.52381</td>
      <td>0.000</td>
      <td>0.047619</td>
      <td>0.095238</td>
      <td>0.333333</td>
      <td>0.714286</td>
      <td>0.095238</td>
      <td>0.047619</td>
      <td>0.142857</td>
      <td>0.0</td>
      <td>0.703329</td>
      <td>0.144543</td>
      <td>0.114201</td>
      <td>0.026549</td>
      <td>0.011378</td>
      <td>0.007164</td>
      <td>0.580700</td>
      <td>0.374210</td>
      <td>0.037927</td>
      <td>0.0</td>
      <td>0.141593</td>
      <td>0.152550</td>
      <td>0.166456</td>
      <td>0.309313</td>
      <td>0.008007</td>
      <td>0.078382</td>
      <td>0.021492</td>
      <td>0.064054</td>
      <td>21</td>
      <td>4414</td>
      <td>2373</td>
      <td>C182</td>
      <td>91</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Create-your-X-and-y.">Create your <code>X</code> and <code>y</code>.<a class="anchor-link" href="#Create-your-X-and-y.">#</a></h3><p>When you do <code>train_df.drop</code>, you'll want to remove more than just your <code>0</code>/<code>1</code> surveillance label. What other columns do you not want to use as input? Maybe some categories you converted into codes?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;adshex&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">label</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Triple-check that <code>X</code> is a list of numeric features and and <code>y</code> is a numeric label.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type_code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.45000</td>
      <td>0.125</td>
      <td>0.025000</td>
      <td>0.025000</td>
      <td>0.375000</td>
      <td>0.475000</td>
      <td>0.250000</td>
      <td>0.250000</td>
      <td>0.025000</td>
      <td>0.0</td>
      <td>0.337128</td>
      <td>0.408286</td>
      <td>0.185431</td>
      <td>0.053026</td>
      <td>0.016129</td>
      <td>0.010226</td>
      <td>0.168564</td>
      <td>0.793274</td>
      <td>0.027936</td>
      <td>0.0</td>
      <td>0.151697</td>
      <td>0.203774</td>
      <td>0.303922</td>
      <td>0.154544</td>
      <td>0.033312</td>
      <td>0.088024</td>
      <td>0.010858</td>
      <td>0.010753</td>
      <td>40</td>
      <td>4414</td>
      <td>9486</td>
      <td>91</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.52381</td>
      <td>0.000</td>
      <td>0.047619</td>
      <td>0.095238</td>
      <td>0.333333</td>
      <td>0.714286</td>
      <td>0.095238</td>
      <td>0.047619</td>
      <td>0.142857</td>
      <td>0.0</td>
      <td>0.703329</td>
      <td>0.144543</td>
      <td>0.114201</td>
      <td>0.026549</td>
      <td>0.011378</td>
      <td>0.007164</td>
      <td>0.580700</td>
      <td>0.374210</td>
      <td>0.037927</td>
      <td>0.0</td>
      <td>0.141593</td>
      <td>0.152550</td>
      <td>0.166456</td>
      <td>0.309313</td>
      <td>0.008007</td>
      <td>0.078382</td>
      <td>0.021492</td>
      <td>0.064054</td>
      <td>21</td>
      <td>4414</td>
      <td>2373</td>
      <td>91</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0    1.0
1    1.0
Name: label, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Split-into-test-and-train-datasets">Split into test and train datasets<a class="anchor-link" href="#Split-into-test-and-train-datasets">#</a></h3><p>We could be nice and lazy and use all our data for training, but it just isn't right! Taking a test using the exact same questions you studied is just cheating. Split your data into test and train.</p>
<ul>
<li><strong>Tip:</strong> Don't do this manually! There's a method for it in sklearn</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Classify-using-a-logistic-classifier">Classify using a logistic classifier<a class="anchor-link" href="#Classify-using-a-logistic-classifier">#</a></h1><h2 id="Train-your-classifier">Train your classifier<a class="anchor-link" href="#Train-your-classifier">#</a></h2><p>Build a <code>LogisticRegression</code> and fit it to your data, making sure you're training using only <code>X_train</code> and <code>y_train</code>.</p>
<ul>
<li><strong>Tip:</strong> You'll want to give <code>LogisticRegression</code> an extra argument of <code>max_iter=4000</code> - it means "work a little harder than you expect," because otherwise it won't find an answer (by default it only has a <code>max_iter</code> of 100)</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">C</span><span class="o">=</span><span class="mf">1e9</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;lbfgs&#39;</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">4000</span><span class="p">)</span>

<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>LogisticRegression(C=1000000000.0, class_weight=None, dual=False,
                   fit_intercept=True, intercept_scaling=1, l1_ratio=None,
                   max_iter=4000, multi_class=&#39;warn&#39;, n_jobs=None, penalty=&#39;l2&#39;,
                   random_state=None, solver=&#39;lbfgs&#39;, tol=0.0001, verbose=0,
                   warm_start=False)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Examine-the-coefficients">Examine the coefficients<a class="anchor-link" href="#Examine-the-coefficients">#</a></h2><p>What does it mean? What features is the classifier using? Do you care about the odds ratio? <strong>What is even the point of this <code>LogisticRegression</code> thing?</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">feature_names</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>
<span class="n">coefficients</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">coef_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;feature&#39;</span><span class="p">:</span> <span class="n">feature_names</span><span class="p">,</span>
    <span class="s1">&#39;coefficient (log odds ratio)&#39;</span><span class="p">:</span> <span class="n">coefficients</span><span class="p">,</span>
    <span class="s1">&#39;odds ratio&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">coefficients</span><span class="p">)</span>
<span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;odds ratio&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature</th>
      <th>coefficient (log odds ratio)</th>
      <th>odds ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>10</th>
      <td>speed1</td>
      <td>0.622477</td>
      <td>1.863538</td>
    </tr>
    <tr>
      <th>21</th>
      <td>steer2</td>
      <td>0.507835</td>
      <td>1.661689</td>
    </tr>
    <tr>
      <th>5</th>
      <td>boxes1</td>
      <td>0.403334</td>
      <td>1.496807</td>
    </tr>
    <tr>
      <th>6</th>
      <td>boxes2</td>
      <td>0.339208</td>
      <td>1.403836</td>
    </tr>
    <tr>
      <th>20</th>
      <td>steer1</td>
      <td>0.304670</td>
      <td>1.356177</td>
    </tr>
    <tr>
      <th>17</th>
      <td>altitude3</td>
      <td>0.251857</td>
      <td>1.286412</td>
    </tr>
    <tr>
      <th>0</th>
      <td>duration1</td>
      <td>0.114182</td>
      <td>1.120956</td>
    </tr>
    <tr>
      <th>27</th>
      <td>steer8</td>
      <td>0.002105</td>
      <td>1.002107</td>
    </tr>
    <tr>
      <th>29</th>
      <td>squawk_1</td>
      <td>0.000745</td>
      <td>1.000745</td>
    </tr>
    <tr>
      <th>31</th>
      <td>type_code</td>
      <td>0.000180</td>
      <td>1.000180</td>
    </tr>
    <tr>
      <th>30</th>
      <td>observations</td>
      <td>0.000014</td>
      <td>1.000014</td>
    </tr>
    <tr>
      <th>28</th>
      <td>flights</td>
      <td>-0.003415</td>
      <td>0.996590</td>
    </tr>
    <tr>
      <th>26</th>
      <td>steer7</td>
      <td>-0.013651</td>
      <td>0.986441</td>
    </tr>
    <tr>
      <th>18</th>
      <td>altitude4</td>
      <td>-0.022505</td>
      <td>0.977746</td>
    </tr>
    <tr>
      <th>11</th>
      <td>speed2</td>
      <td>-0.090921</td>
      <td>0.913090</td>
    </tr>
    <tr>
      <th>1</th>
      <td>duration2</td>
      <td>-0.117767</td>
      <td>0.888903</td>
    </tr>
    <tr>
      <th>7</th>
      <td>boxes3</td>
      <td>-0.391191</td>
      <td>0.676251</td>
    </tr>
    <tr>
      <th>22</th>
      <td>steer3</td>
      <td>-0.397919</td>
      <td>0.671716</td>
    </tr>
    <tr>
      <th>16</th>
      <td>altitude2</td>
      <td>-0.401974</td>
      <td>0.668998</td>
    </tr>
    <tr>
      <th>24</th>
      <td>steer5</td>
      <td>-0.460506</td>
      <td>0.630964</td>
    </tr>
    <tr>
      <th>25</th>
      <td>steer6</td>
      <td>-0.523748</td>
      <td>0.592297</td>
    </tr>
    <tr>
      <th>12</th>
      <td>speed3</td>
      <td>-0.554705</td>
      <td>0.574241</td>
    </tr>
    <tr>
      <th>4</th>
      <td>duration5</td>
      <td>-0.557450</td>
      <td>0.572667</td>
    </tr>
    <tr>
      <th>2</th>
      <td>duration3</td>
      <td>-0.638612</td>
      <td>0.528025</td>
    </tr>
    <tr>
      <th>15</th>
      <td>altitude1</td>
      <td>-0.692721</td>
      <td>0.500213</td>
    </tr>
    <tr>
      <th>3</th>
      <td>duration4</td>
      <td>-0.823567</td>
      <td>0.438863</td>
    </tr>
    <tr>
      <th>8</th>
      <td>boxes4</td>
      <td>-0.826607</td>
      <td>0.437531</td>
    </tr>
    <tr>
      <th>13</th>
      <td>speed4</td>
      <td>-0.974281</td>
      <td>0.377463</td>
    </tr>
    <tr>
      <th>14</th>
      <td>speed5</td>
      <td>-1.025784</td>
      <td>0.358515</td>
    </tr>
    <tr>
      <th>19</th>
      <td>altitude5</td>
      <td>-1.157871</td>
      <td>0.314154</td>
    </tr>
    <tr>
      <th>23</th>
      <td>steer4</td>
      <td>-1.477424</td>
      <td>0.228225</td>
    </tr>
    <tr>
      <th>9</th>
      <td>boxes5</td>
      <td>-1.547959</td>
      <td>0.212682</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If we don't care about the odds ratio, using the <code>eli5</code> package can shrink our code by a lot (and give us color!)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">eli5</span>

<span class="n">feature_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Use this line instead for wonderful warnings about the results</span>
<span class="c1"># eli5.show_weights(clf, feature_names=feature_names, show=eli5.formatters.fields.ALL)</span>
<span class="n">eli5</span><span class="o">.</span><span class="n">show_weights</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

    <style>
    table.eli5-weights tr:hover {
        filter: brightness(85%);
    }
</style>



    

    

    

    

    

    


    

    

    

    
        

    

        
            
                
                
    
        <p style="margin-bottom: 0.5em; margin-top: 0em">
            <b>
    
        y=1.0
    
</b>

top features
        </p>
    
    <table class="eli5-weights"
           style="border-collapse: collapse; border: none; margin-top: 0em; table-layout: auto; margin-bottom: 2em;">
        <thead>
        <tr style="border: none;">
            
                <th style="padding: 0 1em 0 0.5em; text-align: right; border: none;" title="Feature weights. Note that weights do not account for feature value scales, so if feature values have different scales, features with highest weights might not be the most important.">
                    Weight<sup>?</sup>
                </th>
            
            <th style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">Feature</th>
            
        </tr>
        </thead>
        <tbody>
        
            <tr style="background-color: hsl(120, 100.00%, 91.24%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +0.622
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        speed1
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 92.40%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +0.508
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        steer2
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 93.53%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +0.403
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        boxes1
    </td>
    
</tr>
        
        
            <tr style="background-color: hsl(120, 100.00%, 93.53%); border: none;">
                <td colspan="2" style="padding: 0 0.5em 0 0.5em; text-align: center; border: none; white-space: nowrap;">
                    <i>&hellip; 8 more positive &hellip;</i>
                </td>
            </tr>
        

        
            <tr style="background-color: hsl(0, 100.00%, 93.67%); border: none;">
                <td colspan="2" style="padding: 0 0.5em 0 0.5em; text-align: center; border: none; white-space: nowrap;">
                    <i>&hellip; 5 more negative &hellip;</i>
                </td>
            </tr>
        
        
            <tr style="background-color: hsl(0, 100.00%, 93.67%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.391
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        boxes3
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 93.59%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.398
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        steer3
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 93.55%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.402
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        altitude2
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 92.90%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.461
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        steer5
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 92.23%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.524
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        steer6
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 91.92%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.555
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        speed3
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 91.89%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.557
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        duration5
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 91.08%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.639
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        duration3
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 90.56%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.693
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        altitude1
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.34%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.824
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        duration4
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.31%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.827
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        boxes4
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 88.01%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.974
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        speed4
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 87.57%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.026
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        speed5
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 86.47%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.158
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        altitude5
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 83.95%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.477
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        steer4
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 83.42%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.548
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        boxes5
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 80.00%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -2.023
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        &lt;BIAS&gt;
    </td>
    
</tr>
        

        </tbody>
    </table>

            
        

        



    

    

    

    


    

    

    

    

    

    


    

    

    

    

    

    




</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-well-does-our-classifier-perform?">How well does our classifier perform?<a class="anchor-link" href="#How-well-does-our-classifier-perform?">#</a></h2><p>Let's take a look at the confusion matrix to see how well this classifier finds surveillance planes. Make sure you're using <code>y_test</code> and <code>X_test</code>, not the full dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>

<span class="n">y_true</span> <span class="o">=</span> <span class="n">y_test</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="n">label_names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;not surveil&#39;</span><span class="p">,</span> <span class="s1">&#39;surveil&#39;</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span>
     <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Predicted &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">,</span>
     <span class="n">index</span><span class="o">=</span><span class="s1">&#39;Is &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Predicted not surveil</th>
      <th>Predicted surveil</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Is not surveil</th>
      <td>120</td>
      <td>4</td>
    </tr>
    <tr>
      <th>Is surveil</th>
      <td>12</td>
      <td>14</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Classify-using-a-decision-tree">Classify using a decision tree<a class="anchor-link" href="#Classify-using-a-decision-tree">#</a></h1><p>Now we'll use a decision tree. This is how you make one:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">()</span>
</pre></div>
<p>But it's up to you to teach it what spy planes look like using your training data.</p>
<p>If we use <code>max_depth=</code> to limit the depth of the tree, it will help us visualize it. For example, <code>max_depth=5</code> will only allow the tree to make five decisions.</p>
<p>Make a decision tree and fit it to your data. Use a <code>max_depth=</code> of something between 2 to 5.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>DecisionTreeClassifier(class_weight=None, criterion=&#39;gini&#39;, max_depth=5,
                       max_features=None, max_leaf_nodes=None,
                       min_impurity_decrease=0.0, min_impurity_split=None,
                       min_samples_leaf=1, min_samples_split=2,
                       min_weight_fraction_leaf=0.0, presort=False,
                       random_state=None, splitter=&#39;best&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-are-the-important-features?">What are the important features?<a class="anchor-link" href="#What-are-the-important-features?">#</a></h2><p>We'll use slighyl different code for a decision tree, as it likes to draw big pictures if we don't stop it. The code looks like this:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">eli5</span>

<span class="n">feature_names</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">eli5</span><span class="o">.</span><span class="n">show_weights</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_importances&#39;</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">eli5</span>

<span class="n">feature_names</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">eli5</span><span class="o">.</span><span class="n">show_weights</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_importances&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

    <style>
    table.eli5-weights tr:hover {
        filter: brightness(85%);
    }
</style>



    

    
        
        <pre>
Decision tree feature importances; values are numbers 0 <= x <= 1;
all values sum to 1.
</pre>
    

    

    

    

    


    

    

    

    

    
        <table class="eli5-weights eli5-feature-importances" style="border-collapse: collapse; border: none; margin-top: 0em; table-layout: auto;">
    <thead>
    <tr style="border: none;">
        <th style="padding: 0 1em 0 0.5em; text-align: right; border: none;">Weight</th>
        <th style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">Feature</th>
    </tr>
    </thead>
    <tbody>
    
        <tr style="background-color: hsl(120, 100.00%, 80.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.6489
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                steer2
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 92.94%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.1465
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                squawk_1
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 96.50%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0538
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                altitude1
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 96.86%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0461
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                duration4
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 98.11%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0223
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                speed2
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 98.19%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0210
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                boxes3
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 98.21%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0206
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                duration1
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 98.70%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0131
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                altitude2
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 98.78%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0120
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                steer1
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 98.80%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0117
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                boxes4
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 99.43%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0040
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                altitude5
            </td>
        </tr>
    
        <tr style="background-color: hsl(0, 100.00%, 100.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                boxes2
            </td>
        </tr>
    
        <tr style="background-color: hsl(0, 100.00%, 100.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                flights
            </td>
        </tr>
    
        <tr style="background-color: hsl(0, 100.00%, 100.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                steer5
            </td>
        </tr>
    
        <tr style="background-color: hsl(0, 100.00%, 100.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                speed1
            </td>
        </tr>
    
        <tr style="background-color: hsl(0, 100.00%, 100.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                duration5
            </td>
        </tr>
    
        <tr style="background-color: hsl(0, 100.00%, 100.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                boxes1
            </td>
        </tr>
    
        <tr style="background-color: hsl(0, 100.00%, 100.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                boxes5
            </td>
        </tr>
    
        <tr style="background-color: hsl(0, 100.00%, 100.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                duration3
            </td>
        </tr>
    
        <tr style="background-color: hsl(0, 100.00%, 100.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                observations
            </td>
        </tr>
    
    
        
            <tr style="background-color: hsl(0, 100.00%, 100.00%); border: none;">
                <td colspan="2" style="padding: 0 0.5em 0 0.5em; text-align: center; border: none; white-space: nowrap;">
                    <i>&hellip; 12 more &hellip;</i>
                </td>
            </tr>
        
    
    </tbody>
</table>
    

    




</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Understanding-the-output">Understanding the output<a class="anchor-link" href="#Understanding-the-output">#</a></h3><p><strong>Why is the feature importance difference than for logistic regression?</strong></p>
<p>Also, if you don't specify a <code>max_depth</code>, that's a LOT of zeroes! It doesn't even use most of the features! <strong>Why not?</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Because it&#39;s a different algorithm</span>
<span class="c1"># Because the features aren&#39;t important</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-well-does-the-tree-perform?">How well does the tree perform?<a class="anchor-link" href="#How-well-does-the-tree-perform?">#</a></h2><p>Display another confusion matrix with your new classifier.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>

<span class="n">y_true</span> <span class="o">=</span> <span class="n">y_test</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="n">label_names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;not surveil&#39;</span><span class="p">,</span> <span class="s1">&#39;surveil&#39;</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span>
     <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Predicted &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">,</span>
     <span class="n">index</span><span class="o">=</span><span class="s1">&#39;Is &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Predicted not surveil</th>
      <th>Predicted surveil</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Is not surveil</th>
      <td>120</td>
      <td>4</td>
    </tr>
    <tr>
      <th>Is surveil</th>
      <td>2</td>
      <td>24</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Visualize-the-tree">Visualize the tree<a class="anchor-link" href="#Visualize-the-tree">#</a></h2><p>You can use <code>eli5</code> to visualize the decision tree itself! It usually takes up too much space, but since it's a special occasion we'll let it go.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">feature_names</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">label_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;not surveillance&#39;</span><span class="p">,</span> <span class="s1">&#39;surveillance&#39;</span><span class="p">]</span>
<span class="n">eli5</span><span class="o">.</span><span class="n">show_weights</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="n">label_names</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;decision_tree&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

    <style>
    table.eli5-weights tr:hover {
        filter: brightness(85%);
    }
</style>



    

    

    

    

    

    
        
        <br>
        <pre><svg width="1436pt" height="642pt"
 viewBox="0.00 0.00 1436.13 642.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 638)">
<title>Tree</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-638 1432.1338,-638 1432.1338,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="none" stroke="#000000" points="897.2007,-634 749.933,-634 749.933,-556 897.2007,-556 897.2007,-634"/>
<text text-anchor="middle" x="823.5669" y="-618.8" font-family="Times,serif" font-size="14.00" fill="#000000">steer2 &lt;= 0.111</text>
<text text-anchor="middle" x="823.5669" y="-604.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.267</text>
<text text-anchor="middle" x="823.5669" y="-590.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 100.0%</text>
<text text-anchor="middle" x="823.5669" y="-576.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.841, 0.159]</text>
<text text-anchor="middle" x="823.5669" y="-562.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="none" stroke="#000000" points="738.2007,-520 590.933,-520 590.933,-442 738.2007,-442 738.2007,-520"/>
<text text-anchor="middle" x="664.5669" y="-504.8" font-family="Times,serif" font-size="14.00" fill="#000000">squawk_1 &lt;= 4380.5</text>
<text text-anchor="middle" x="664.5669" y="-490.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.093</text>
<text text-anchor="middle" x="664.5669" y="-476.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 87.2%</text>
<text text-anchor="middle" x="664.5669" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.951, 0.049]</text>
<text text-anchor="middle" x="664.5669" y="-448.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M768.8481,-555.7677C755.5322,-546.2204 741.1857,-535.9342 727.5215,-526.1373"/>
<polygon fill="#000000" stroke="#000000" points="729.2835,-523.0939 719.1171,-520.1115 725.2046,-528.7828 729.2835,-523.0939"/>
<text text-anchor="middle" x="723.1831" y="-540.5786" font-family="Times,serif" font-size="14.00" fill="#000000">True</text>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<polygon fill="none" stroke="#000000" points="1045.6048,-520 905.529,-520 905.529,-442 1045.6048,-442 1045.6048,-520"/>
<text text-anchor="middle" x="975.5669" y="-504.8" font-family="Times,serif" font-size="14.00" fill="#000000">duration4 &lt;= 0.207</text>
<text text-anchor="middle" x="975.5669" y="-490.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.16</text>
<text text-anchor="middle" x="975.5669" y="-476.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 12.8%</text>
<text text-anchor="middle" x="975.5669" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.088, 0.912]</text>
<text text-anchor="middle" x="975.5669" y="-448.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 0&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>0&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M875.8767,-555.7677C888.6063,-546.2204 902.3213,-535.9342 915.3839,-526.1373"/>
<polygon fill="#000000" stroke="#000000" points="917.5183,-528.9115 923.4183,-520.1115 913.3183,-523.3115 917.5183,-528.9115"/>
<text text-anchor="middle" x="919.8828" y="-540.6602" font-family="Times,serif" font-size="14.00" fill="#000000">False</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="none" stroke="#000000" points="568.2007,-406 420.933,-406 420.933,-328 568.2007,-328 568.2007,-406"/>
<text text-anchor="middle" x="494.5669" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#000000">duration1 &lt;= 0.371</text>
<text text-anchor="middle" x="494.5669" y="-376.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.045</text>
<text text-anchor="middle" x="494.5669" y="-362.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 77.4%</text>
<text text-anchor="middle" x="494.5669" y="-348.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.977, 0.023]</text>
<text text-anchor="middle" x="494.5669" y="-334.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M606.0625,-441.7677C591.6911,-432.1303 576.1968,-421.7401 561.4636,-411.8601"/>
<polygon fill="#000000" stroke="#000000" points="563.1458,-408.7741 552.891,-406.1115 559.2471,-414.5879 563.1458,-408.7741"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<polygon fill="none" stroke="#000000" points="738.2007,-406 590.933,-406 590.933,-328 738.2007,-328 738.2007,-406"/>
<text text-anchor="middle" x="664.5669" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#000000">squawk_1 &lt;= 4465.5</text>
<text text-anchor="middle" x="664.5669" y="-376.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.375</text>
<text text-anchor="middle" x="664.5669" y="-362.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 9.8%</text>
<text text-anchor="middle" x="664.5669" y="-348.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.75, 0.25]</text>
<text text-anchor="middle" x="664.5669" y="-334.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 1&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>1&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M664.5669,-441.7677C664.5669,-433.6172 664.5669,-424.9283 664.5669,-416.4649"/>
<polygon fill="#000000" stroke="#000000" points="668.067,-416.3046 664.5669,-406.3046 661.067,-416.3047 668.067,-416.3046"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="none" stroke="#000000" points="389.2007,-292 241.933,-292 241.933,-214 389.2007,-214 389.2007,-292"/>
<text text-anchor="middle" x="315.5669" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">speed2 &lt;= 0.003</text>
<text text-anchor="middle" x="315.5669" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.006</text>
<text text-anchor="middle" x="315.5669" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 69.4%</text>
<text text-anchor="middle" x="315.5669" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.997, 0.003]</text>
<text text-anchor="middle" x="315.5669" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M433.2157,-327.9272C417.8452,-318.1381 401.2415,-307.5637 385.4887,-297.5312"/>
<polygon fill="#000000" stroke="#000000" points="387.1528,-294.4415 376.8379,-292.0218 383.3925,-300.3458 387.1528,-294.4415"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="none" stroke="#000000" points="568.2007,-292 420.933,-292 420.933,-214 568.2007,-214 568.2007,-292"/>
<text text-anchor="middle" x="494.5669" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">altitude1 &lt;= 0.122</text>
<text text-anchor="middle" x="494.5669" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.313</text>
<text text-anchor="middle" x="494.5669" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 8.1%</text>
<text text-anchor="middle" x="494.5669" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.806, 0.194]</text>
<text text-anchor="middle" x="494.5669" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 2&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>2&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M494.5669,-327.7677C494.5669,-319.6172 494.5669,-310.9283 494.5669,-302.4649"/>
<polygon fill="#000000" stroke="#000000" points="498.067,-302.3046 494.5669,-292.3046 491.067,-302.3047 498.067,-302.3046"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="none" stroke="#000000" points="224.2007,-178 76.933,-178 76.933,-100 224.2007,-100 224.2007,-178"/>
<text text-anchor="middle" x="150.5669" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">boxes4 &lt;= 0.379</text>
<text text-anchor="middle" x="150.5669" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.444</text>
<text text-anchor="middle" x="150.5669" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 0.7%</text>
<text text-anchor="middle" x="150.5669" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.667, 0.333]</text>
<text text-anchor="middle" x="150.5669" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M258.7833,-213.7677C244.8345,-204.1303 229.796,-193.7401 215.496,-183.8601"/>
<polygon fill="#000000" stroke="#000000" points="217.3924,-180.9163 207.1756,-178.1115 213.4134,-186.6754 217.3924,-180.9163"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="none" stroke="#000000" points="389.2007,-171 241.933,-171 241.933,-107 389.2007,-107 389.2007,-171"/>
<text text-anchor="middle" x="315.5669" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="315.5669" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 68.7%</text>
<text text-anchor="middle" x="315.5669" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1.0, 0.0]</text>
<text text-anchor="middle" x="315.5669" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 3&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M315.5669,-213.7677C315.5669,-203.3338 315.5669,-192.0174 315.5669,-181.4215"/>
<polygon fill="#000000" stroke="#000000" points="319.067,-181.1252 315.5669,-171.1252 312.067,-181.1252 319.067,-181.1252"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="none" stroke="#000000" points="147.2007,-64 -.067,-64 -.067,0 147.2007,0 147.2007,-64"/>
<text text-anchor="middle" x="73.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="73.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 0.4%</text>
<text text-anchor="middle" x="73.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1.0, 0.0]</text>
<text text-anchor="middle" x="73.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M122.3322,-99.7647C115.957,-90.9057 109.1767,-81.4838 102.7629,-72.571"/>
<polygon fill="#000000" stroke="#000000" points="105.433,-70.2893 96.751,-64.2169 99.7512,-74.3781 105.433,-70.2893"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="none" stroke="#000000" points="290.3113,-64 164.8225,-64 164.8225,0 290.3113,0 290.3113,-64"/>
<text text-anchor="middle" x="227.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="227.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 0.2%</text>
<text text-anchor="middle" x="227.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.0, 1.0]</text>
<text text-anchor="middle" x="227.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 4&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>4&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M178.8016,-99.7647C185.1768,-90.9057 191.9571,-81.4838 198.3709,-72.571"/>
<polygon fill="#000000" stroke="#000000" points="201.3826,-74.3781 204.3828,-64.2169 195.7008,-70.2893 201.3826,-74.3781"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<polygon fill="none" stroke="#000000" points="554.2007,-178 406.933,-178 406.933,-100 554.2007,-100 554.2007,-178"/>
<text text-anchor="middle" x="480.5669" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">altitude1 &lt;= 0.046</text>
<text text-anchor="middle" x="480.5669" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.444</text>
<text text-anchor="middle" x="480.5669" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 4.7%</text>
<text text-anchor="middle" x="480.5669" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.667, 0.333]</text>
<text text-anchor="middle" x="480.5669" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M489.7489,-213.7677C488.748,-205.6172 487.6809,-196.9283 486.6415,-188.4649"/>
<polygon fill="#000000" stroke="#000000" points="490.0867,-187.8034 485.3938,-178.3046 483.1389,-188.6567 490.0867,-187.8034"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<polygon fill="none" stroke="#000000" points="719.2007,-171 571.933,-171 571.933,-107 719.2007,-107 719.2007,-171"/>
<text text-anchor="middle" x="645.5669" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="645.5669" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 3.4%</text>
<text text-anchor="middle" x="645.5669" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1.0, 0.0]</text>
<text text-anchor="middle" x="645.5669" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 8&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>8&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M546.5325,-213.7677C562.2243,-201.9209 579.4231,-188.9364 595.0209,-177.1606"/>
<polygon fill="#000000" stroke="#000000" points="597.143,-179.9439 603.0151,-171.1252 592.9253,-174.3572 597.143,-179.9439"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<polygon fill="none" stroke="#000000" points="505.2007,-64 357.933,-64 357.933,0 505.2007,0 505.2007,-64"/>
<text text-anchor="middle" x="431.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.231</text>
<text text-anchor="middle" x="431.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 3.4%</text>
<text text-anchor="middle" x="431.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.867, 0.133]</text>
<text text-anchor="middle" x="431.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M462.5993,-99.7647C458.6679,-91.1797 454.4943,-82.066 450.5255,-73.3994"/>
<polygon fill="#000000" stroke="#000000" points="453.6663,-71.8516 446.3204,-64.2169 447.3019,-74.7662 453.6663,-71.8516"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<polygon fill="none" stroke="#000000" points="663.6048,-64 523.529,-64 523.529,0 663.6048,0 663.6048,-64"/>
<text text-anchor="middle" x="593.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.278</text>
<text text-anchor="middle" x="593.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1.3%</text>
<text text-anchor="middle" x="593.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.167, 0.833]</text>
<text text-anchor="middle" x="593.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 9&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>9&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M522.0023,-99.7647C531.8403,-90.4491 542.3357,-80.5109 552.1719,-71.197"/>
<polygon fill="#000000" stroke="#000000" points="554.6887,-73.634 559.5435,-64.2169 549.8757,-68.5511 554.6887,-73.634"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<polygon fill="none" stroke="#000000" points="719.3113,-285 593.8225,-285 593.8225,-221 719.3113,-221 719.3113,-285"/>
<text text-anchor="middle" x="656.5669" y="-269.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="656.5669" y="-255.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 2.0%</text>
<text text-anchor="middle" x="656.5669" y="-241.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.0, 1.0]</text>
<text text-anchor="middle" x="656.5669" y="-227.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M661.8137,-327.7677C661.0815,-317.3338 660.2874,-306.0174 659.5438,-295.4215"/>
<polygon fill="#000000" stroke="#000000" points="663.0128,-294.8556 658.8213,-285.1252 656.03,-295.3457 663.0128,-294.8556"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<polygon fill="none" stroke="#000000" points="884.2007,-292 736.933,-292 736.933,-214 884.2007,-214 884.2007,-292"/>
<text text-anchor="middle" x="810.5669" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">steer1 &lt;= 0.027</text>
<text text-anchor="middle" x="810.5669" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.108</text>
<text text-anchor="middle" x="810.5669" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 7.8%</text>
<text text-anchor="middle" x="810.5669" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.943, 0.057]</text>
<text text-anchor="middle" x="810.5669" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 13&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>13&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M714.8118,-327.7677C726.856,-318.3633 739.8184,-308.242 752.1957,-298.5775"/>
<polygon fill="#000000" stroke="#000000" points="754.5015,-301.2177 760.2294,-292.3046 750.1934,-295.7004 754.5015,-301.2177"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<polygon fill="none" stroke="#000000" points="884.2007,-171 736.933,-171 736.933,-107 884.2007,-107 884.2007,-171"/>
<text text-anchor="middle" x="810.5669" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="810.5669" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 6.7%</text>
<text text-anchor="middle" x="810.5669" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1.0, 0.0]</text>
<text text-anchor="middle" x="810.5669" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M810.5669,-213.7677C810.5669,-203.3338 810.5669,-192.0174 810.5669,-181.4215"/>
<polygon fill="#000000" stroke="#000000" points="814.067,-181.1252 810.5669,-171.1252 807.067,-181.1252 814.067,-181.1252"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<polygon fill="none" stroke="#000000" points="1049.2007,-178 901.933,-178 901.933,-100 1049.2007,-100 1049.2007,-178"/>
<text text-anchor="middle" x="975.5669" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">boxes3 &lt;= 0.113</text>
<text text-anchor="middle" x="975.5669" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.48</text>
<text text-anchor="middle" x="975.5669" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1.1%</text>
<text text-anchor="middle" x="975.5669" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.6, 0.4]</text>
<text text-anchor="middle" x="975.5669" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 15&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>15&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M867.3505,-213.7677C881.2993,-204.1303 896.3378,-193.7401 910.6378,-183.8601"/>
<polygon fill="#000000" stroke="#000000" points="912.7204,-186.6754 918.9582,-178.1115 908.7414,-180.9163 912.7204,-186.6754"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<polygon fill="none" stroke="#000000" points="937.2007,-64 789.933,-64 789.933,0 937.2007,0 937.2007,-64"/>
<text text-anchor="middle" x="863.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="863.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 0.7%</text>
<text text-anchor="middle" x="863.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1.0, 0.0]</text>
<text text-anchor="middle" x="863.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 17&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>17&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M934.4982,-99.7647C924.7472,-90.4491 914.3447,-80.5109 904.5955,-71.197"/>
<polygon fill="#000000" stroke="#000000" points="906.9376,-68.594 897.2892,-64.2169 902.1021,-73.6555 906.9376,-68.594"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<polygon fill="none" stroke="#000000" points="1080.3113,-64 954.8225,-64 954.8225,0 1080.3113,0 1080.3113,-64"/>
<text text-anchor="middle" x="1017.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1017.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 0.4%</text>
<text text-anchor="middle" x="1017.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.0, 1.0]</text>
<text text-anchor="middle" x="1017.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 17&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>17&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M990.9677,-99.7647C994.3016,-91.271 997.8387,-82.2599 1001.208,-73.6762"/>
<polygon fill="#000000" stroke="#000000" points="1004.5251,-74.8043 1004.921,-64.2169 998.0091,-72.2466 1004.5251,-74.8043"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<polygon fill="none" stroke="#000000" points="1045.6048,-406 905.529,-406 905.529,-328 1045.6048,-328 1045.6048,-406"/>
<text text-anchor="middle" x="975.5669" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#000000">speed2 &lt;= 0.013</text>
<text text-anchor="middle" x="975.5669" y="-376.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.071</text>
<text text-anchor="middle" x="975.5669" y="-362.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 12.1%</text>
<text text-anchor="middle" x="975.5669" y="-348.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.037, 0.963]</text>
<text text-anchor="middle" x="975.5669" y="-334.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M975.5669,-441.7677C975.5669,-433.6172 975.5669,-424.9283 975.5669,-416.4649"/>
<polygon fill="#000000" stroke="#000000" points="979.067,-416.3046 975.5669,-406.3046 972.067,-416.3047 979.067,-416.3046"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<polygon fill="none" stroke="#000000" points="1211.2007,-399 1063.933,-399 1063.933,-335 1211.2007,-335 1211.2007,-399"/>
<text text-anchor="middle" x="1137.5669" y="-383.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1137.5669" y="-369.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 0.7%</text>
<text text-anchor="middle" x="1137.5669" y="-355.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1.0, 0.0]</text>
<text text-anchor="middle" x="1137.5669" y="-341.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 20&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>20&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M1031.3181,-441.7677C1048.153,-429.9209 1066.6047,-416.9364 1083.3387,-405.1606"/>
<polygon fill="#000000" stroke="#000000" points="1085.7515,-407.7425 1091.9153,-399.1252 1081.723,-402.0178 1085.7515,-407.7425"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<polygon fill="none" stroke="#000000" points="1049.2007,-285 901.933,-285 901.933,-221 1049.2007,-221 1049.2007,-285"/>
<text text-anchor="middle" x="975.5669" y="-269.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="975.5669" y="-255.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 0.2%</text>
<text text-anchor="middle" x="975.5669" y="-241.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1.0, 0.0]</text>
<text text-anchor="middle" x="975.5669" y="-227.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M975.5669,-327.7677C975.5669,-317.3338 975.5669,-306.0174 975.5669,-295.4215"/>
<polygon fill="#000000" stroke="#000000" points="979.067,-295.1252 975.5669,-285.1252 972.067,-295.1252 979.067,-295.1252"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<polygon fill="none" stroke="#000000" points="1207.6048,-292 1067.529,-292 1067.529,-214 1207.6048,-214 1207.6048,-292"/>
<text text-anchor="middle" x="1137.5669" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">altitude5 &lt;= 0.261</text>
<text text-anchor="middle" x="1137.5669" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.037</text>
<text text-anchor="middle" x="1137.5669" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 11.9%</text>
<text text-anchor="middle" x="1137.5669" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.019, 0.981]</text>
<text text-anchor="middle" x="1137.5669" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 21&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>21&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M1031.3181,-327.7677C1044.8853,-318.2204 1059.5025,-307.9342 1073.4245,-298.1373"/>
<polygon fill="#000000" stroke="#000000" points="1075.8236,-300.7288 1081.9875,-292.1115 1071.7951,-295.0041 1075.8236,-300.7288"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<polygon fill="none" stroke="#000000" points="1196.3113,-171 1070.8225,-171 1070.8225,-107 1196.3113,-107 1196.3113,-171"/>
<text text-anchor="middle" x="1133.5669" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1133.5669" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 11.0%</text>
<text text-anchor="middle" x="1133.5669" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.0, 1.0]</text>
<text text-anchor="middle" x="1133.5669" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 23&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>23&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M1136.1903,-213.7677C1135.8242,-203.3338 1135.4272,-192.0174 1135.0554,-181.4215"/>
<polygon fill="#000000" stroke="#000000" points="1138.5427,-180.9963 1134.6941,-171.1252 1131.547,-181.2418 1138.5427,-180.9963"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<polygon fill="none" stroke="#000000" points="1340.6048,-178 1214.5289,-178 1214.5289,-100 1340.6048,-100 1340.6048,-178"/>
<text text-anchor="middle" x="1277.5669" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">altitude2 &lt;= 0.01</text>
<text text-anchor="middle" x="1277.5669" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.375</text>
<text text-anchor="middle" x="1277.5669" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 0.9%</text>
<text text-anchor="middle" x="1277.5669" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.25, 0.75]</text>
<text text-anchor="middle" x="1277.5669" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 23&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>23&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M1185.747,-213.7677C1197.1862,-204.4529 1209.4892,-194.4347 1221.2553,-184.8538"/>
<polygon fill="#000000" stroke="#000000" points="1223.7537,-187.333 1229.298,-178.3046 1219.3336,-181.9049 1223.7537,-187.333"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<polygon fill="none" stroke="#000000" points="1263.3113,-64 1137.8225,-64 1137.8225,0 1263.3113,0 1263.3113,-64"/>
<text text-anchor="middle" x="1200.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1200.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 0.7%</text>
<text text-anchor="middle" x="1200.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0.0, 1.0]</text>
<text text-anchor="middle" x="1200.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 25&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>25&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M1249.3322,-99.7647C1242.957,-90.9057 1236.1767,-81.4838 1229.7629,-72.571"/>
<polygon fill="#000000" stroke="#000000" points="1232.433,-70.2893 1223.751,-64.2169 1226.7512,-74.3781 1232.433,-70.2893"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<polygon fill="none" stroke="#000000" points="1428.2007,-64 1280.933,-64 1280.933,0 1428.2007,0 1428.2007,-64"/>
<text text-anchor="middle" x="1354.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1354.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 0.2%</text>
<text text-anchor="middle" x="1354.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1.0, 0.0]</text>
<text text-anchor="middle" x="1354.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 25&#45;&gt;27 -->
<g id="edge27" class="edge">
<title>25&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M1305.8016,-99.7647C1312.1768,-90.9057 1318.9571,-81.4838 1325.3709,-72.571"/>
<polygon fill="#000000" stroke="#000000" points="1328.3826,-74.3781 1331.3828,-64.2169 1322.7008,-70.2893 1328.3826,-74.3781"/>
</g>
</g>
</svg>
</pre>
    




</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you'd like your graph to have colors colors, or to not use eli5, you can do it the old-fashioned way. You might need to <code>brew install graphviz</code> and <code>pip install graphviz</code>.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">tree</span>
<span class="kn">import</span> <span class="nn">graphviz</span>

<span class="n">label_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;not surveillance&#39;</span><span class="p">,</span> <span class="s1">&#39;surveillance&#39;</span><span class="p">]</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>

<span class="n">dot_data</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">export_graphviz</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span>
                    <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">,</span>  
                    <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">class_names</span><span class="o">=</span><span class="n">label_names</span><span class="p">)</span>  
<span class="n">graph</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="n">dot_data</span><span class="p">)</span>  
<span class="n">graph</span>
</pre></div>
<ul>
<li><strong>Tip:</strong> You'll probably need to scroll sideways a bit</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">tree</span>
<span class="kn">import</span> <span class="nn">graphviz</span>

<span class="n">label_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;not surveillance&#39;</span><span class="p">,</span> <span class="s1">&#39;surveillance&#39;</span><span class="p">]</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>

<span class="n">dot_data</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">export_graphviz</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span>
                    <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">,</span>  
                    <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">class_names</span><span class="o">=</span><span class="n">label_names</span><span class="p">)</span>  
<span class="n">graph</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="n">dot_data</span><span class="p">)</span>  
<span class="n">graph</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Tree Pages: 1 -->
<svg width="1432pt" height="642pt"
 viewBox="0.00 0.00 1432.13 642.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 638)">
<title>Tree</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-638 1428.1338,-638 1428.1338,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#ea995e" stroke="#000000" points="897.2007,-634 749.933,-634 749.933,-556 897.2007,-556 897.2007,-634"/>
<text text-anchor="middle" x="823.5669" y="-618.8" font-family="Times,serif" font-size="14.00" fill="#000000">steer2 &lt;= 0.111</text>
<text text-anchor="middle" x="823.5669" y="-604.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.267</text>
<text text-anchor="middle" x="823.5669" y="-590.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 447</text>
<text text-anchor="middle" x="823.5669" y="-576.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [376, 71]</text>
<text text-anchor="middle" x="823.5669" y="-562.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#e68743" stroke="#000000" points="738.2007,-520 590.933,-520 590.933,-442 738.2007,-442 738.2007,-520"/>
<text text-anchor="middle" x="664.5669" y="-504.8" font-family="Times,serif" font-size="14.00" fill="#000000">squawk_1 &lt;= 4380.5</text>
<text text-anchor="middle" x="664.5669" y="-490.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.093</text>
<text text-anchor="middle" x="664.5669" y="-476.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 390</text>
<text text-anchor="middle" x="664.5669" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [371, 19]</text>
<text text-anchor="middle" x="664.5669" y="-448.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M768.8481,-555.7677C755.5322,-546.2204 741.1857,-535.9342 727.5215,-526.1373"/>
<polygon fill="#000000" stroke="#000000" points="729.2835,-523.0939 719.1171,-520.1115 725.2046,-528.7828 729.2835,-523.0939"/>
<text text-anchor="middle" x="723.1831" y="-540.5786" font-family="Times,serif" font-size="14.00" fill="#000000">True</text>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<polygon fill="#4ca6e8" stroke="#000000" points="1038.3113,-520 912.8225,-520 912.8225,-442 1038.3113,-442 1038.3113,-520"/>
<text text-anchor="middle" x="975.5669" y="-504.8" font-family="Times,serif" font-size="14.00" fill="#000000">duration4 &lt;= 0.207</text>
<text text-anchor="middle" x="975.5669" y="-490.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.16</text>
<text text-anchor="middle" x="975.5669" y="-476.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 57</text>
<text text-anchor="middle" x="975.5669" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [5, 52]</text>
<text text-anchor="middle" x="975.5669" y="-448.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 0&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>0&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M875.8767,-555.7677C888.6063,-546.2204 902.3213,-535.9342 915.3839,-526.1373"/>
<polygon fill="#000000" stroke="#000000" points="917.5183,-528.9115 923.4183,-520.1115 913.3183,-523.3115 917.5183,-528.9115"/>
<text text-anchor="middle" x="919.8828" y="-540.6602" font-family="Times,serif" font-size="14.00" fill="#000000">False</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#e6843e" stroke="#000000" points="568.2007,-406 420.933,-406 420.933,-328 568.2007,-328 568.2007,-406"/>
<text text-anchor="middle" x="494.5669" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#000000">duration1 &lt;= 0.371</text>
<text text-anchor="middle" x="494.5669" y="-376.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.045</text>
<text text-anchor="middle" x="494.5669" y="-362.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 346</text>
<text text-anchor="middle" x="494.5669" y="-348.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [338, 8]</text>
<text text-anchor="middle" x="494.5669" y="-334.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M606.0625,-441.7677C591.6911,-432.1303 576.1968,-421.7401 561.4636,-411.8601"/>
<polygon fill="#000000" stroke="#000000" points="563.1458,-408.7741 552.891,-406.1115 559.2471,-414.5879 563.1458,-408.7741"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<polygon fill="#eeab7b" stroke="#000000" points="738.2007,-406 590.933,-406 590.933,-328 738.2007,-328 738.2007,-406"/>
<text text-anchor="middle" x="664.5669" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#000000">squawk_1 &lt;= 4465.5</text>
<text text-anchor="middle" x="664.5669" y="-376.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.375</text>
<text text-anchor="middle" x="664.5669" y="-362.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 44</text>
<text text-anchor="middle" x="664.5669" y="-348.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [33, 11]</text>
<text text-anchor="middle" x="664.5669" y="-334.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 1&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>1&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M664.5669,-441.7677C664.5669,-433.6172 664.5669,-424.9283 664.5669,-416.4649"/>
<polygon fill="#000000" stroke="#000000" points="668.067,-416.3046 664.5669,-406.3046 661.067,-416.3047 668.067,-416.3046"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#e5813a" stroke="#000000" points="389.2007,-292 241.933,-292 241.933,-214 389.2007,-214 389.2007,-292"/>
<text text-anchor="middle" x="315.5669" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">speed2 &lt;= 0.003</text>
<text text-anchor="middle" x="315.5669" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.006</text>
<text text-anchor="middle" x="315.5669" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 310</text>
<text text-anchor="middle" x="315.5669" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [309, 1]</text>
<text text-anchor="middle" x="315.5669" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M433.2157,-327.9272C417.8452,-318.1381 401.2415,-307.5637 385.4887,-297.5312"/>
<polygon fill="#000000" stroke="#000000" points="387.1528,-294.4415 376.8379,-292.0218 383.3925,-300.3458 387.1528,-294.4415"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#eb9f69" stroke="#000000" points="568.2007,-292 420.933,-292 420.933,-214 568.2007,-214 568.2007,-292"/>
<text text-anchor="middle" x="494.5669" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">altitude1 &lt;= 0.122</text>
<text text-anchor="middle" x="494.5669" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.313</text>
<text text-anchor="middle" x="494.5669" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 36</text>
<text text-anchor="middle" x="494.5669" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [29, 7]</text>
<text text-anchor="middle" x="494.5669" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 2&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>2&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M494.5669,-327.7677C494.5669,-319.6172 494.5669,-310.9283 494.5669,-302.4649"/>
<polygon fill="#000000" stroke="#000000" points="498.067,-302.3046 494.5669,-292.3046 491.067,-302.3047 498.067,-302.3046"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2c09c" stroke="#000000" points="224.2007,-178 76.933,-178 76.933,-100 224.2007,-100 224.2007,-178"/>
<text text-anchor="middle" x="150.5669" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">boxes4 &lt;= 0.379</text>
<text text-anchor="middle" x="150.5669" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.444</text>
<text text-anchor="middle" x="150.5669" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 3</text>
<text text-anchor="middle" x="150.5669" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [2, 1]</text>
<text text-anchor="middle" x="150.5669" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M258.7833,-213.7677C244.8345,-204.1303 229.796,-193.7401 215.496,-183.8601"/>
<polygon fill="#000000" stroke="#000000" points="217.3924,-180.9163 207.1756,-178.1115 213.4134,-186.6754 217.3924,-180.9163"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="#e58139" stroke="#000000" points="389.2007,-171 241.933,-171 241.933,-107 389.2007,-107 389.2007,-171"/>
<text text-anchor="middle" x="315.5669" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="315.5669" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 307</text>
<text text-anchor="middle" x="315.5669" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [307, 0]</text>
<text text-anchor="middle" x="315.5669" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 3&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M315.5669,-213.7677C315.5669,-203.3338 315.5669,-192.0174 315.5669,-181.4215"/>
<polygon fill="#000000" stroke="#000000" points="319.067,-181.1252 315.5669,-171.1252 312.067,-181.1252 319.067,-181.1252"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="#e58139" stroke="#000000" points="147.2007,-64 -.067,-64 -.067,0 147.2007,0 147.2007,-64"/>
<text text-anchor="middle" x="73.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="73.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 2</text>
<text text-anchor="middle" x="73.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [2, 0]</text>
<text text-anchor="middle" x="73.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M122.3322,-99.7647C115.957,-90.9057 109.1767,-81.4838 102.7629,-72.571"/>
<polygon fill="#000000" stroke="#000000" points="105.433,-70.2893 96.751,-64.2169 99.7512,-74.3781 105.433,-70.2893"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#399de5" stroke="#000000" points="290.3113,-64 164.8225,-64 164.8225,0 290.3113,0 290.3113,-64"/>
<text text-anchor="middle" x="227.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="227.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1</text>
<text text-anchor="middle" x="227.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 1]</text>
<text text-anchor="middle" x="227.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 4&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>4&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M178.8016,-99.7647C185.1768,-90.9057 191.9571,-81.4838 198.3709,-72.571"/>
<polygon fill="#000000" stroke="#000000" points="201.3826,-74.3781 204.3828,-64.2169 195.7008,-70.2893 201.3826,-74.3781"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<polygon fill="#f2c09c" stroke="#000000" points="554.2007,-178 406.933,-178 406.933,-100 554.2007,-100 554.2007,-178"/>
<text text-anchor="middle" x="480.5669" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">altitude1 &lt;= 0.046</text>
<text text-anchor="middle" x="480.5669" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.444</text>
<text text-anchor="middle" x="480.5669" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 21</text>
<text text-anchor="middle" x="480.5669" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [14, 7]</text>
<text text-anchor="middle" x="480.5669" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M489.7489,-213.7677C488.748,-205.6172 487.6809,-196.9283 486.6415,-188.4649"/>
<polygon fill="#000000" stroke="#000000" points="490.0867,-187.8034 485.3938,-178.3046 483.1389,-188.6567 490.0867,-187.8034"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<polygon fill="#e58139" stroke="#000000" points="719.2007,-171 571.933,-171 571.933,-107 719.2007,-107 719.2007,-171"/>
<text text-anchor="middle" x="645.5669" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="645.5669" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 15</text>
<text text-anchor="middle" x="645.5669" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [15, 0]</text>
<text text-anchor="middle" x="645.5669" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 8&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>8&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M546.5325,-213.7677C562.2243,-201.9209 579.4231,-188.9364 595.0209,-177.1606"/>
<polygon fill="#000000" stroke="#000000" points="597.143,-179.9439 603.0151,-171.1252 592.9253,-174.3572 597.143,-179.9439"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<polygon fill="#e99457" stroke="#000000" points="505.2007,-64 357.933,-64 357.933,0 505.2007,0 505.2007,-64"/>
<text text-anchor="middle" x="431.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.231</text>
<text text-anchor="middle" x="431.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 15</text>
<text text-anchor="middle" x="431.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [13, 2]</text>
<text text-anchor="middle" x="431.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M462.5993,-99.7647C458.6679,-91.1797 454.4943,-82.066 450.5255,-73.3994"/>
<polygon fill="#000000" stroke="#000000" points="453.6663,-71.8516 446.3204,-64.2169 447.3019,-74.7662 453.6663,-71.8516"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<polygon fill="#61b1ea" stroke="#000000" points="648.3113,-64 522.8225,-64 522.8225,0 648.3113,0 648.3113,-64"/>
<text text-anchor="middle" x="585.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.278</text>
<text text-anchor="middle" x="585.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 6</text>
<text text-anchor="middle" x="585.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 5]</text>
<text text-anchor="middle" x="585.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 9&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>9&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M519.0688,-99.7647C528.1207,-90.5404 537.7715,-80.7057 546.8336,-71.4711"/>
<polygon fill="#000000" stroke="#000000" points="549.4462,-73.8058 553.9522,-64.2169 544.45,-68.9029 549.4462,-73.8058"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<polygon fill="#399de5" stroke="#000000" points="719.3113,-285 593.8225,-285 593.8225,-221 719.3113,-221 719.3113,-285"/>
<text text-anchor="middle" x="656.5669" y="-269.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="656.5669" y="-255.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 9</text>
<text text-anchor="middle" x="656.5669" y="-241.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 9]</text>
<text text-anchor="middle" x="656.5669" y="-227.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M661.8137,-327.7677C661.0815,-317.3338 660.2874,-306.0174 659.5438,-295.4215"/>
<polygon fill="#000000" stroke="#000000" points="663.0128,-294.8556 658.8213,-285.1252 656.03,-295.3457 663.0128,-294.8556"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<polygon fill="#e78945" stroke="#000000" points="884.2007,-292 736.933,-292 736.933,-214 884.2007,-214 884.2007,-292"/>
<text text-anchor="middle" x="810.5669" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">steer1 &lt;= 0.027</text>
<text text-anchor="middle" x="810.5669" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.108</text>
<text text-anchor="middle" x="810.5669" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 35</text>
<text text-anchor="middle" x="810.5669" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [33, 2]</text>
<text text-anchor="middle" x="810.5669" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 13&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>13&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M714.8118,-327.7677C726.856,-318.3633 739.8184,-308.242 752.1957,-298.5775"/>
<polygon fill="#000000" stroke="#000000" points="754.5015,-301.2177 760.2294,-292.3046 750.1934,-295.7004 754.5015,-301.2177"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<polygon fill="#e58139" stroke="#000000" points="884.2007,-171 736.933,-171 736.933,-107 884.2007,-107 884.2007,-171"/>
<text text-anchor="middle" x="810.5669" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="810.5669" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 30</text>
<text text-anchor="middle" x="810.5669" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [30, 0]</text>
<text text-anchor="middle" x="810.5669" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M810.5669,-213.7677C810.5669,-203.3338 810.5669,-192.0174 810.5669,-181.4215"/>
<polygon fill="#000000" stroke="#000000" points="814.067,-181.1252 810.5669,-171.1252 807.067,-181.1252 814.067,-181.1252"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<polygon fill="#f6d5bd" stroke="#000000" points="1049.2007,-178 901.933,-178 901.933,-100 1049.2007,-100 1049.2007,-178"/>
<text text-anchor="middle" x="975.5669" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">boxes3 &lt;= 0.113</text>
<text text-anchor="middle" x="975.5669" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.48</text>
<text text-anchor="middle" x="975.5669" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 5</text>
<text text-anchor="middle" x="975.5669" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [3, 2]</text>
<text text-anchor="middle" x="975.5669" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 15&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>15&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M867.3505,-213.7677C881.2993,-204.1303 896.3378,-193.7401 910.6378,-183.8601"/>
<polygon fill="#000000" stroke="#000000" points="912.7204,-186.6754 918.9582,-178.1115 908.7414,-180.9163 912.7204,-186.6754"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<polygon fill="#e58139" stroke="#000000" points="933.2007,-64 785.933,-64 785.933,0 933.2007,0 933.2007,-64"/>
<text text-anchor="middle" x="859.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="859.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 3</text>
<text text-anchor="middle" x="859.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [3, 0]</text>
<text text-anchor="middle" x="859.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 17&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>17&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M933.0315,-99.7647C922.9322,-90.4491 912.1582,-80.5109 902.0608,-71.197"/>
<polygon fill="#000000" stroke="#000000" points="904.2172,-68.4244 894.4936,-64.2169 899.471,-73.5697 904.2172,-68.4244"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<polygon fill="#399de5" stroke="#000000" points="1076.3113,-64 950.8225,-64 950.8225,0 1076.3113,0 1076.3113,-64"/>
<text text-anchor="middle" x="1013.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1013.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 2</text>
<text text-anchor="middle" x="1013.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 2]</text>
<text text-anchor="middle" x="1013.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 17&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>17&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M989.5009,-99.7647C992.5174,-91.271 995.7176,-82.2599 998.766,-73.6762"/>
<polygon fill="#000000" stroke="#000000" points="1002.0769,-74.8116 1002.1254,-64.2169 995.4805,-72.4689 1002.0769,-74.8116"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<polygon fill="#41a1e6" stroke="#000000" points="1038.3113,-406 912.8225,-406 912.8225,-328 1038.3113,-328 1038.3113,-406"/>
<text text-anchor="middle" x="975.5669" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#000000">speed2 &lt;= 0.013</text>
<text text-anchor="middle" x="975.5669" y="-376.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.071</text>
<text text-anchor="middle" x="975.5669" y="-362.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 54</text>
<text text-anchor="middle" x="975.5669" y="-348.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [2, 52]</text>
<text text-anchor="middle" x="975.5669" y="-334.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M975.5669,-441.7677C975.5669,-433.6172 975.5669,-424.9283 975.5669,-416.4649"/>
<polygon fill="#000000" stroke="#000000" points="979.067,-416.3046 975.5669,-406.3046 972.067,-416.3047 979.067,-416.3046"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<polygon fill="#e58139" stroke="#000000" points="1203.2007,-399 1055.933,-399 1055.933,-335 1203.2007,-335 1203.2007,-399"/>
<text text-anchor="middle" x="1129.5669" y="-383.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1129.5669" y="-369.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 3</text>
<text text-anchor="middle" x="1129.5669" y="-355.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [3, 0]</text>
<text text-anchor="middle" x="1129.5669" y="-341.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 20&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>20&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M1028.565,-441.7677C1044.5685,-429.9209 1062.109,-416.9364 1078.0166,-405.1606"/>
<polygon fill="#000000" stroke="#000000" points="1080.2147,-407.8881 1086.1697,-399.1252 1076.0498,-402.2619 1080.2147,-407.8881"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<polygon fill="#e58139" stroke="#000000" points="1049.2007,-285 901.933,-285 901.933,-221 1049.2007,-221 1049.2007,-285"/>
<text text-anchor="middle" x="975.5669" y="-269.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="975.5669" y="-255.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1</text>
<text text-anchor="middle" x="975.5669" y="-241.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 0]</text>
<text text-anchor="middle" x="975.5669" y="-227.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M975.5669,-327.7677C975.5669,-317.3338 975.5669,-306.0174 975.5669,-295.4215"/>
<polygon fill="#000000" stroke="#000000" points="979.067,-295.1252 975.5669,-285.1252 972.067,-295.1252 979.067,-295.1252"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<polygon fill="#3d9fe6" stroke="#000000" points="1192.3113,-292 1066.8225,-292 1066.8225,-214 1192.3113,-214 1192.3113,-292"/>
<text text-anchor="middle" x="1129.5669" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">altitude5 &lt;= 0.261</text>
<text text-anchor="middle" x="1129.5669" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.037</text>
<text text-anchor="middle" x="1129.5669" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 53</text>
<text text-anchor="middle" x="1129.5669" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 52]</text>
<text text-anchor="middle" x="1129.5669" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 21&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>21&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M1028.565,-327.7677C1041.4621,-318.2204 1055.3575,-307.9342 1068.592,-298.1373"/>
<polygon fill="#000000" stroke="#000000" points="1070.7771,-300.8744 1076.7321,-292.1115 1066.6122,-295.2482 1070.7771,-300.8744"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<polygon fill="#399de5" stroke="#000000" points="1192.3113,-171 1066.8225,-171 1066.8225,-107 1192.3113,-107 1192.3113,-171"/>
<text text-anchor="middle" x="1129.5669" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1129.5669" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 49</text>
<text text-anchor="middle" x="1129.5669" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 49]</text>
<text text-anchor="middle" x="1129.5669" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 23&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>23&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M1129.5669,-213.7677C1129.5669,-203.3338 1129.5669,-192.0174 1129.5669,-181.4215"/>
<polygon fill="#000000" stroke="#000000" points="1133.067,-181.1252 1129.5669,-171.1252 1126.067,-181.1252 1133.067,-181.1252"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<polygon fill="#7bbeee" stroke="#000000" points="1336.3113,-178 1210.8225,-178 1210.8225,-100 1336.3113,-100 1336.3113,-178"/>
<text text-anchor="middle" x="1273.5669" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">altitude2 &lt;= 0.01</text>
<text text-anchor="middle" x="1273.5669" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.375</text>
<text text-anchor="middle" x="1273.5669" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 4</text>
<text text-anchor="middle" x="1273.5669" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 3]</text>
<text text-anchor="middle" x="1273.5669" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 23&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>23&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M1179.1235,-213.7677C1191.0027,-204.3633 1203.7875,-194.242 1215.9953,-184.5775"/>
<polygon fill="#000000" stroke="#000000" points="1218.2509,-187.2559 1223.9189,-178.3046 1213.906,-181.7675 1218.2509,-187.2559"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<polygon fill="#399de5" stroke="#000000" points="1259.3113,-64 1133.8225,-64 1133.8225,0 1259.3113,0 1259.3113,-64"/>
<text text-anchor="middle" x="1196.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1196.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 3</text>
<text text-anchor="middle" x="1196.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 3]</text>
<text text-anchor="middle" x="1196.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 25&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>25&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M1245.3322,-99.7647C1238.957,-90.9057 1232.1767,-81.4838 1225.7629,-72.571"/>
<polygon fill="#000000" stroke="#000000" points="1228.433,-70.2893 1219.751,-64.2169 1222.7512,-74.3781 1228.433,-70.2893"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<polygon fill="#e58139" stroke="#000000" points="1424.2007,-64 1276.933,-64 1276.933,0 1424.2007,0 1424.2007,-64"/>
<text text-anchor="middle" x="1350.5669" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1350.5669" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1</text>
<text text-anchor="middle" x="1350.5669" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 0]</text>
<text text-anchor="middle" x="1350.5669" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 25&#45;&gt;27 -->
<g id="edge27" class="edge">
<title>25&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M1301.8016,-99.7647C1308.1768,-90.9057 1314.9571,-81.4838 1321.3709,-72.571"/>
<polygon fill="#000000" stroke="#000000" points="1324.3826,-74.3781 1327.3828,-64.2169 1318.7008,-70.2893 1324.3826,-74.3781"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="One-more-classifier:-Random-forest">One more classifier: Random forest<a class="anchor-link" href="#One-more-classifier:-Random-forest">#</a></h1><h2 id="Build-and-train-your-classifier">Build and train your classifier<a class="anchor-link" href="#Build-and-train-your-classifier">#</a></h2><p>We can build a random forest classifier like this:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">()</span>
</pre></div>
<p>But you're in charge of fitting it to your training data!</p>
<ul>
<li><strong>Tip:</strong> You can also set <code>max_depth</code> here, but you won't be able to visualize the result.</li>
<li><strong>Tip:</strong> Increase <code>n_estimators</code> to 100 to make a better classifier.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>RandomForestClassifier(bootstrap=True, class_weight=None, criterion=&#39;gini&#39;,
                       max_depth=5, max_features=&#39;auto&#39;, max_leaf_nodes=None,
                       min_impurity_decrease=0.0, min_impurity_split=None,
                       min_samples_leaf=1, min_samples_split=2,
                       min_weight_fraction_leaf=0.0, n_estimators=100,
                       n_jobs=None, oob_score=False, random_state=None,
                       verbose=0, warm_start=False)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-are-the-important-features?">What are the important features?<a class="anchor-link" href="#What-are-the-important-features?">#</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">feature_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">eli5</span><span class="o">.</span><span class="n">show_weights</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;feature_importances&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

    <style>
    table.eli5-weights tr:hover {
        filter: brightness(85%);
    }
</style>



    

    
        
        <pre>
Random forest feature importances; values are numbers 0 <= x <= 1;
all values sum to 1.
</pre>
    

    

    

    

    


    

    

    

    

    
        <table class="eli5-weights eli5-feature-importances" style="border-collapse: collapse; border: none; margin-top: 0em; table-layout: auto;">
    <thead>
    <tr style="border: none;">
        <th style="padding: 0 1em 0 0.5em; text-align: right; border: none;">Weight</th>
        <th style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">Feature</th>
    </tr>
    </thead>
    <tbody>
    
        <tr style="background-color: hsl(120, 100.00%, 80.00%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.1812
                
                    &plusmn; 0.5010
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                steer2
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 81.95%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.1566
                
                    &plusmn; 0.4234
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                steer1
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 84.35%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.1277
                
                    &plusmn; 0.3478
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                squawk_1
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 87.42%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0935
                
                    &plusmn; 0.3463
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                steer5
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 94.29%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0303
                
                    &plusmn; 0.1279
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                steer6
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 94.42%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0293
                
                    &plusmn; 0.1362
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                speed1
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 94.66%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0274
                
                    &plusmn; 0.1078
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                steer4
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 94.77%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0266
                
                    &plusmn; 0.1001
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                altitude1
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 94.81%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0264
                
                    &plusmn; 0.1079
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                altitude3
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 95.32%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0228
                
                    &plusmn; 0.0785
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                boxes1
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 95.44%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0219
                
                    &plusmn; 0.0915
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                duration5
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 95.74%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0199
                
                    &plusmn; 0.0866
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                speed4
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 95.76%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0198
                
                    &plusmn; 0.0819
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                duration4
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 96.16%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0172
                
                    &plusmn; 0.0924
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                boxes5
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 96.24%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0167
                
                    &plusmn; 0.0502
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                duration1
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 96.37%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0158
                
                    &plusmn; 0.0725
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                boxes2
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 96.55%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0147
                
                    &plusmn; 0.0670
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                type_code
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 96.63%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0143
                
                    &plusmn; 0.0502
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                speed2
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 96.67%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0140
                
                    &plusmn; 0.0632
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                observations
            </td>
        </tr>
    
        <tr style="background-color: hsl(120, 100.00%, 96.77%); border: none;">
            <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
                0.0134
                
                    &plusmn; 0.0595
                
            </td>
            <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
                steer8
            </td>
        </tr>
    
    
        
            <tr style="background-color: hsl(120, 100.00%, 96.77%); border: none;">
                <td colspan="2" style="padding: 0 0.5em 0 0.5em; text-align: center; border: none; white-space: nowrap;">
                    <i>&hellip; 12 more &hellip;</i>
                </td>
            </tr>
        
    
    </tbody>
</table>
    

    




</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Understanding-the-output">Understanding the output<a class="anchor-link" href="#Understanding-the-output">#</a></h3><p>What is a random forest, and <strong>why is the feature importance difference than for the decision tree?</strong> Isn't a random forest just like a decision tree or something?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># It&#39;s a lot of decision trees that all work together, so it&#39;ll even try to use less useful features</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-well-does-it-perform?">How well does it perform?<a class="anchor-link" href="#How-well-does-it-perform?">#</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>

<span class="n">y_true</span> <span class="o">=</span> <span class="n">y_test</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="n">label_names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;not surveil&#39;</span><span class="p">,</span> <span class="s1">&#39;surveil&#39;</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span>
     <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Predicted &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">,</span>
     <span class="n">index</span><span class="o">=</span><span class="s1">&#39;Is &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Predicted not surveil</th>
      <th>Predicted surveil</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Is not surveil</th>
      <td>124</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Is surveil</th>
      <td>5</td>
      <td>21</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="How-confident-do-you-feel-in-the-model?">How confident do you feel in the model?<a class="anchor-link" href="#How-confident-do-you-feel-in-the-model?">#</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Very confident</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Actually-finding-spy-planes">Actually finding spy planes<a class="anchor-link" href="#Actually-finding-spy-planes">#</a></h1><p>Now let's try ot actually find our spy planes</p>
<h2 id="Retrain-our-model">Retrain our model<a class="anchor-link" href="#Retrain-our-model">#</a></h2><p>When we did test/train split, we trained our model with only a subset of our data, so we could test with the rest. Now that we're working in the "real world" we want to re-train it using not just <code>_train</code> and <code>_test</code> data, but instead <strong>everything we have labels for.</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>RandomForestClassifier(bootstrap=True, class_weight=None, criterion=&#39;gini&#39;,
                       max_depth=5, max_features=&#39;auto&#39;, max_leaf_nodes=None,
                       min_impurity_decrease=0.0, min_impurity_split=None,
                       min_samples_leaf=1, min_samples_split=2,
                       min_weight_fraction_leaf=0.0, n_estimators=100,
                       n_jobs=None, oob_score=False, random_state=None,
                       verbose=0, warm_start=False)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Filter-for-planes-we-want-to-predict">Filter for planes we want to predict<a class="anchor-link" href="#Filter-for-planes-we-want-to-predict">#</a></h2><p>We have a dataframe of features that includes three types of planes:</p>
<ul>
<li>Those that are labeled as surveillance planes</li>
<li>Those that are labeled as not surveillance</li>
<li>Those that aren't labeled</li>
</ul>
<p>Which do we want to predictions for? <strong>Filter a new dataframe that's just those.</strong></p>
<ul>
<li><strong>Tip:</strong> Scroll up to see where you created your <code>train_df</code>, it's the opposite!</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">real_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>How many planes do you have in that list? <strong>Confirm it's about 19,200.</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">real_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(19202, 35)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Predicting">Predicting<a class="anchor-link" href="#Predicting">#</a></h2><p>Build your <code>X</code> - remember you need to drop a few columns - and use that to make a prediction for each plane.</p>
<p><strong>Assign the prediction into the <code>predicted</code> column</strong>.</p>
<ul>
<li><strong>Tip:</strong> Scroll up to see where you created your features for training, it's similar</li>
<li><strong>Tip:</strong> pandas will yell at us about setting values on copies of a slice but it's fine</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">real_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;adshex&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">])</span>
<span class="n">real_df</span><span class="p">[</span><span class="s1">&#39;predicted&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-many-planes-did-it-predict-to-be-surveillance-planes?">How many planes did it predict to be surveillance planes?<a class="anchor-link" href="#How-many-planes-did-it-predict-to-be-surveillance-planes?">#</a></h2><p>It should be roughly around 70-80 planes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">real_df</span><span class="p">[</span><span class="n">real_df</span><span class="o">.</span><span class="n">predicted</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(70, 36)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="But..-what-about-those-other-ones?-The-ones-that-are-just-below-the-threshold?">But.. what about those other ones? The ones that are just below the threshold?<a class="anchor-link" href="#But..-what-about-those-other-ones?-The-ones-that-are-just-below-the-threshold?">#</a></h2><p>The cutoff for a prediction of <code>1</code> is 50%, but since we have a lot of time we're interested in investigating the top 150. To get the probability for each row, you will use <code>clf.predict_proba</code> instead of <code>clf.predict</code>. Also, to get the predicted probability for the <code>1</code> category, you'll need to add <code>[:,1]</code> to the end of the</p>
<div class="highlight"><pre><span></span><span class="n">clf</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="o">***</span><span class="n">your</span> <span class="n">features</span><span class="o">***</span><span class="p">)[:,</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
<p><strong>Create a new column called <code>predicted_prob</code> that is the chance that the plane is a surveillance plane.</strong></p>
<ul>
<li><strong>Tip:</strong> You dropped three columns when using <code>clf.predict</code>, but if you drop the same three you'll get an error now. There's now an extra column that you'll need to drop! What is it?</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Predict the probability it&#39;s in the class represented by &#39;1&#39;</span>
<span class="n">real_df</span><span class="p">[</span><span class="s1">&#39;predicted_prob&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">real_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;adshex&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;predicted&#39;</span><span class="p">]))[:,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">real_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
      <th>type_code</th>
      <th>predicted</th>
      <th>predicted_prob</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>597</th>
      <td>A</td>
      <td>NaN</td>
      <td>0.120253</td>
      <td>0.075949</td>
      <td>0.183544</td>
      <td>0.335443</td>
      <td>0.284810</td>
      <td>0.088608</td>
      <td>0.044304</td>
      <td>0.069620</td>
      <td>0.120253</td>
      <td>0.677215</td>
      <td>0.021824</td>
      <td>0.020550</td>
      <td>0.062330</td>
      <td>0.100713</td>
      <td>0.794582</td>
      <td>0.042374</td>
      <td>0.060971</td>
      <td>0.066831</td>
      <td>0.106403</td>
      <td>0.723421</td>
      <td>0.020211</td>
      <td>0.048913</td>
      <td>0.270550</td>
      <td>0.344090</td>
      <td>0.097317</td>
      <td>0.186651</td>
      <td>0.011379</td>
      <td>0.009426</td>
      <td>158</td>
      <td>0</td>
      <td>11776</td>
      <td>GRND</td>
      <td>248</td>
      <td>0.0</td>
      <td>0.003261</td>
    </tr>
    <tr>
      <th>598</th>
      <td>A00000</td>
      <td>NaN</td>
      <td>0.211735</td>
      <td>0.155612</td>
      <td>0.181122</td>
      <td>0.198980</td>
      <td>0.252551</td>
      <td>0.204082</td>
      <td>0.183673</td>
      <td>0.168367</td>
      <td>0.173469</td>
      <td>0.267857</td>
      <td>0.107348</td>
      <td>0.143410</td>
      <td>0.208139</td>
      <td>0.177013</td>
      <td>0.364090</td>
      <td>0.177318</td>
      <td>0.114457</td>
      <td>0.129648</td>
      <td>0.197694</td>
      <td>0.380882</td>
      <td>0.034976</td>
      <td>0.048127</td>
      <td>0.240732</td>
      <td>0.356314</td>
      <td>0.116116</td>
      <td>0.159325</td>
      <td>0.012828</td>
      <td>0.013628</td>
      <td>392</td>
      <td>0</td>
      <td>52465</td>
      <td>TBM7</td>
      <td>431</td>
      <td>0.0</td>
      <td>0.011371</td>
    </tr>
    <tr>
      <th>599</th>
      <td>A00008</td>
      <td>NaN</td>
      <td>0.125000</td>
      <td>0.041667</td>
      <td>0.208333</td>
      <td>0.166667</td>
      <td>0.458333</td>
      <td>0.125000</td>
      <td>0.083333</td>
      <td>0.125000</td>
      <td>0.166667</td>
      <td>0.500000</td>
      <td>0.187960</td>
      <td>0.278952</td>
      <td>0.221048</td>
      <td>0.190257</td>
      <td>0.121783</td>
      <td>0.014706</td>
      <td>0.053309</td>
      <td>0.149816</td>
      <td>0.279871</td>
      <td>0.502298</td>
      <td>0.029871</td>
      <td>0.044118</td>
      <td>0.202665</td>
      <td>0.380515</td>
      <td>0.094669</td>
      <td>0.182904</td>
      <td>0.014706</td>
      <td>0.020221</td>
      <td>24</td>
      <td>0</td>
      <td>2176</td>
      <td>PA46</td>
      <td>350</td>
      <td>0.0</td>
      <td>0.008143</td>
    </tr>
    <tr>
      <th>600</th>
      <td>A0001E</td>
      <td>NaN</td>
      <td>0.100000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.400000</td>
      <td>0.100000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.400000</td>
      <td>0.400000</td>
      <td>0.007937</td>
      <td>0.026984</td>
      <td>0.084127</td>
      <td>0.179365</td>
      <td>0.701587</td>
      <td>0.041270</td>
      <td>0.085714</td>
      <td>0.039683</td>
      <td>0.111111</td>
      <td>0.722222</td>
      <td>0.019048</td>
      <td>0.049206</td>
      <td>0.249206</td>
      <td>0.326984</td>
      <td>0.112698</td>
      <td>0.206349</td>
      <td>0.012698</td>
      <td>0.011111</td>
      <td>10</td>
      <td>1135</td>
      <td>630</td>
      <td>C56X</td>
      <td>126</td>
      <td>0.0</td>
      <td>0.010685</td>
    </tr>
    <tr>
      <th>601</th>
      <td>A0002B</td>
      <td>NaN</td>
      <td>0.166667</td>
      <td>0.166667</td>
      <td>0.000000</td>
      <td>0.666667</td>
      <td>0.000000</td>
      <td>0.333333</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.666667</td>
      <td>0.000000</td>
      <td>0.767405</td>
      <td>0.191456</td>
      <td>0.023734</td>
      <td>0.017405</td>
      <td>0.000000</td>
      <td>0.150316</td>
      <td>0.113924</td>
      <td>0.178797</td>
      <td>0.534810</td>
      <td>0.022152</td>
      <td>0.001582</td>
      <td>0.009494</td>
      <td>0.281646</td>
      <td>0.416139</td>
      <td>0.112342</td>
      <td>0.169304</td>
      <td>0.001582</td>
      <td>0.001582</td>
      <td>6</td>
      <td>2356</td>
      <td>632</td>
      <td>C82S</td>
      <td>133</td>
      <td>0.0</td>
      <td>0.049944</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Get-the-top-200-predictions">Get the top 200 predictions<a class="anchor-link" href="#Get-the-top-200-predictions">#</a></h3><p>Take a look at what the probabilities look like, showing the top 200 planes that are <strong>most likely to be surveillance planes.</strong></p>
<p>Then save them to a file for later research.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">top_predictions</span> <span class="o">=</span> <span class="n">real_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;predicted_prob&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="n">top_predictions</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
      <th>type_code</th>
      <th>predicted</th>
      <th>predicted_prob</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12275</th>
      <td>A7D925</td>
      <td>NaN</td>
      <td>0.121212</td>
      <td>0.141414</td>
      <td>0.070707</td>
      <td>0.070707</td>
      <td>0.595960</td>
      <td>0.212121</td>
      <td>0.515152</td>
      <td>0.242424</td>
      <td>0.030303</td>
      <td>0.000000</td>
      <td>0.271168</td>
      <td>0.494554</td>
      <td>0.212671</td>
      <td>0.016859</td>
      <td>0.004747</td>
      <td>0.018678</td>
      <td>0.065840</td>
      <td>0.345793</td>
      <td>0.568557</td>
      <td>0.001131</td>
      <td>0.166840</td>
      <td>0.315047</td>
      <td>0.301537</td>
      <td>0.096653</td>
      <td>0.015661</td>
      <td>0.047095</td>
      <td>0.004015</td>
      <td>0.009250</td>
      <td>99</td>
      <td>230</td>
      <td>45079</td>
      <td>T206</td>
      <td>417</td>
      <td>1.0</td>
      <td>0.919753</td>
    </tr>
    <tr>
      <th>2828</th>
      <td>A144AF</td>
      <td>NaN</td>
      <td>0.328358</td>
      <td>0.134328</td>
      <td>0.074627</td>
      <td>0.029851</td>
      <td>0.432836</td>
      <td>0.492537</td>
      <td>0.328358</td>
      <td>0.164179</td>
      <td>0.000000</td>
      <td>0.014925</td>
      <td>0.134059</td>
      <td>0.274446</td>
      <td>0.197484</td>
      <td>0.148554</td>
      <td>0.245457</td>
      <td>0.001251</td>
      <td>0.005371</td>
      <td>0.008167</td>
      <td>0.053271</td>
      <td>0.931940</td>
      <td>0.152969</td>
      <td>0.248841</td>
      <td>0.266132</td>
      <td>0.175116</td>
      <td>0.010448</td>
      <td>0.064013</td>
      <td>0.014495</td>
      <td>0.018247</td>
      <td>67</td>
      <td>5103</td>
      <td>13591</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.896639</td>
    </tr>
    <tr>
      <th>2720</th>
      <td>A13098</td>
      <td>NaN</td>
      <td>0.166667</td>
      <td>0.166667</td>
      <td>0.166667</td>
      <td>0.083333</td>
      <td>0.416667</td>
      <td>0.250000</td>
      <td>0.583333</td>
      <td>0.166667</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.866572</td>
      <td>0.071664</td>
      <td>0.035361</td>
      <td>0.020745</td>
      <td>0.005658</td>
      <td>0.053748</td>
      <td>0.123055</td>
      <td>0.665724</td>
      <td>0.157473</td>
      <td>0.000000</td>
      <td>0.151344</td>
      <td>0.176803</td>
      <td>0.181047</td>
      <td>0.300802</td>
      <td>0.019331</td>
      <td>0.085809</td>
      <td>0.010372</td>
      <td>0.028289</td>
      <td>12</td>
      <td>4415</td>
      <td>2121</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.896194</td>
    </tr>
    <tr>
      <th>8466</th>
      <td>A4FB3C</td>
      <td>NaN</td>
      <td>0.416667</td>
      <td>0.125000</td>
      <td>0.083333</td>
      <td>0.041667</td>
      <td>0.333333</td>
      <td>0.458333</td>
      <td>0.458333</td>
      <td>0.083333</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.562937</td>
      <td>0.226224</td>
      <td>0.138811</td>
      <td>0.056294</td>
      <td>0.015734</td>
      <td>0.000000</td>
      <td>0.009091</td>
      <td>0.039860</td>
      <td>0.866434</td>
      <td>0.084615</td>
      <td>0.144406</td>
      <td>0.226923</td>
      <td>0.222378</td>
      <td>0.268182</td>
      <td>0.013986</td>
      <td>0.062587</td>
      <td>0.004196</td>
      <td>0.017483</td>
      <td>24</td>
      <td>5310</td>
      <td>2860</td>
      <td>P210</td>
      <td>322</td>
      <td>1.0</td>
      <td>0.890482</td>
    </tr>
    <tr>
      <th>9204</th>
      <td>A565E6</td>
      <td>NaN</td>
      <td>0.333333</td>
      <td>0.200000</td>
      <td>0.066667</td>
      <td>0.000000</td>
      <td>0.400000</td>
      <td>0.600000</td>
      <td>0.266667</td>
      <td>0.133333</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.058968</td>
      <td>0.120803</td>
      <td>0.190418</td>
      <td>0.151515</td>
      <td>0.478296</td>
      <td>0.000819</td>
      <td>0.001229</td>
      <td>0.017199</td>
      <td>0.014742</td>
      <td>0.966011</td>
      <td>0.106880</td>
      <td>0.240377</td>
      <td>0.303440</td>
      <td>0.207617</td>
      <td>0.008190</td>
      <td>0.064701</td>
      <td>0.014333</td>
      <td>0.017199</td>
      <td>15</td>
      <td>5106</td>
      <td>2442</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.889338</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>15256</th>
      <td>AA3DAF</td>
      <td>NaN</td>
      <td>0.087719</td>
      <td>0.192982</td>
      <td>0.280702</td>
      <td>0.175439</td>
      <td>0.263158</td>
      <td>0.087719</td>
      <td>0.526316</td>
      <td>0.245614</td>
      <td>0.140351</td>
      <td>0.000000</td>
      <td>0.256432</td>
      <td>0.545244</td>
      <td>0.195710</td>
      <td>0.001842</td>
      <td>0.000772</td>
      <td>0.005823</td>
      <td>0.000000</td>
      <td>0.114491</td>
      <td>0.879033</td>
      <td>0.000654</td>
      <td>0.135702</td>
      <td>0.091854</td>
      <td>0.285426</td>
      <td>0.106530</td>
      <td>0.086448</td>
      <td>0.211514</td>
      <td>0.020914</td>
      <td>0.011467</td>
      <td>57</td>
      <td>362</td>
      <td>16831</td>
      <td>C182</td>
      <td>91</td>
      <td>0.0</td>
      <td>0.323519</td>
    </tr>
    <tr>
      <th>14100</th>
      <td>A95959</td>
      <td>NaN</td>
      <td>0.279817</td>
      <td>0.619266</td>
      <td>0.077982</td>
      <td>0.018349</td>
      <td>0.004587</td>
      <td>0.160550</td>
      <td>0.532110</td>
      <td>0.293578</td>
      <td>0.013761</td>
      <td>0.000000</td>
      <td>0.185068</td>
      <td>0.140729</td>
      <td>0.144585</td>
      <td>0.149317</td>
      <td>0.380301</td>
      <td>0.000175</td>
      <td>0.075535</td>
      <td>0.594988</td>
      <td>0.328952</td>
      <td>0.000351</td>
      <td>0.124956</td>
      <td>0.090256</td>
      <td>0.117946</td>
      <td>0.293200</td>
      <td>0.011917</td>
      <td>0.170172</td>
      <td>0.060813</td>
      <td>0.075359</td>
      <td>218</td>
      <td>1200</td>
      <td>5706</td>
      <td>C208</td>
      <td>97</td>
      <td>0.0</td>
      <td>0.323506</td>
    </tr>
    <tr>
      <th>19765</th>
      <td>ADFF65</td>
      <td>NaN</td>
      <td>0.200000</td>
      <td>0.000000</td>
      <td>0.300000</td>
      <td>0.500000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.100000</td>
      <td>0.500000</td>
      <td>0.100000</td>
      <td>0.200000</td>
      <td>0.016369</td>
      <td>0.000000</td>
      <td>0.002976</td>
      <td>0.025298</td>
      <td>0.955357</td>
      <td>0.000000</td>
      <td>0.034226</td>
      <td>0.014881</td>
      <td>0.074405</td>
      <td>0.876488</td>
      <td>0.098214</td>
      <td>0.092262</td>
      <td>0.159226</td>
      <td>0.245536</td>
      <td>0.032738</td>
      <td>0.218750</td>
      <td>0.043155</td>
      <td>0.059524</td>
      <td>10</td>
      <td>4552</td>
      <td>672</td>
      <td>unknown</td>
      <td>454</td>
      <td>0.0</td>
      <td>0.321905</td>
    </tr>
    <tr>
      <th>2629</th>
      <td>A11FB5</td>
      <td>NaN</td>
      <td>0.090909</td>
      <td>0.272727</td>
      <td>0.090909</td>
      <td>0.363636</td>
      <td>0.181818</td>
      <td>0.181818</td>
      <td>0.454545</td>
      <td>0.181818</td>
      <td>0.000000</td>
      <td>0.181818</td>
      <td>0.071307</td>
      <td>0.691002</td>
      <td>0.230900</td>
      <td>0.006791</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.044143</td>
      <td>0.723260</td>
      <td>0.232598</td>
      <td>0.112054</td>
      <td>0.101868</td>
      <td>0.190153</td>
      <td>0.134126</td>
      <td>0.028862</td>
      <td>0.317487</td>
      <td>0.039049</td>
      <td>0.028862</td>
      <td>11</td>
      <td>0</td>
      <td>589</td>
      <td>C82R</td>
      <td>132</td>
      <td>0.0</td>
      <td>0.321645</td>
    </tr>
    <tr>
      <th>1355</th>
      <td>A0519F</td>
      <td>NaN</td>
      <td>0.187500</td>
      <td>0.156250</td>
      <td>0.125000</td>
      <td>0.500000</td>
      <td>0.031250</td>
      <td>0.093750</td>
      <td>0.156250</td>
      <td>0.062500</td>
      <td>0.125000</td>
      <td>0.562500</td>
      <td>0.049751</td>
      <td>0.072554</td>
      <td>0.153814</td>
      <td>0.171642</td>
      <td>0.552239</td>
      <td>0.046434</td>
      <td>0.071310</td>
      <td>0.115257</td>
      <td>0.198176</td>
      <td>0.568823</td>
      <td>0.041874</td>
      <td>0.080431</td>
      <td>0.250415</td>
      <td>0.250829</td>
      <td>0.055970</td>
      <td>0.252488</td>
      <td>0.024046</td>
      <td>0.016998</td>
      <td>32</td>
      <td>4610</td>
      <td>2412</td>
      <td>C501</td>
      <td>119</td>
      <td>0.0</td>
      <td>0.321207</td>
    </tr>
  </tbody>
</table>
<p>200 rows  37 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">top_predictions</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;planes-to-research.csv&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Questions">Questions<a class="anchor-link" href="#Questions">#</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-1">Question 1<a class="anchor-link" href="#Question-1">#</a></h3><p>What kind of machine learning are we doing here, and why are we doing it?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Classification (or supervised learning) because we have labels</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-2">Question 2<a class="anchor-link" href="#Question-2">#</a></h3><p>What are a few different ways you can deal with categorical data? Think about how we dealt with race in the reveal regression compared to how we dealt with type in this dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># You can one-hot encode them if you have few</span>
<span class="c1"># You can just make them numbers if you have a lot</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-3">Question 3<a class="anchor-link" href="#Question-3">#</a></h3><p>Every time we ran a machine learning algorithm on our dataset, we looked at feature importance.</p>
<ul>
<li>When might it be important to explain what our model found important?</li>
<li>When might it not be important?</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># If we&#39;re trying to understand what&#39;s going wrong or why it is/isn&#39;t working well</span>
<span class="c1"># It&#39;s more important if we&#39;re presenting this to the public</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-4">Question 4<a class="anchor-link" href="#Question-4">#</a></h3><p>Using words and not column names, describe what the machine learning algorithm found to be important when identifying surveillance planes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Slow speed, constant turning vs going straight</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-5">Question 5<a class="anchor-link" href="#Question-5">#</a></h3><p>Why did we use test/train split when it would have been more effective to give our model all of the data from the start?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Shouldn&#39;t test on things that it&#39;s already seen</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-6">Question 6<a class="anchor-link" href="#Question-6">#</a></h3><p>Why did we use a random forest instead of a decision tree or logistic regression? Was there something about the data?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Because it did a better job!!!</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-7">Question 7<a class="anchor-link" href="#Question-7">#</a></h3><p>Why did we use probability instead of just looking for planes with a predicted value of 1? It seems like we should have just trusted the algorithm, right?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># The 0/1 is an arbitrary cutoff of 50%, we&#39;re fine going lower because it gives us more to research</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-8">Question 8<a class="anchor-link" href="#Question-8">#</a></h3><p>What if our random forest or input dataset were flawed? What would be the repercussions?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># We&#39;d be investigating a bunch of planes that didn&#39;t need to be investigated</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-9">Question 9<a class="anchor-link" href="#Question-9">#</a></h3><p>The government could claim that we're threatening national security by publishing this paper as well as publishing this code - now anyone could look for planes that are surveilling them. What do you think?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Up to you!</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-10">Question 10<a class="anchor-link" href="#Question-10">#</a></h3><p>We're using data from the past, but you can get real-time flight data from many services. Can you think of any uses for this algorithm using real-time instead of historical data?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Finding out when something crazy is going on police-wise, maybe</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-11">Question 11<a class="anchor-link" href="#Question-11">#</a></h3><p>This isn't a question, but if you look at <code>candidates.csv</code> and <code>candidates-annotates.csv</code> you can see how Buzzfeed did their research after finding a list of suspicious planes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># k</span>
</pre></div>

    </div>
</div>
</div>

</div>
 


    </div>
  </div>
</div>

<script>
  [...document.querySelectorAll(".code_cell")].filter(cell => cell.innerText.trim().length === 0).forEach(cell => cell.remove())
</script>

  <div class="footer bg-secondary">
  <div class="content">
    <div class="columns">
      <div class="column col-6 col-sm-12">
        <p><strong>Hi, welcome to Data Science for Journalism!</strong></p>
        <p>There's been a lot of buzz about machine learning and "artificial intelligence" being used in stories over
          the past few years. It's mostly not that complicated - a little stats, a classifier here or there - but it's
          hard to know where to start without a little help.</p>
        <p>Hopefully this site can be that help! <a href="/ds4j/about">Learn more about this project here.</a></p>
      </div>
      <div class="column col-3 col-sm-6">
        <p><strong>Quick links</strong></p>
        <!-- <p><a href="#">Something here</a></p>
        <p><a href="#">Something here</a></p>
        <p><a href="#">Something here</a></p> -->
      </div>
      <div class="column col-3 col-sm6">
        <p><strong>Contact</strong></p>
        <p><a href="mailto:hello@littlecolumns.com">hello@littlecolumns.com</a></p>
      </div>
    </div>
  </div>
</div>
  <script src="/ds4j/js/tocbot.js"></script>

  <script>
    try {
      let toc = document.createElement("div")
      toc.setAttribute('class', 'js-toc')
      document.querySelector(".reading-options").parentNode.appendChild(toc)
    } catch (err) {

    }

    tocbot.init({
      // Where to render the table of contents.
      tocSelector: '.js-toc',
      // Where to grab the headings to build the table of contents.
      contentSelector: '.notebook',
      // Which headings to grab inside of the contentSelector element.
      headingSelector: 'h1, h2, h3, h4',
      activeLinkClass: 'active',
      listClass: 'nav',
      listItemClass: 'nav-item',
      headingLabelCallback: function (label) {
        return label.replace("#", "")
      }
    });
  </script>

</body>

</html>