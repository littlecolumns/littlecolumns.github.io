<!doctype html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <title>Homework - Buzzfeed Surveillance Planes Random Forests (Completed)</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">
  <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Raleway:400,700|Open+Sans:400,700&display=swap" rel="stylesheet"> -->
  <link rel="stylesheet" href="/ds4j/css/spectre.min.css">
  <link rel="stylesheet" href="/ds4j/css/spectre-exp.min.css">
  <link rel="stylesheet" href="/ds4j/css/spectre-icons.min.css">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/ds4j/css/style.css" rel="stylesheet">
  <link href="/ds4j/css/highlight.css" rel="stylesheet">
</head>

<body>
  <div class="nav-holder bg-secondary">
  <div class='content'>
    <header class="navbar">
      <section class="navbar-section">
        <a href="/ds4j/" class="navbar-brand mr-2">DS4J</a>
      </section>
      <section class="navbar-section">
        <a href="/ds4j/projects" class="btn btn-link">Projects</a>
        <a href="/ds4j/topics" class="btn btn-link">Topics</a>
        <a href="/ds4j/curriculum" class="btn btn-link">Curriculum</a>
        <a href="/ds4j/about" class="btn btn-link">About</a>
      </section>
    </header>
  </div>
</div>
  
<div class="content text-based">
  <div class="columns">
    <div class="column col-12 notebook">
      <ul class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="#">Projects</a>
        </li>
        <li class="breadcrumb-item">
          <a href="/ds4j/buzzfeed-spy-planes/">Uncovering surveillance planes with Buzzfeed</a>
        </li>
        <li class="breadcrumb-item">
          <a href="/ds4j/buzzfeed-spy-planes/homework-buzzfeed-surveillance-planes-random-forests-completed">Homework - Buzzfeed Surveillance Planes Random Forests (Completed)</a>
        </li>
      </ul>

      <div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Finding-surveillance-planes-using-random-forests">Finding surveillance planes using random forests<a class="anchor-link" href="#Finding-surveillance-planes-using-random-forests">#</a></h1><p><strong>The story:</strong></p>
<ul>
<li><a href="https://www.buzzfeednews.com/article/peteraldhous/spies-in-the-skies">https://www.buzzfeednews.com/article/peteraldhous/spies-in-the-skies</a></li>
<li><a href="https://www.buzzfeednews.com/article/peteraldhous/hidden-spy-planes">https://www.buzzfeednews.com/article/peteraldhous/hidden-spy-planes</a></li>
</ul>
<p>This story, done by Peter Aldhous at Buzzfeed News, involved training a machine learning algorithm to recognize government surveillance planes based on what their flight patterns look like.</p>
<p><strong>Topics:</strong> Random Forests</p>
<p><strong>Datasets</strong></p>
<ul>
<li><strong>feds.csv:</strong> Transponder codes of planes operated by the federal government</li>
<li><strong>planes_features.csv:</strong> various features describing each plane's flight patterns</li>
<li><strong>train.csv:</strong> a labeled dataset of transponder codes and whether each plane is a surveillance plane or not<ul>
<li>The <code>label</code> column was originally <code>class</code>, but I renamed it because pandas freaks out a bit with a column named <code>class</code></li>
<li>This was created by Buzzfeed <code>feds.csv</code></li>
</ul>
</li>
<li><strong>data dictionary:</strong> You can find the data dictionary published with their analysis <a href="https://buzzfeednews.github.io/2016-04-federal-surveillance-planes/analysis.html">here</a></li>
<li><strong>a few other files</strong></li>
</ul>
<h2 id="What's-the-goal?">What's the goal?<a class="anchor-link" href="#What's-the-goal?">#</a></h2><p>The FBI and Department of Homeland Security operate many planes that are not directly labeled as belonging to the government. If we can uncover these planes, we have a better idea of the surveillance activities they are undertaking.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p class="reading-options">
  <a class="btn" href="/ds4j/buzzfeed-spy-planes/homework-buzzfeed-surveillance-planes-random-forests-completed">
    <i class="fa fa-sm fa-book"></i>
    Read online
  </a>
  <a class="btn" href="/ds4j/buzzfeed-spy-planes/notebooks/Homework - Buzzfeed Surveillance Planes Random Forests (Completed).ipynb">
    <i class="fa fa-sm fa-download"></i>
    Download notebook
  </a>
  <a class="btn" href="#">
    <i class="fa fa-sm fa-laptop"></i>
    Interactive version
  </a>
</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Imports">Imports<a class="anchor-link" href="#Imports">#</a></h2><p>Also set a large number of maximum columns.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_columns&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Read-in-our-data">Read in our data<a class="anchor-link" href="#Read-in-our-data">#</a></h1><p>Almost all classification problems start with a set of labeled features. In this case, the features are in one CSV file and the labels are in another. <strong>Read both files in and merge them on <code>adshex</code>, the transpoder code.</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Read in your features</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/planes_features.csv&quot;</span><span class="p">)</span>
<span class="n">features</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>0.120253</td>
      <td>0.075949</td>
      <td>0.183544</td>
      <td>0.335443</td>
      <td>0.284810</td>
      <td>0.088608</td>
      <td>0.044304</td>
      <td>0.069620</td>
      <td>0.120253</td>
      <td>0.677215</td>
      <td>0.021824</td>
      <td>0.020550</td>
      <td>0.062330</td>
      <td>0.100713</td>
      <td>0.794582</td>
      <td>0.042374</td>
      <td>0.060971</td>
      <td>0.066831</td>
      <td>0.106403</td>
      <td>0.723421</td>
      <td>0.020211</td>
      <td>0.048913</td>
      <td>0.270550</td>
      <td>0.344090</td>
      <td>0.097317</td>
      <td>0.186651</td>
      <td>0.011379</td>
      <td>0.009426</td>
      <td>158</td>
      <td>0</td>
      <td>11776</td>
      <td>GRND</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A00000</td>
      <td>0.211735</td>
      <td>0.155612</td>
      <td>0.181122</td>
      <td>0.198980</td>
      <td>0.252551</td>
      <td>0.204082</td>
      <td>0.183673</td>
      <td>0.168367</td>
      <td>0.173469</td>
      <td>0.267857</td>
      <td>0.107348</td>
      <td>0.143410</td>
      <td>0.208139</td>
      <td>0.177013</td>
      <td>0.364090</td>
      <td>0.177318</td>
      <td>0.114457</td>
      <td>0.129648</td>
      <td>0.197694</td>
      <td>0.380882</td>
      <td>0.034976</td>
      <td>0.048127</td>
      <td>0.240732</td>
      <td>0.356314</td>
      <td>0.116116</td>
      <td>0.159325</td>
      <td>0.012828</td>
      <td>0.013628</td>
      <td>392</td>
      <td>0</td>
      <td>52465</td>
      <td>TBM7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A00002</td>
      <td>0.517241</td>
      <td>0.103448</td>
      <td>0.103448</td>
      <td>0.103448</td>
      <td>0.172414</td>
      <td>0.862069</td>
      <td>0.137931</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.990792</td>
      <td>0.000921</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.008287</td>
      <td>0.599448</td>
      <td>0.400552</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.105893</td>
      <td>0.090239</td>
      <td>0.174954</td>
      <td>0.244015</td>
      <td>0.034070</td>
      <td>0.202578</td>
      <td>0.021179</td>
      <td>0.068140</td>
      <td>29</td>
      <td>0</td>
      <td>1086</td>
      <td>SHIP</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A00008</td>
      <td>0.125000</td>
      <td>0.041667</td>
      <td>0.208333</td>
      <td>0.166667</td>
      <td>0.458333</td>
      <td>0.125000</td>
      <td>0.083333</td>
      <td>0.125000</td>
      <td>0.166667</td>
      <td>0.500000</td>
      <td>0.187960</td>
      <td>0.278952</td>
      <td>0.221048</td>
      <td>0.190257</td>
      <td>0.121783</td>
      <td>0.014706</td>
      <td>0.053309</td>
      <td>0.149816</td>
      <td>0.279871</td>
      <td>0.502298</td>
      <td>0.029871</td>
      <td>0.044118</td>
      <td>0.202665</td>
      <td>0.380515</td>
      <td>0.094669</td>
      <td>0.182904</td>
      <td>0.014706</td>
      <td>0.020221</td>
      <td>24</td>
      <td>0</td>
      <td>2176</td>
      <td>PA46</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A0001E</td>
      <td>0.100000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.400000</td>
      <td>0.100000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.400000</td>
      <td>0.400000</td>
      <td>0.007937</td>
      <td>0.026984</td>
      <td>0.084127</td>
      <td>0.179365</td>
      <td>0.701587</td>
      <td>0.041270</td>
      <td>0.085714</td>
      <td>0.039683</td>
      <td>0.111111</td>
      <td>0.722222</td>
      <td>0.019048</td>
      <td>0.049206</td>
      <td>0.249206</td>
      <td>0.326984</td>
      <td>0.112698</td>
      <td>0.206349</td>
      <td>0.012698</td>
      <td>0.011111</td>
      <td>10</td>
      <td>1135</td>
      <td>630</td>
      <td>C56X</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Read in your labels</span>
<span class="n">labeled</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/train.csv&quot;</span><span class="p">)</span>
<span class="n">labeled</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A00C4B</td>
      <td>surveil</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A0AB21</td>
      <td>surveil</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A0AE77</td>
      <td>surveil</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A0AE7C</td>
      <td>surveil</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A0C462</td>
      <td>surveil</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">labeled</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;adshex&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A00C4B</td>
      <td>surveil</td>
      <td>0.450000</td>
      <td>0.125000</td>
      <td>0.025000</td>
      <td>0.025000</td>
      <td>0.375000</td>
      <td>0.475000</td>
      <td>0.250000</td>
      <td>0.250000</td>
      <td>0.025000</td>
      <td>0.000000</td>
      <td>0.337128</td>
      <td>0.408286</td>
      <td>0.185431</td>
      <td>0.053026</td>
      <td>0.016129</td>
      <td>0.010226</td>
      <td>0.168564</td>
      <td>0.793274</td>
      <td>0.027936</td>
      <td>0.000000</td>
      <td>0.151697</td>
      <td>0.203774</td>
      <td>0.303922</td>
      <td>0.154544</td>
      <td>0.033312</td>
      <td>0.088024</td>
      <td>0.010858</td>
      <td>0.010753</td>
      <td>40</td>
      <td>4414</td>
      <td>9486</td>
      <td>C182</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A0AB21</td>
      <td>surveil</td>
      <td>0.523810</td>
      <td>0.000000</td>
      <td>0.047619</td>
      <td>0.095238</td>
      <td>0.333333</td>
      <td>0.714286</td>
      <td>0.095238</td>
      <td>0.047619</td>
      <td>0.142857</td>
      <td>0.000000</td>
      <td>0.703329</td>
      <td>0.144543</td>
      <td>0.114201</td>
      <td>0.026549</td>
      <td>0.011378</td>
      <td>0.007164</td>
      <td>0.580700</td>
      <td>0.374210</td>
      <td>0.037927</td>
      <td>0.000000</td>
      <td>0.141593</td>
      <td>0.152550</td>
      <td>0.166456</td>
      <td>0.309313</td>
      <td>0.008007</td>
      <td>0.078382</td>
      <td>0.021492</td>
      <td>0.064054</td>
      <td>21</td>
      <td>4414</td>
      <td>2373</td>
      <td>C182</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A0AE77</td>
      <td>surveil</td>
      <td>0.262295</td>
      <td>0.196721</td>
      <td>0.081967</td>
      <td>0.114754</td>
      <td>0.344262</td>
      <td>0.639344</td>
      <td>0.295082</td>
      <td>0.032787</td>
      <td>0.032787</td>
      <td>0.000000</td>
      <td>0.703037</td>
      <td>0.181262</td>
      <td>0.066502</td>
      <td>0.030956</td>
      <td>0.018244</td>
      <td>0.000000</td>
      <td>0.000118</td>
      <td>0.034134</td>
      <td>0.923376</td>
      <td>0.042373</td>
      <td>0.121234</td>
      <td>0.256709</td>
      <td>0.279779</td>
      <td>0.209981</td>
      <td>0.009416</td>
      <td>0.037900</td>
      <td>0.011064</td>
      <td>0.027778</td>
      <td>61</td>
      <td>4414</td>
      <td>8496</td>
      <td>T206</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A0AE7C</td>
      <td>surveil</td>
      <td>0.521739</td>
      <td>0.086957</td>
      <td>0.043478</td>
      <td>0.043478</td>
      <td>0.304348</td>
      <td>0.565217</td>
      <td>0.043478</td>
      <td>0.260870</td>
      <td>0.000000</td>
      <td>0.130435</td>
      <td>0.129674</td>
      <td>0.291088</td>
      <td>0.384954</td>
      <td>0.098159</td>
      <td>0.096126</td>
      <td>0.000000</td>
      <td>0.004631</td>
      <td>0.200723</td>
      <td>0.722806</td>
      <td>0.071840</td>
      <td>0.159494</td>
      <td>0.256636</td>
      <td>0.238111</td>
      <td>0.168305</td>
      <td>0.023043</td>
      <td>0.086073</td>
      <td>0.014007</td>
      <td>0.014797</td>
      <td>23</td>
      <td>4415</td>
      <td>8853</td>
      <td>T206</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A0C462</td>
      <td>surveil</td>
      <td>0.250000</td>
      <td>0.083333</td>
      <td>0.500000</td>
      <td>0.083333</td>
      <td>0.083333</td>
      <td>0.208333</td>
      <td>0.041667</td>
      <td>0.041667</td>
      <td>0.500000</td>
      <td>0.208333</td>
      <td>0.040691</td>
      <td>0.002466</td>
      <td>0.041924</td>
      <td>0.170160</td>
      <td>0.744760</td>
      <td>0.011097</td>
      <td>0.007398</td>
      <td>0.023428</td>
      <td>0.090012</td>
      <td>0.868064</td>
      <td>0.019729</td>
      <td>0.020962</td>
      <td>0.199753</td>
      <td>0.478422</td>
      <td>0.119605</td>
      <td>0.118372</td>
      <td>0.006165</td>
      <td>0.011097</td>
      <td>24</td>
      <td>1731</td>
      <td>811</td>
      <td>P8</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="No-wait,-merge-them-again!">No wait, merge them again!<a class="anchor-link" href="#No-wait,-merge-them-again!">#</a></h3><p>We have features for about 20,000 planes and labels for about 600 planes. When you merge, the planes you have features for but not labels for will disappear.</p>
<p>We want to keep those in the dataframe so we can play detective with them later, and try to find surveillance planes using the features. When you merge, you should use <code>how='left'</code> or <code>how='right'</code> to keep unmatched columns from the left (or right) dataframe.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">labeled</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;adshex&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Confirm you have 19,799 rows and 34 columns.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(19799, 34)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Cleaning-up-our-data">Cleaning up our data<a class="anchor-link" href="#Cleaning-up-our-data">#</a></h1><h2 id="Number-izing-our-labels">Number-izing our labels<a class="anchor-link" href="#Number-izing-our-labels">#</a></h2><p>Each row is a plane, and it's marked as either a surveillance plane or not. How many do we have in each category?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>other      500
surveil     97
Name: label, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>How do you feel about that split?</p>
<p><strong>Prepare this column for machine learning.</strong> What's wrong with it as <code>"surveil"</code> and <code>"other"</code>? Add a new column that we can use for classification.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Replace label with numbers</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span>
    <span class="s1">&#39;surveil&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;other&#39;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A00C4B</td>
      <td>1.0</td>
      <td>0.450000</td>
      <td>0.125000</td>
      <td>0.025000</td>
      <td>0.025000</td>
      <td>0.375000</td>
      <td>0.475000</td>
      <td>0.250000</td>
      <td>0.250000</td>
      <td>0.025000</td>
      <td>0.000000</td>
      <td>0.337128</td>
      <td>0.408286</td>
      <td>0.185431</td>
      <td>0.053026</td>
      <td>0.016129</td>
      <td>0.010226</td>
      <td>0.168564</td>
      <td>0.793274</td>
      <td>0.027936</td>
      <td>0.000000</td>
      <td>0.151697</td>
      <td>0.203774</td>
      <td>0.303922</td>
      <td>0.154544</td>
      <td>0.033312</td>
      <td>0.088024</td>
      <td>0.010858</td>
      <td>0.010753</td>
      <td>40</td>
      <td>4414</td>
      <td>9486</td>
      <td>C182</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A0AB21</td>
      <td>1.0</td>
      <td>0.523810</td>
      <td>0.000000</td>
      <td>0.047619</td>
      <td>0.095238</td>
      <td>0.333333</td>
      <td>0.714286</td>
      <td>0.095238</td>
      <td>0.047619</td>
      <td>0.142857</td>
      <td>0.000000</td>
      <td>0.703329</td>
      <td>0.144543</td>
      <td>0.114201</td>
      <td>0.026549</td>
      <td>0.011378</td>
      <td>0.007164</td>
      <td>0.580700</td>
      <td>0.374210</td>
      <td>0.037927</td>
      <td>0.000000</td>
      <td>0.141593</td>
      <td>0.152550</td>
      <td>0.166456</td>
      <td>0.309313</td>
      <td>0.008007</td>
      <td>0.078382</td>
      <td>0.021492</td>
      <td>0.064054</td>
      <td>21</td>
      <td>4414</td>
      <td>2373</td>
      <td>C182</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A0AE77</td>
      <td>1.0</td>
      <td>0.262295</td>
      <td>0.196721</td>
      <td>0.081967</td>
      <td>0.114754</td>
      <td>0.344262</td>
      <td>0.639344</td>
      <td>0.295082</td>
      <td>0.032787</td>
      <td>0.032787</td>
      <td>0.000000</td>
      <td>0.703037</td>
      <td>0.181262</td>
      <td>0.066502</td>
      <td>0.030956</td>
      <td>0.018244</td>
      <td>0.000000</td>
      <td>0.000118</td>
      <td>0.034134</td>
      <td>0.923376</td>
      <td>0.042373</td>
      <td>0.121234</td>
      <td>0.256709</td>
      <td>0.279779</td>
      <td>0.209981</td>
      <td>0.009416</td>
      <td>0.037900</td>
      <td>0.011064</td>
      <td>0.027778</td>
      <td>61</td>
      <td>4414</td>
      <td>8496</td>
      <td>T206</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A0AE7C</td>
      <td>1.0</td>
      <td>0.521739</td>
      <td>0.086957</td>
      <td>0.043478</td>
      <td>0.043478</td>
      <td>0.304348</td>
      <td>0.565217</td>
      <td>0.043478</td>
      <td>0.260870</td>
      <td>0.000000</td>
      <td>0.130435</td>
      <td>0.129674</td>
      <td>0.291088</td>
      <td>0.384954</td>
      <td>0.098159</td>
      <td>0.096126</td>
      <td>0.000000</td>
      <td>0.004631</td>
      <td>0.200723</td>
      <td>0.722806</td>
      <td>0.071840</td>
      <td>0.159494</td>
      <td>0.256636</td>
      <td>0.238111</td>
      <td>0.168305</td>
      <td>0.023043</td>
      <td>0.086073</td>
      <td>0.014007</td>
      <td>0.014797</td>
      <td>23</td>
      <td>4415</td>
      <td>8853</td>
      <td>T206</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A0C462</td>
      <td>1.0</td>
      <td>0.250000</td>
      <td>0.083333</td>
      <td>0.500000</td>
      <td>0.083333</td>
      <td>0.083333</td>
      <td>0.208333</td>
      <td>0.041667</td>
      <td>0.041667</td>
      <td>0.500000</td>
      <td>0.208333</td>
      <td>0.040691</td>
      <td>0.002466</td>
      <td>0.041924</td>
      <td>0.170160</td>
      <td>0.744760</td>
      <td>0.011097</td>
      <td>0.007398</td>
      <td>0.023428</td>
      <td>0.090012</td>
      <td>0.868064</td>
      <td>0.019729</td>
      <td>0.020962</td>
      <td>0.199753</td>
      <td>0.478422</td>
      <td>0.119605</td>
      <td>0.118372</td>
      <td>0.006165</td>
      <td>0.011097</td>
      <td>24</td>
      <td>1731</td>
      <td>811</td>
      <td>P8</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Categorical-variables">Categorical variables<a class="anchor-link" href="#Categorical-variables">#</a></h2><p>Do we have any variables that count as categories? Yes, we do! ...but how many different categories does it have?</p>
<ul>
<li><strong>Tip:</strong> You can use <code>.unique()</code> or <code>.value_counts()</code> to count unique items, depending on what you're looking for</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>unknown    2528
C172       1014
SR22        799
BE36        699
C182        693
           ... 
ONEX          1
SVNH          1
B55           1
SWAK          1
A4            1
Name: type, Length: 455, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Most of those types of plane only have one appearance, which means they wouldn't be very helpful identifiers in the final analysis. For example, if I only see one GLF5 and it's a surveillance plane, does that mean the next one I see is probably a surveillance plane? With such a small sample size, I have no idea!</p>
<p>We have a few options</p>
<ol>
<li>Create a very large set of dummy variables out of all 133 types of planes</li>
<li>Create <code>0</code>/<code>1</code> columns for common plane types and ignore the less common ones -  C182, T206, SR22</li>
<li>Interview someone who knows something about planes and put these into a few broader categories</li>
<li>Keep them as one column, just turn them into numbers - it doesn't make sense in terms of order, but if one or two plane types are very indicative of a surveillance plane the forest might pick it up</li>
</ol>
<p>Oddly enough, <strong>the last one is a common approach.</strong> Let's use it!</p>
<p>If you want to convert a list of categories into numbers, an easy way is to use the <code>Categorical</code> data type.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0    C182
1    C182
2    T206
3    T206
4      P8
Name: type, dtype: category
Categories (455, object): [208, A109, A119, A139, ..., WW24, XL2, ZZZZ, unknown]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It looks like a normal bunch of strings, but pandas is secretly using a number for each one! You can find the number with <code>.cat.codes</code>.</p>
<p><strong>Use <code>df.type.cat.codes</code> to make a new columns called <code>type_code</code>.</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;type_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
<span class="n">df</span><span class="p">[[</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;type_code&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>type</th>
      <th>type_code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>C182</td>
      <td>91</td>
    </tr>
    <tr>
      <th>1</th>
      <td>C182</td>
      <td>91</td>
    </tr>
    <tr>
      <th>2</th>
      <td>T206</td>
      <td>417</td>
    </tr>
    <tr>
      <th>3</th>
      <td>T206</td>
      <td>417</td>
    </tr>
    <tr>
      <th>4</th>
      <td>P8</td>
      <td>337</td>
    </tr>
    <tr>
      <th>5</th>
      <td>BE20</td>
      <td>48</td>
    </tr>
    <tr>
      <th>6</th>
      <td>BE20</td>
      <td>48</td>
    </tr>
    <tr>
      <th>7</th>
      <td>BE20</td>
      <td>48</td>
    </tr>
    <tr>
      <th>8</th>
      <td>C182</td>
      <td>91</td>
    </tr>
    <tr>
      <th>9</th>
      <td>C182</td>
      <td>91</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We'll use <code>type_code</code> for machine learning since sklearn needs a number, and <code>type</code> for reading since we like text.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Building-our-classifier">Building our classifier<a class="anchor-link" href="#Building-our-classifier">#</a></h1><p>When we're about to classify, we usually just drop our target column to build our inputs and outputs:</p>
<div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;column_you_are_predicting&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">column_you_are_predicting</span>
</pre></div>
<p>This time is a little different. First, we have unlabeled data in there! Use <code>.dropna()</code> to filter your training data so we only have labeled data.</p>
<p>Confirm <code>train_df</code> has 597 rows and 35 columns.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">train_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(597, 35)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We also have a few extra columns that we aren't using for classification (like the text version of the type column and the transponder code). It's fine to drop multiple columns here that you aren't using, just a little bit messier. You also have to make sure you're dropping all the right ones.</p>
<p>Do a <code>.head()</code> to double-check all of the columns you need to drop when creating your <code>X</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
      <th>type_code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A00C4B</td>
      <td>1.0</td>
      <td>0.45000</td>
      <td>0.125</td>
      <td>0.025000</td>
      <td>0.025000</td>
      <td>0.375000</td>
      <td>0.475000</td>
      <td>0.250000</td>
      <td>0.250000</td>
      <td>0.025000</td>
      <td>0.0</td>
      <td>0.337128</td>
      <td>0.408286</td>
      <td>0.185431</td>
      <td>0.053026</td>
      <td>0.016129</td>
      <td>0.010226</td>
      <td>0.168564</td>
      <td>0.793274</td>
      <td>0.027936</td>
      <td>0.0</td>
      <td>0.151697</td>
      <td>0.203774</td>
      <td>0.303922</td>
      <td>0.154544</td>
      <td>0.033312</td>
      <td>0.088024</td>
      <td>0.010858</td>
      <td>0.010753</td>
      <td>40</td>
      <td>4414</td>
      <td>9486</td>
      <td>C182</td>
      <td>91</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A0AB21</td>
      <td>1.0</td>
      <td>0.52381</td>
      <td>0.000</td>
      <td>0.047619</td>
      <td>0.095238</td>
      <td>0.333333</td>
      <td>0.714286</td>
      <td>0.095238</td>
      <td>0.047619</td>
      <td>0.142857</td>
      <td>0.0</td>
      <td>0.703329</td>
      <td>0.144543</td>
      <td>0.114201</td>
      <td>0.026549</td>
      <td>0.011378</td>
      <td>0.007164</td>
      <td>0.580700</td>
      <td>0.374210</td>
      <td>0.037927</td>
      <td>0.0</td>
      <td>0.141593</td>
      <td>0.152550</td>
      <td>0.166456</td>
      <td>0.309313</td>
      <td>0.008007</td>
      <td>0.078382</td>
      <td>0.021492</td>
      <td>0.064054</td>
      <td>21</td>
      <td>4414</td>
      <td>2373</td>
      <td>C182</td>
      <td>91</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Create-your-X-and-y.">Create your <code>X</code> and <code>y</code>.<a class="anchor-link" href="#Create-your-X-and-y.">#</a></h3><p>When you do <code>train_df.drop</code>, you'll want to remove more than just your <code>0</code>/<code>1</code> surveillance label. What other columns do you not want to use as input? Maybe some categories you converted into codes?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;adshex&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">label</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Triple-check that <code>X</code> is a list of numeric features and and <code>y</code> is a numeric label.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type_code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.45000</td>
      <td>0.125</td>
      <td>0.025000</td>
      <td>0.025000</td>
      <td>0.375000</td>
      <td>0.475000</td>
      <td>0.250000</td>
      <td>0.250000</td>
      <td>0.025000</td>
      <td>0.0</td>
      <td>0.337128</td>
      <td>0.408286</td>
      <td>0.185431</td>
      <td>0.053026</td>
      <td>0.016129</td>
      <td>0.010226</td>
      <td>0.168564</td>
      <td>0.793274</td>
      <td>0.027936</td>
      <td>0.0</td>
      <td>0.151697</td>
      <td>0.203774</td>
      <td>0.303922</td>
      <td>0.154544</td>
      <td>0.033312</td>
      <td>0.088024</td>
      <td>0.010858</td>
      <td>0.010753</td>
      <td>40</td>
      <td>4414</td>
      <td>9486</td>
      <td>91</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.52381</td>
      <td>0.000</td>
      <td>0.047619</td>
      <td>0.095238</td>
      <td>0.333333</td>
      <td>0.714286</td>
      <td>0.095238</td>
      <td>0.047619</td>
      <td>0.142857</td>
      <td>0.0</td>
      <td>0.703329</td>
      <td>0.144543</td>
      <td>0.114201</td>
      <td>0.026549</td>
      <td>0.011378</td>
      <td>0.007164</td>
      <td>0.580700</td>
      <td>0.374210</td>
      <td>0.037927</td>
      <td>0.0</td>
      <td>0.141593</td>
      <td>0.152550</td>
      <td>0.166456</td>
      <td>0.309313</td>
      <td>0.008007</td>
      <td>0.078382</td>
      <td>0.021492</td>
      <td>0.064054</td>
      <td>21</td>
      <td>4414</td>
      <td>2373</td>
      <td>91</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0    1.0
1    1.0
Name: label, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Split-into-test-and-train-datasets">Split into test and train datasets<a class="anchor-link" href="#Split-into-test-and-train-datasets">#</a></h3><p>We could be nice and lazy and use all our data for training, but it just isn't right! Taking a test using the exact same questions you studied is just cheating. Split your data into test and train.</p>
<ul>
<li><strong>Tip:</strong> Don't do this manually! There's a method for it in sklearn</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Classify-using-a-logistic-classifier">Classify using a logistic classifier<a class="anchor-link" href="#Classify-using-a-logistic-classifier">#</a></h1><h2 id="Train-your-classifier">Train your classifier<a class="anchor-link" href="#Train-your-classifier">#</a></h2><p>Build a <code>LogisticRegression</code> and fit it to your data, making sure you're training using only <code>X_train</code> and <code>y_train</code>.</p>
<ul>
<li><strong>Tip:</strong> You'll want to give <code>LogisticRegression</code> an extra argument of <code>max_iter=4000</code> - it means "work a little harder than you expect," because otherwise it won't find an answer (by default it only has a <code>max_iter</code> of 100)</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">C</span><span class="o">=</span><span class="mf">1e9</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;lbfgs&#39;</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">4000</span><span class="p">)</span>

<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>LogisticRegression(C=1000000000.0, class_weight=None, dual=False,
                   fit_intercept=True, intercept_scaling=1, l1_ratio=None,
                   max_iter=4000, multi_class=&#39;warn&#39;, n_jobs=None, penalty=&#39;l2&#39;,
                   random_state=None, solver=&#39;lbfgs&#39;, tol=0.0001, verbose=0,
                   warm_start=False)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Examine-the-coefficients">Examine the coefficients<a class="anchor-link" href="#Examine-the-coefficients">#</a></h2><p>What does it mean? What features is the classifier using? Do you care about the odds ratio? <strong>What is even the point of this <code>LogisticRegression</code> thing?</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">feature_names</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>
<span class="n">coefficients</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">coef_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;feature&#39;</span><span class="p">:</span> <span class="n">feature_names</span><span class="p">,</span>
    <span class="s1">&#39;coefficient (log odds ratio)&#39;</span><span class="p">:</span> <span class="n">coefficients</span><span class="p">,</span>
    <span class="s1">&#39;odds ratio&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">coefficients</span><span class="p">)</span>
<span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;odds ratio&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature</th>
      <th>coefficient (log odds ratio)</th>
      <th>odds ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>10</th>
      <td>speed1</td>
      <td>1.447766</td>
      <td>4.253599</td>
    </tr>
    <tr>
      <th>21</th>
      <td>steer2</td>
      <td>1.338694</td>
      <td>3.814059</td>
    </tr>
    <tr>
      <th>5</th>
      <td>boxes1</td>
      <td>1.268778</td>
      <td>3.556505</td>
    </tr>
    <tr>
      <th>17</th>
      <td>altitude3</td>
      <td>1.141874</td>
      <td>3.132633</td>
    </tr>
    <tr>
      <th>6</th>
      <td>boxes2</td>
      <td>1.014060</td>
      <td>2.756771</td>
    </tr>
    <tr>
      <th>20</th>
      <td>steer1</td>
      <td>0.795367</td>
      <td>2.215254</td>
    </tr>
    <tr>
      <th>0</th>
      <td>duration1</td>
      <td>0.764637</td>
      <td>2.148214</td>
    </tr>
    <tr>
      <th>18</th>
      <td>altitude4</td>
      <td>0.697910</td>
      <td>2.009549</td>
    </tr>
    <tr>
      <th>11</th>
      <td>speed2</td>
      <td>0.156261</td>
      <td>1.169132</td>
    </tr>
    <tr>
      <th>1</th>
      <td>duration2</td>
      <td>0.100908</td>
      <td>1.106175</td>
    </tr>
    <tr>
      <th>27</th>
      <td>steer8</td>
      <td>0.038013</td>
      <td>1.038745</td>
    </tr>
    <tr>
      <th>26</th>
      <td>steer7</td>
      <td>0.024434</td>
      <td>1.024735</td>
    </tr>
    <tr>
      <th>29</th>
      <td>squawk_1</td>
      <td>0.000692</td>
      <td>1.000692</td>
    </tr>
    <tr>
      <th>30</th>
      <td>observations</td>
      <td>0.000016</td>
      <td>1.000016</td>
    </tr>
    <tr>
      <th>31</th>
      <td>type_code</td>
      <td>-0.001655</td>
      <td>0.998347</td>
    </tr>
    <tr>
      <th>28</th>
      <td>flights</td>
      <td>-0.008012</td>
      <td>0.992020</td>
    </tr>
    <tr>
      <th>7</th>
      <td>boxes3</td>
      <td>-0.179434</td>
      <td>0.835743</td>
    </tr>
    <tr>
      <th>4</th>
      <td>duration5</td>
      <td>-0.302759</td>
      <td>0.738777</td>
    </tr>
    <tr>
      <th>22</th>
      <td>steer3</td>
      <td>-0.306910</td>
      <td>0.735717</td>
    </tr>
    <tr>
      <th>12</th>
      <td>speed3</td>
      <td>-0.375405</td>
      <td>0.687011</td>
    </tr>
    <tr>
      <th>25</th>
      <td>steer6</td>
      <td>-0.716766</td>
      <td>0.488329</td>
    </tr>
    <tr>
      <th>24</th>
      <td>steer5</td>
      <td>-0.823275</td>
      <td>0.438992</td>
    </tr>
    <tr>
      <th>16</th>
      <td>altitude2</td>
      <td>-0.840347</td>
      <td>0.431561</td>
    </tr>
    <tr>
      <th>2</th>
      <td>duration3</td>
      <td>-0.893408</td>
      <td>0.409258</td>
    </tr>
    <tr>
      <th>19</th>
      <td>altitude5</td>
      <td>-1.059270</td>
      <td>0.346709</td>
    </tr>
    <tr>
      <th>8</th>
      <td>boxes4</td>
      <td>-1.178496</td>
      <td>0.307741</td>
    </tr>
    <tr>
      <th>3</th>
      <td>duration4</td>
      <td>-1.302360</td>
      <td>0.271889</td>
    </tr>
    <tr>
      <th>14</th>
      <td>speed5</td>
      <td>-1.415820</td>
      <td>0.242727</td>
    </tr>
    <tr>
      <th>13</th>
      <td>speed4</td>
      <td>-1.445784</td>
      <td>0.235561</td>
    </tr>
    <tr>
      <th>15</th>
      <td>altitude1</td>
      <td>-1.573149</td>
      <td>0.207391</td>
    </tr>
    <tr>
      <th>23</th>
      <td>steer4</td>
      <td>-2.145471</td>
      <td>0.117013</td>
    </tr>
    <tr>
      <th>9</th>
      <td>boxes5</td>
      <td>-2.557890</td>
      <td>0.077468</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-well-does-our-classifier-perform?">How well does our classifier perform?<a class="anchor-link" href="#How-well-does-our-classifier-perform?">#</a></h2><p>Let's take a look at the confusion matrix to see how well this classifier finds surveillance planes. Make sure you're using <code>y_test</code> and <code>X_test</code>, not the full dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>

<span class="n">y_true</span> <span class="o">=</span> <span class="n">y_test</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="n">label_names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;not surveil&#39;</span><span class="p">,</span> <span class="s1">&#39;surveil&#39;</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span>
     <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Predicted &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">,</span>
     <span class="n">index</span><span class="o">=</span><span class="s1">&#39;Is &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Predicted not surveil</th>
      <th>Predicted surveil</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Is not surveil</th>
      <td>126</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Is surveil</th>
      <td>3</td>
      <td>18</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Classify-using-a-decision-tree">Classify using a decision tree<a class="anchor-link" href="#Classify-using-a-decision-tree">#</a></h1><p>Now we'll use a decision tree. This is how you make one:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">()</span>
</pre></div>
<p>But it's up to you to teach it what spy planes look like using your training data.</p>
<p>If we use <code>max_depth=</code> to limit the depth of the tree, it will help us visualize it. For example, <code>max_depth=5</code> will only allow the tree to make five decisions.</p>
<p>Make a decision tree and fit it to your data. Use a <code>max_depth=</code> of something between 2 to 5.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>DecisionTreeClassifier(class_weight=None, criterion=&#39;gini&#39;, max_depth=5,
                       max_features=None, max_leaf_nodes=None,
                       min_impurity_decrease=0.0, min_impurity_split=None,
                       min_samples_leaf=1, min_samples_split=2,
                       min_weight_fraction_leaf=0.0, presort=False,
                       random_state=None, splitter=&#39;best&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-are-the-important-features?">What are the important features?<a class="anchor-link" href="#What-are-the-important-features?">#</a></h2><p>This code is slightly different than feature importance for logistic regression. It looks like this:</p>
<div class="highlight"><pre><span></span><span class="n">feature_names</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>
<span class="n">importances</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">feature_importances_</span>

<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;feature&#39;</span><span class="p">:</span> <span class="n">feature_names</span><span class="p">,</span>
    <span class="s1">&#39;feature importance&#39;</span><span class="p">:</span> <span class="n">importances</span><span class="p">,</span>
<span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;feature importance&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">feature_names</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>
<span class="n">importances</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">feature_importances_</span>

<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;feature&#39;</span><span class="p">:</span> <span class="n">feature_names</span><span class="p">,</span>
    <span class="s1">&#39;feature importance&#39;</span><span class="p">:</span> <span class="n">importances</span><span class="p">,</span>
<span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;feature importance&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature</th>
      <th>feature importance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>21</th>
      <td>steer2</td>
      <td>0.705431</td>
    </tr>
    <tr>
      <th>29</th>
      <td>squawk_1</td>
      <td>0.156122</td>
    </tr>
    <tr>
      <th>3</th>
      <td>duration4</td>
      <td>0.060799</td>
    </tr>
    <tr>
      <th>0</th>
      <td>duration1</td>
      <td>0.028051</td>
    </tr>
    <tr>
      <th>28</th>
      <td>flights</td>
      <td>0.014019</td>
    </tr>
    <tr>
      <th>10</th>
      <td>speed1</td>
      <td>0.008412</td>
    </tr>
    <tr>
      <th>17</th>
      <td>altitude3</td>
      <td>0.008412</td>
    </tr>
    <tr>
      <th>11</th>
      <td>speed2</td>
      <td>0.008355</td>
    </tr>
    <tr>
      <th>19</th>
      <td>altitude5</td>
      <td>0.007886</td>
    </tr>
    <tr>
      <th>12</th>
      <td>speed3</td>
      <td>0.002514</td>
    </tr>
    <tr>
      <th>26</th>
      <td>steer7</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25</th>
      <td>steer6</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>27</th>
      <td>steer8</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>23</th>
      <td>steer4</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>22</th>
      <td>steer3</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>30</th>
      <td>observations</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>20</th>
      <td>steer1</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>24</th>
      <td>steer5</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>16</th>
      <td>altitude2</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>18</th>
      <td>altitude4</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>duration2</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>15</th>
      <td>altitude1</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>14</th>
      <td>speed5</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>13</th>
      <td>speed4</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>9</th>
      <td>boxes5</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>8</th>
      <td>boxes4</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>7</th>
      <td>boxes3</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>6</th>
      <td>boxes2</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>boxes1</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>duration5</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>duration3</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>31</th>
      <td>type_code</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Understanding-the-output">Understanding the output<a class="anchor-link" href="#Understanding-the-output">#</a></h3><p><strong>Why is the feature importance difference than for logistic regression?</strong></p>
<p>Also, if you don't specify a <code>max_depth</code>, that's a LOT of zeroes! It doesn't even use most of the features! <strong>Why not?</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Because it&#39;s a different algorithm</span>
<span class="c1"># Because the features aren&#39;t important</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-well-does-the-tree-perform?">How well does the tree perform?<a class="anchor-link" href="#How-well-does-the-tree-perform?">#</a></h2><p>Display another confusion matrix with your new classifier.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>

<span class="n">y_true</span> <span class="o">=</span> <span class="n">y_test</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="n">label_names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;not surveil&#39;</span><span class="p">,</span> <span class="s1">&#39;surveil&#39;</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span>
     <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Predicted &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">,</span>
     <span class="n">index</span><span class="o">=</span><span class="s1">&#39;Is &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Predicted not surveil</th>
      <th>Predicted surveil</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Is not surveil</th>
      <td>124</td>
      <td>5</td>
    </tr>
    <tr>
      <th>Is surveil</th>
      <td>4</td>
      <td>17</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Visualize-the-tree">Visualize the tree<a class="anchor-link" href="#Visualize-the-tree">#</a></h2><p>You can use this code to visualize the tree. You might need to <code>brew install graphviz</code> and <code>pip install graphviz</code>.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">tree</span>
<span class="kn">import</span> <span class="nn">graphviz</span>

<span class="n">label_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;not surveillance&#39;</span><span class="p">,</span> <span class="s1">&#39;surveillance&#39;</span><span class="p">]</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>

<span class="n">dot_data</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">export_graphviz</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span>
                    <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">,</span>  
                    <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">class_names</span><span class="o">=</span><span class="n">label_names</span><span class="p">)</span>  
<span class="n">graph</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="n">dot_data</span><span class="p">)</span>  
<span class="n">graph</span>
</pre></div>
<ul>
<li><strong>Tip:</strong> You'll probably need to scroll sideways a bit</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">tree</span>
<span class="kn">import</span> <span class="nn">graphviz</span>

<span class="n">label_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;not surveillance&#39;</span><span class="p">,</span> <span class="s1">&#39;surveillance&#39;</span><span class="p">]</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>

<span class="n">dot_data</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">export_graphviz</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span>
                    <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">,</span>  
                    <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">class_names</span><span class="o">=</span><span class="n">label_names</span><span class="p">)</span>  
<span class="n">graph</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="n">dot_data</span><span class="p">)</span>  
<span class="n">graph</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Tree Pages: 1 -->
<svg width="1332pt" height="642pt"
 viewBox="0.00 0.00 1332.44 642.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 638)">
<title>Tree</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-638 1328.439,-638 1328.439,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#ea9b62" stroke="#000000" points="1010.5059,-634 863.2382,-634 863.2382,-556 1010.5059,-556 1010.5059,-634"/>
<text text-anchor="middle" x="936.8721" y="-618.8" font-family="Times,serif" font-size="14.00" fill="#000000">steer2 &lt;= 0.111</text>
<text text-anchor="middle" x="936.8721" y="-604.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.282</text>
<text text-anchor="middle" x="936.8721" y="-590.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 447</text>
<text text-anchor="middle" x="936.8721" y="-576.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [371, 76]</text>
<text text-anchor="middle" x="936.8721" y="-562.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#e68843" stroke="#000000" points="779.5059,-520 632.2382,-520 632.2382,-442 779.5059,-442 779.5059,-520"/>
<text text-anchor="middle" x="705.8721" y="-504.8" font-family="Times,serif" font-size="14.00" fill="#000000">squawk_1 &lt;= 4372.0</text>
<text text-anchor="middle" x="705.8721" y="-490.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.094</text>
<text text-anchor="middle" x="705.8721" y="-476.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 385</text>
<text text-anchor="middle" x="705.8721" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [366, 19]</text>
<text text-anchor="middle" x="705.8721" y="-448.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M863.1471,-558.6163C839.4967,-546.9446 813.1456,-533.9402 788.8778,-521.9639"/>
<polygon fill="#000000" stroke="#000000" points="790.2053,-518.716 779.6889,-517.4291 787.1074,-524.9933 790.2053,-518.716"/>
<text text-anchor="middle" x="787.718" y="-536.9047" font-family="Times,serif" font-size="14.00" fill="#000000">True</text>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<polygon fill="#4aa6e7" stroke="#000000" points="1159.6165,-520 1034.1277,-520 1034.1277,-442 1159.6165,-442 1159.6165,-520"/>
<text text-anchor="middle" x="1096.8721" y="-504.8" font-family="Times,serif" font-size="14.00" fill="#000000">duration4 &lt;= 0.208</text>
<text text-anchor="middle" x="1096.8721" y="-490.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.148</text>
<text text-anchor="middle" x="1096.8721" y="-476.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 62</text>
<text text-anchor="middle" x="1096.8721" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [5, 57]</text>
<text text-anchor="middle" x="1096.8721" y="-448.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 0&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>0&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M991.935,-555.7677C1005.3347,-546.2204 1019.7714,-535.9342 1033.5215,-526.1373"/>
<polygon fill="#000000" stroke="#000000" points="1035.8656,-528.7647 1041.9788,-520.1115 1031.8036,-523.0638 1035.8656,-528.7647"/>
<text text-anchor="middle" x="1037.8396" y="-540.5664" font-family="Times,serif" font-size="14.00" fill="#000000">False</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#e6843e" stroke="#000000" points="543.5059,-406 396.2382,-406 396.2382,-328 543.5059,-328 543.5059,-406"/>
<text text-anchor="middle" x="469.8721" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#000000">duration1 &lt;= 0.358</text>
<text text-anchor="middle" x="469.8721" y="-376.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.046</text>
<text text-anchor="middle" x="469.8721" y="-362.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 343</text>
<text text-anchor="middle" x="469.8721" y="-348.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [335, 8]</text>
<text text-anchor="middle" x="469.8721" y="-334.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M632.171,-445.3986C607.0071,-433.2432 578.6989,-419.5689 552.855,-407.085"/>
<polygon fill="#000000" stroke="#000000" points="554.3526,-403.9215 543.8257,-402.7234 551.3078,-410.2246 554.3526,-403.9215"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<polygon fill="#eeae7f" stroke="#000000" points="779.5059,-406 632.2382,-406 632.2382,-328 779.5059,-328 779.5059,-406"/>
<text text-anchor="middle" x="705.8721" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#000000">squawk_1 &lt;= 4465.5</text>
<text text-anchor="middle" x="705.8721" y="-376.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.387</text>
<text text-anchor="middle" x="705.8721" y="-362.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 42</text>
<text text-anchor="middle" x="705.8721" y="-348.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [31, 11]</text>
<text text-anchor="middle" x="705.8721" y="-334.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 1&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>1&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M705.8721,-441.7677C705.8721,-433.6172 705.8721,-424.9283 705.8721,-416.4649"/>
<polygon fill="#000000" stroke="#000000" points="709.3722,-416.3046 705.8721,-406.3046 702.3722,-416.3047 709.3722,-416.3046"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#e5813a" stroke="#000000" points="378.5059,-292 231.2382,-292 231.2382,-214 378.5059,-214 378.5059,-292"/>
<text text-anchor="middle" x="304.8721" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">speed2 &lt;= 0.003</text>
<text text-anchor="middle" x="304.8721" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.007</text>
<text text-anchor="middle" x="304.8721" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 296</text>
<text text-anchor="middle" x="304.8721" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [295, 1]</text>
<text text-anchor="middle" x="304.8721" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M413.0884,-327.7677C399.1397,-318.1303 384.1011,-307.7401 369.8012,-297.8601"/>
<polygon fill="#000000" stroke="#000000" points="371.6976,-294.9163 361.4808,-292.1115 367.7185,-300.6754 371.6976,-294.9163"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#ea975c" stroke="#000000" points="543.5059,-292 396.2382,-292 396.2382,-214 543.5059,-214 543.5059,-292"/>
<text text-anchor="middle" x="469.8721" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">steer2 &lt;= 0.091</text>
<text text-anchor="middle" x="469.8721" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.254</text>
<text text-anchor="middle" x="469.8721" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 47</text>
<text text-anchor="middle" x="469.8721" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [40, 7]</text>
<text text-anchor="middle" x="469.8721" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 2&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>2&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M469.8721,-327.7677C469.8721,-319.6172 469.8721,-310.9283 469.8721,-302.4649"/>
<polygon fill="#000000" stroke="#000000" points="473.3722,-302.3046 469.8721,-292.3046 466.3722,-302.3047 473.3722,-302.3046"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#ffffff" stroke="#000000" points="213.5059,-178 66.2382,-178 66.2382,-100 213.5059,-100 213.5059,-178"/>
<text text-anchor="middle" x="139.8721" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">altitude3 &lt;= 0.033</text>
<text text-anchor="middle" x="139.8721" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.5</text>
<text text-anchor="middle" x="139.8721" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 2</text>
<text text-anchor="middle" x="139.8721" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 1]</text>
<text text-anchor="middle" x="139.8721" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M248.0884,-213.7677C234.1397,-204.1303 219.1011,-193.7401 204.8012,-183.8601"/>
<polygon fill="#000000" stroke="#000000" points="206.6976,-180.9163 196.4808,-178.1115 202.7185,-186.6754 206.6976,-180.9163"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="#e58139" stroke="#000000" points="378.5059,-171 231.2382,-171 231.2382,-107 378.5059,-107 378.5059,-171"/>
<text text-anchor="middle" x="304.8721" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="304.8721" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 294</text>
<text text-anchor="middle" x="304.8721" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [294, 0]</text>
<text text-anchor="middle" x="304.8721" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 3&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M304.8721,-213.7677C304.8721,-203.3338 304.8721,-192.0174 304.8721,-181.4215"/>
<polygon fill="#000000" stroke="#000000" points="308.3722,-181.1252 304.8721,-171.1252 301.3722,-181.1252 308.3722,-181.1252"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="#399de5" stroke="#000000" points="125.6165,-64 .1277,-64 .1277,0 125.6165,0 125.6165,-64"/>
<text text-anchor="middle" x="62.8721" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="62.8721" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1</text>
<text text-anchor="middle" x="62.8721" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 1]</text>
<text text-anchor="middle" x="62.8721" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M111.6373,-99.7647C105.2622,-90.9057 98.4819,-81.4838 92.0681,-72.571"/>
<polygon fill="#000000" stroke="#000000" points="94.7381,-70.2893 86.0562,-64.2169 89.0564,-74.3781 94.7381,-70.2893"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#e58139" stroke="#000000" points="290.5059,-64 143.2382,-64 143.2382,0 290.5059,0 290.5059,-64"/>
<text text-anchor="middle" x="216.8721" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="216.8721" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1</text>
<text text-anchor="middle" x="216.8721" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 0]</text>
<text text-anchor="middle" x="216.8721" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 4&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>4&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M168.1068,-99.7647C174.482,-90.9057 181.2623,-81.4838 187.6761,-72.571"/>
<polygon fill="#000000" stroke="#000000" points="190.6878,-74.3781 193.688,-64.2169 185.006,-70.2893 190.6878,-74.3781"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<polygon fill="#e89152" stroke="#000000" points="543.5059,-178 396.2382,-178 396.2382,-100 543.5059,-100 543.5059,-178"/>
<text text-anchor="middle" x="469.8721" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">duration1 &lt;= 0.359</text>
<text text-anchor="middle" x="469.8721" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.198</text>
<text text-anchor="middle" x="469.8721" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 45</text>
<text text-anchor="middle" x="469.8721" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [40, 5]</text>
<text text-anchor="middle" x="469.8721" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M469.8721,-213.7677C469.8721,-205.6172 469.8721,-196.9283 469.8721,-188.4649"/>
<polygon fill="#000000" stroke="#000000" points="473.3722,-188.3046 469.8721,-178.3046 466.3722,-188.3047 473.3722,-188.3046"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<polygon fill="#399de5" stroke="#000000" points="686.6165,-171 561.1277,-171 561.1277,-107 686.6165,-107 686.6165,-171"/>
<text text-anchor="middle" x="623.8721" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="623.8721" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 2</text>
<text text-anchor="middle" x="623.8721" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 2]</text>
<text text-anchor="middle" x="623.8721" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 8&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>8&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M522.8701,-213.7677C538.8737,-201.9209 556.4141,-188.9364 572.3218,-177.1606"/>
<polygon fill="#000000" stroke="#000000" points="574.5199,-179.8881 580.4749,-171.1252 570.355,-174.2619 574.5199,-179.8881"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<polygon fill="#399de5" stroke="#000000" points="507.6165,-64 382.1277,-64 382.1277,0 507.6165,0 507.6165,-64"/>
<text text-anchor="middle" x="444.8721" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="444.8721" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1</text>
<text text-anchor="middle" x="444.8721" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 1]</text>
<text text-anchor="middle" x="444.8721" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M460.705,-99.7647C458.7631,-91.4537 456.7055,-82.6472 454.739,-74.2305"/>
<polygon fill="#000000" stroke="#000000" points="458.0828,-73.1583 452.3994,-64.2169 451.2664,-74.751 458.0828,-73.1583"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<polygon fill="#e88e4d" stroke="#000000" points="672.5059,-64 525.2382,-64 525.2382,0 672.5059,0 672.5059,-64"/>
<text text-anchor="middle" x="598.8721" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.165</text>
<text text-anchor="middle" x="598.8721" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 44</text>
<text text-anchor="middle" x="598.8721" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [40, 4]</text>
<text text-anchor="middle" x="598.8721" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 9&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>9&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M517.1744,-99.7647C528.6256,-90.2664 540.8571,-80.121 552.2755,-70.6498"/>
<polygon fill="#000000" stroke="#000000" points="554.5688,-73.295 560.0312,-64.2169 550.0998,-67.9072 554.5688,-73.295"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<polygon fill="#399de5" stroke="#000000" points="727.6165,-285 602.1277,-285 602.1277,-221 727.6165,-221 727.6165,-285"/>
<text text-anchor="middle" x="664.8721" y="-269.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="664.8721" y="-255.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 10</text>
<text text-anchor="middle" x="664.8721" y="-241.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 10]</text>
<text text-anchor="middle" x="664.8721" y="-227.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M691.7622,-327.7677C687.9315,-317.1164 683.77,-305.5455 679.8911,-294.7603"/>
<polygon fill="#000000" stroke="#000000" points="683.1037,-293.3506 676.4259,-285.1252 676.5167,-295.7196 683.1037,-293.3506"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<polygon fill="#e6853f" stroke="#000000" points="892.5059,-292 745.2382,-292 745.2382,-214 892.5059,-214 892.5059,-292"/>
<text text-anchor="middle" x="818.8721" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">altitude5 &lt;= 0.856</text>
<text text-anchor="middle" x="818.8721" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.061</text>
<text text-anchor="middle" x="818.8721" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 32</text>
<text text-anchor="middle" x="818.8721" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [31, 1]</text>
<text text-anchor="middle" x="818.8721" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 13&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>13&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M744.7603,-327.7677C753.8158,-318.632 763.542,-308.8198 772.8722,-299.407"/>
<polygon fill="#000000" stroke="#000000" points="775.3581,-301.8708 779.9122,-292.3046 770.3866,-296.9429 775.3581,-301.8708"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<polygon fill="#e58139" stroke="#000000" points="851.5059,-171 704.2382,-171 704.2382,-107 851.5059,-107 851.5059,-171"/>
<text text-anchor="middle" x="777.8721" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="777.8721" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 30</text>
<text text-anchor="middle" x="777.8721" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [30, 0]</text>
<text text-anchor="middle" x="777.8721" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M804.7622,-213.7677C800.9315,-203.1164 796.77,-191.5455 792.8911,-180.7603"/>
<polygon fill="#000000" stroke="#000000" points="796.1037,-179.3506 789.4259,-171.1252 789.5167,-181.7196 796.1037,-179.3506"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<polygon fill="#ffffff" stroke="#000000" points="1016.5059,-178 869.2382,-178 869.2382,-100 1016.5059,-100 1016.5059,-178"/>
<text text-anchor="middle" x="942.8721" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#000000">speed1 &lt;= 0.031</text>
<text text-anchor="middle" x="942.8721" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.5</text>
<text text-anchor="middle" x="942.8721" y="-134.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 2</text>
<text text-anchor="middle" x="942.8721" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 1]</text>
<text text-anchor="middle" x="942.8721" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 15&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>15&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M861.5458,-213.7677C871.5803,-204.5424 882.3652,-194.6273 892.6953,-185.1302"/>
<polygon fill="#000000" stroke="#000000" points="895.1268,-187.6493 900.1196,-178.3046 890.3891,-182.4961 895.1268,-187.6493"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<polygon fill="#e58139" stroke="#000000" points="886.5059,-64 739.2382,-64 739.2382,0 886.5059,0 886.5059,-64"/>
<text text-anchor="middle" x="812.8721" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="812.8721" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1</text>
<text text-anchor="middle" x="812.8721" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 0]</text>
<text text-anchor="middle" x="812.8721" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 17&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>17&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M895.203,-99.7647C883.663,-90.2664 871.3368,-80.121 859.8298,-70.6498"/>
<polygon fill="#000000" stroke="#000000" points="861.9594,-67.8695 852.0141,-64.2169 857.5108,-73.2743 861.9594,-67.8695"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<polygon fill="#399de5" stroke="#000000" points="1029.6165,-64 904.1277,-64 904.1277,0 1029.6165,0 1029.6165,-64"/>
<text text-anchor="middle" x="966.8721" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="966.8721" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1</text>
<text text-anchor="middle" x="966.8721" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 1]</text>
<text text-anchor="middle" x="966.8721" y="-6.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 17&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>17&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M951.6725,-99.7647C953.5367,-91.4537 955.5119,-82.6472 957.3998,-74.2305"/>
<polygon fill="#000000" stroke="#000000" points="960.8723,-74.7405 959.6459,-64.2169 954.042,-73.2084 960.8723,-74.7405"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<polygon fill="#3c9fe5" stroke="#000000" points="1159.6165,-406 1034.1277,-406 1034.1277,-328 1159.6165,-328 1159.6165,-406"/>
<text text-anchor="middle" x="1096.8721" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#000000">speed3 &lt;= 0.066</text>
<text text-anchor="middle" x="1096.8721" y="-376.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.034</text>
<text text-anchor="middle" x="1096.8721" y="-362.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 58</text>
<text text-anchor="middle" x="1096.8721" y="-348.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 57]</text>
<text text-anchor="middle" x="1096.8721" y="-334.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M1096.8721,-441.7677C1096.8721,-433.6172 1096.8721,-424.9283 1096.8721,-416.4649"/>
<polygon fill="#000000" stroke="#000000" points="1100.3722,-416.3046 1096.8721,-406.3046 1093.3722,-416.3047 1100.3722,-416.3046"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<polygon fill="#e58139" stroke="#000000" points="1324.5059,-399 1177.2382,-399 1177.2382,-335 1324.5059,-335 1324.5059,-399"/>
<text text-anchor="middle" x="1250.8721" y="-383.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1250.8721" y="-369.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 4</text>
<text text-anchor="middle" x="1250.8721" y="-355.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [4, 0]</text>
<text text-anchor="middle" x="1250.8721" y="-341.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 20&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>20&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M1149.8701,-441.7677C1165.8737,-429.9209 1183.4141,-416.9364 1199.3218,-405.1606"/>
<polygon fill="#000000" stroke="#000000" points="1201.5199,-407.8881 1207.4749,-399.1252 1197.355,-402.2619 1201.5199,-407.8881"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<polygon fill="#61b1ea" stroke="#000000" points="1159.6165,-292 1034.1277,-292 1034.1277,-214 1159.6165,-214 1159.6165,-292"/>
<text text-anchor="middle" x="1096.8721" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">flights &lt;= 33.0</text>
<text text-anchor="middle" x="1096.8721" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.278</text>
<text text-anchor="middle" x="1096.8721" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 6</text>
<text text-anchor="middle" x="1096.8721" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 5]</text>
<text text-anchor="middle" x="1096.8721" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M1096.8721,-327.7677C1096.8721,-319.6172 1096.8721,-310.9283 1096.8721,-302.4649"/>
<polygon fill="#000000" stroke="#000000" points="1100.3722,-302.3046 1096.8721,-292.3046 1093.3722,-302.3047 1100.3722,-302.3046"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<polygon fill="#399de5" stroke="#000000" points="1303.6165,-285 1178.1277,-285 1178.1277,-221 1303.6165,-221 1303.6165,-285"/>
<text text-anchor="middle" x="1240.8721" y="-269.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1240.8721" y="-255.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 52</text>
<text text-anchor="middle" x="1240.8721" y="-241.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 52]</text>
<text text-anchor="middle" x="1240.8721" y="-227.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 21&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>21&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M1146.4287,-327.7677C1161.2558,-316.0296 1177.4937,-303.1745 1192.2595,-291.485"/>
<polygon fill="#000000" stroke="#000000" points="1194.6249,-294.0764 1200.2929,-285.1252 1190.2799,-288.5881 1194.6249,-294.0764"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<polygon fill="#399de5" stroke="#000000" points="1159.6165,-171 1034.1277,-171 1034.1277,-107 1159.6165,-107 1159.6165,-171"/>
<text text-anchor="middle" x="1096.8721" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1096.8721" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 5</text>
<text text-anchor="middle" x="1096.8721" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [0, 5]</text>
<text text-anchor="middle" x="1096.8721" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = surveillance</text>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M1096.8721,-213.7677C1096.8721,-203.3338 1096.8721,-192.0174 1096.8721,-181.4215"/>
<polygon fill="#000000" stroke="#000000" points="1100.3722,-181.1252 1096.8721,-171.1252 1093.3722,-181.1252 1100.3722,-181.1252"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<polygon fill="#e58139" stroke="#000000" points="1324.5059,-171 1177.2382,-171 1177.2382,-107 1324.5059,-107 1324.5059,-171"/>
<text text-anchor="middle" x="1250.8721" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">gini = 0.0</text>
<text text-anchor="middle" x="1250.8721" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#000000">samples = 1</text>
<text text-anchor="middle" x="1250.8721" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">value = [1, 0]</text>
<text text-anchor="middle" x="1250.8721" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">class = not surveillance</text>
</g>
<!-- 22&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>22&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M1149.8701,-213.7677C1165.8737,-201.9209 1183.4141,-188.9364 1199.3218,-177.1606"/>
<polygon fill="#000000" stroke="#000000" points="1201.5199,-179.8881 1207.4749,-171.1252 1197.355,-174.2619 1201.5199,-179.8881"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="One-more-classifier:-Random-forest">One more classifier: Random forest<a class="anchor-link" href="#One-more-classifier:-Random-forest">#</a></h1><h2 id="Build-and-train-your-classifier">Build and train your classifier<a class="anchor-link" href="#Build-and-train-your-classifier">#</a></h2><p>We can build a random forest classifier like this:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">()</span>
</pre></div>
<p>But you're in charge of fitting it to your training data!</p>
<ul>
<li><strong>Tip:</strong> You can also set <code>max_depth</code> here, but you won't be able to visualize the result.</li>
<li><strong>Tip:</strong> Increase <code>n_estimators</code> to 100 to make a better classifier.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>RandomForestClassifier(bootstrap=True, class_weight=None, criterion=&#39;gini&#39;,
                       max_depth=5, max_features=&#39;auto&#39;, max_leaf_nodes=None,
                       min_impurity_decrease=0.0, min_impurity_split=None,
                       min_samples_leaf=1, min_samples_split=2,
                       min_weight_fraction_leaf=0.0, n_estimators=100,
                       n_jobs=None, oob_score=False, random_state=None,
                       verbose=0, warm_start=False)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-are-the-important-features?">What are the important features?<a class="anchor-link" href="#What-are-the-important-features?">#</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">feature_names</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span>
<span class="n">importances</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">feature_importances_</span>

<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;feature&#39;</span><span class="p">:</span> <span class="n">feature_names</span><span class="p">,</span>
    <span class="s1">&#39;feature importance&#39;</span><span class="p">:</span> <span class="n">importances</span><span class="p">,</span>
<span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;feature importance&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature</th>
      <th>feature importance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>21</th>
      <td>steer2</td>
      <td>0.230350</td>
    </tr>
    <tr>
      <th>29</th>
      <td>squawk_1</td>
      <td>0.135064</td>
    </tr>
    <tr>
      <th>24</th>
      <td>steer5</td>
      <td>0.108513</td>
    </tr>
    <tr>
      <th>20</th>
      <td>steer1</td>
      <td>0.085134</td>
    </tr>
    <tr>
      <th>23</th>
      <td>steer4</td>
      <td>0.042050</td>
    </tr>
    <tr>
      <th>17</th>
      <td>altitude3</td>
      <td>0.030432</td>
    </tr>
    <tr>
      <th>25</th>
      <td>steer6</td>
      <td>0.030281</td>
    </tr>
    <tr>
      <th>10</th>
      <td>speed1</td>
      <td>0.028136</td>
    </tr>
    <tr>
      <th>19</th>
      <td>altitude5</td>
      <td>0.025646</td>
    </tr>
    <tr>
      <th>15</th>
      <td>altitude1</td>
      <td>0.024946</td>
    </tr>
    <tr>
      <th>3</th>
      <td>duration4</td>
      <td>0.019232</td>
    </tr>
    <tr>
      <th>9</th>
      <td>boxes5</td>
      <td>0.016163</td>
    </tr>
    <tr>
      <th>18</th>
      <td>altitude4</td>
      <td>0.016099</td>
    </tr>
    <tr>
      <th>13</th>
      <td>speed4</td>
      <td>0.015910</td>
    </tr>
    <tr>
      <th>4</th>
      <td>duration5</td>
      <td>0.014566</td>
    </tr>
    <tr>
      <th>27</th>
      <td>steer8</td>
      <td>0.013852</td>
    </tr>
    <tr>
      <th>30</th>
      <td>observations</td>
      <td>0.013351</td>
    </tr>
    <tr>
      <th>14</th>
      <td>speed5</td>
      <td>0.013343</td>
    </tr>
    <tr>
      <th>31</th>
      <td>type_code</td>
      <td>0.012287</td>
    </tr>
    <tr>
      <th>6</th>
      <td>boxes2</td>
      <td>0.012249</td>
    </tr>
    <tr>
      <th>1</th>
      <td>duration2</td>
      <td>0.011348</td>
    </tr>
    <tr>
      <th>28</th>
      <td>flights</td>
      <td>0.010923</td>
    </tr>
    <tr>
      <th>11</th>
      <td>speed2</td>
      <td>0.010870</td>
    </tr>
    <tr>
      <th>16</th>
      <td>altitude2</td>
      <td>0.010643</td>
    </tr>
    <tr>
      <th>5</th>
      <td>boxes1</td>
      <td>0.010544</td>
    </tr>
    <tr>
      <th>22</th>
      <td>steer3</td>
      <td>0.010506</td>
    </tr>
    <tr>
      <th>12</th>
      <td>speed3</td>
      <td>0.010452</td>
    </tr>
    <tr>
      <th>0</th>
      <td>duration1</td>
      <td>0.008943</td>
    </tr>
    <tr>
      <th>26</th>
      <td>steer7</td>
      <td>0.008132</td>
    </tr>
    <tr>
      <th>2</th>
      <td>duration3</td>
      <td>0.007558</td>
    </tr>
    <tr>
      <th>7</th>
      <td>boxes3</td>
      <td>0.007048</td>
    </tr>
    <tr>
      <th>8</th>
      <td>boxes4</td>
      <td>0.005428</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Understanding-the-output">Understanding the output<a class="anchor-link" href="#Understanding-the-output">#</a></h3><p>What is a random forest, and <strong>why is the feature importance difference than for the decision tree?</strong> Isn't a random forest just like a decision tree or something?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># It&#39;s a lot of decision trees that all work together, so it&#39;ll even try to use less useful features</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-well-does-it-perform?">How well does it perform?<a class="anchor-link" href="#How-well-does-it-perform?">#</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>

<span class="n">y_true</span> <span class="o">=</span> <span class="n">y_test</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="n">label_names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;not surveil&#39;</span><span class="p">,</span> <span class="s1">&#39;surveil&#39;</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span>
     <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Predicted &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">,</span>
     <span class="n">index</span><span class="o">=</span><span class="s1">&#39;Is &#39;</span> <span class="o">+</span> <span class="n">label_names</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Predicted not surveil</th>
      <th>Predicted surveil</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Is not surveil</th>
      <td>129</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Is surveil</th>
      <td>4</td>
      <td>17</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="How-confident-do-you-feel-in-the-model?">How confident do you feel in the model?<a class="anchor-link" href="#How-confident-do-you-feel-in-the-model?">#</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Very confident</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Actually-finding-spy-planes">Actually finding spy planes<a class="anchor-link" href="#Actually-finding-spy-planes">#</a></h1><p>Now let's try ot actually find our spy planes</p>
<h2 id="Retrain-our-model">Retrain our model<a class="anchor-link" href="#Retrain-our-model">#</a></h2><p>When we did test/train split, we trained our model with only a subset of our data, so we could test with the rest. Now that we're working in the "real world" we want to re-train it using not just <code>_train</code> and <code>_test</code> data, but instead <strong>everything we have labels for.</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>RandomForestClassifier(bootstrap=True, class_weight=None, criterion=&#39;gini&#39;,
                       max_depth=5, max_features=&#39;auto&#39;, max_leaf_nodes=None,
                       min_impurity_decrease=0.0, min_impurity_split=None,
                       min_samples_leaf=1, min_samples_split=2,
                       min_weight_fraction_leaf=0.0, n_estimators=100,
                       n_jobs=None, oob_score=False, random_state=None,
                       verbose=0, warm_start=False)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Filter-for-planes-we-want-to-predict">Filter for planes we want to predict<a class="anchor-link" href="#Filter-for-planes-we-want-to-predict">#</a></h2><p>We have a dataframe of features that includes three types of planes:</p>
<ul>
<li>Those that are labeled as surveillance planes</li>
<li>Those that are labeled as not surveillance</li>
<li>Those that aren't labeled</li>
</ul>
<p>Which do we want to predictions for? <strong>Filter a new dataframe that's just those.</strong></p>
<ul>
<li><strong>Tip:</strong> Scroll up to see where you created your <code>train_df</code>, it's the opposite!</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">real_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>How many planes do you have in that list? <strong>Confirm it's about 19,200.</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">real_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(19202, 35)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Predicting">Predicting<a class="anchor-link" href="#Predicting">#</a></h2><p>Build your <code>X</code> - remember you need to drop a few columns - and use that to make a prediction for each plane.</p>
<p><strong>Assign the prediction into the <code>predicted</code> column</strong>.</p>
<ul>
<li><strong>Tip:</strong> Scroll up to see where you created your features for training, it's similar</li>
<li><strong>Tip:</strong> pandas will yell at us about setting values on copies of a slice but it's fine</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">real_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;adshex&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">])</span>
<span class="n">real_df</span><span class="p">[</span><span class="s1">&#39;predicted&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-many-planes-did-it-predict-to-be-surveillance-planes?">How many planes did it predict to be surveillance planes?<a class="anchor-link" href="#How-many-planes-did-it-predict-to-be-surveillance-planes?">#</a></h2><p>It should be roughly around 70-80 planes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">real_df</span><span class="p">[</span><span class="n">real_df</span><span class="o">.</span><span class="n">predicted</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(80, 36)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="But..-what-about-those-other-ones?-The-ones-that-are-just-below-the-threshold?">But.. what about those other ones? The ones that are just below the threshold?<a class="anchor-link" href="#But..-what-about-those-other-ones?-The-ones-that-are-just-below-the-threshold?">#</a></h2><p>The cutoff for a prediction of <code>1</code> is 50%, but since we have a lot of time we're interested in investigating the top 150. To get the probability for each row, you will use <code>clf.predict_proba</code> instead of <code>clf.predict</code>. Also, to get the predicted probability for the <code>1</code> category, you'll need to add <code>[:,1]</code> to the end of the</p>
<div class="highlight"><pre><span></span><span class="n">clf</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="o">***</span><span class="n">your</span> <span class="n">features</span><span class="o">***</span><span class="p">)[:,</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
<p><strong>Create a new column called <code>predicted_prob</code> that is the chance that the plane is a surveillance plane.</strong></p>
<ul>
<li><strong>Tip:</strong> You dropped three columns when using <code>clf.predict</code>, but if you drop the same three you'll get an error now. There's now an extra column that you'll need to drop! What is it?</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Predict the probability it&#39;s in the class represented by &#39;1&#39;</span>
<span class="n">real_df</span><span class="p">[</span><span class="s1">&#39;predicted_prob&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">real_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;adshex&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;predicted&#39;</span><span class="p">]))[:,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">real_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
      <th>type_code</th>
      <th>predicted</th>
      <th>predicted_prob</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>597</th>
      <td>A</td>
      <td>NaN</td>
      <td>0.120253</td>
      <td>0.075949</td>
      <td>0.183544</td>
      <td>0.335443</td>
      <td>0.284810</td>
      <td>0.088608</td>
      <td>0.044304</td>
      <td>0.069620</td>
      <td>0.120253</td>
      <td>0.677215</td>
      <td>0.021824</td>
      <td>0.020550</td>
      <td>0.062330</td>
      <td>0.100713</td>
      <td>0.794582</td>
      <td>0.042374</td>
      <td>0.060971</td>
      <td>0.066831</td>
      <td>0.106403</td>
      <td>0.723421</td>
      <td>0.020211</td>
      <td>0.048913</td>
      <td>0.270550</td>
      <td>0.344090</td>
      <td>0.097317</td>
      <td>0.186651</td>
      <td>0.011379</td>
      <td>0.009426</td>
      <td>158</td>
      <td>0</td>
      <td>11776</td>
      <td>GRND</td>
      <td>248</td>
      <td>0.0</td>
      <td>0.009302</td>
    </tr>
    <tr>
      <th>598</th>
      <td>A00000</td>
      <td>NaN</td>
      <td>0.211735</td>
      <td>0.155612</td>
      <td>0.181122</td>
      <td>0.198980</td>
      <td>0.252551</td>
      <td>0.204082</td>
      <td>0.183673</td>
      <td>0.168367</td>
      <td>0.173469</td>
      <td>0.267857</td>
      <td>0.107348</td>
      <td>0.143410</td>
      <td>0.208139</td>
      <td>0.177013</td>
      <td>0.364090</td>
      <td>0.177318</td>
      <td>0.114457</td>
      <td>0.129648</td>
      <td>0.197694</td>
      <td>0.380882</td>
      <td>0.034976</td>
      <td>0.048127</td>
      <td>0.240732</td>
      <td>0.356314</td>
      <td>0.116116</td>
      <td>0.159325</td>
      <td>0.012828</td>
      <td>0.013628</td>
      <td>392</td>
      <td>0</td>
      <td>52465</td>
      <td>TBM7</td>
      <td>431</td>
      <td>0.0</td>
      <td>0.030403</td>
    </tr>
    <tr>
      <th>599</th>
      <td>A00008</td>
      <td>NaN</td>
      <td>0.125000</td>
      <td>0.041667</td>
      <td>0.208333</td>
      <td>0.166667</td>
      <td>0.458333</td>
      <td>0.125000</td>
      <td>0.083333</td>
      <td>0.125000</td>
      <td>0.166667</td>
      <td>0.500000</td>
      <td>0.187960</td>
      <td>0.278952</td>
      <td>0.221048</td>
      <td>0.190257</td>
      <td>0.121783</td>
      <td>0.014706</td>
      <td>0.053309</td>
      <td>0.149816</td>
      <td>0.279871</td>
      <td>0.502298</td>
      <td>0.029871</td>
      <td>0.044118</td>
      <td>0.202665</td>
      <td>0.380515</td>
      <td>0.094669</td>
      <td>0.182904</td>
      <td>0.014706</td>
      <td>0.020221</td>
      <td>24</td>
      <td>0</td>
      <td>2176</td>
      <td>PA46</td>
      <td>350</td>
      <td>0.0</td>
      <td>0.004275</td>
    </tr>
    <tr>
      <th>600</th>
      <td>A0001E</td>
      <td>NaN</td>
      <td>0.100000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.400000</td>
      <td>0.100000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.400000</td>
      <td>0.400000</td>
      <td>0.007937</td>
      <td>0.026984</td>
      <td>0.084127</td>
      <td>0.179365</td>
      <td>0.701587</td>
      <td>0.041270</td>
      <td>0.085714</td>
      <td>0.039683</td>
      <td>0.111111</td>
      <td>0.722222</td>
      <td>0.019048</td>
      <td>0.049206</td>
      <td>0.249206</td>
      <td>0.326984</td>
      <td>0.112698</td>
      <td>0.206349</td>
      <td>0.012698</td>
      <td>0.011111</td>
      <td>10</td>
      <td>1135</td>
      <td>630</td>
      <td>C56X</td>
      <td>126</td>
      <td>0.0</td>
      <td>0.005358</td>
    </tr>
    <tr>
      <th>601</th>
      <td>A0002B</td>
      <td>NaN</td>
      <td>0.166667</td>
      <td>0.166667</td>
      <td>0.000000</td>
      <td>0.666667</td>
      <td>0.000000</td>
      <td>0.333333</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.666667</td>
      <td>0.000000</td>
      <td>0.767405</td>
      <td>0.191456</td>
      <td>0.023734</td>
      <td>0.017405</td>
      <td>0.000000</td>
      <td>0.150316</td>
      <td>0.113924</td>
      <td>0.178797</td>
      <td>0.534810</td>
      <td>0.022152</td>
      <td>0.001582</td>
      <td>0.009494</td>
      <td>0.281646</td>
      <td>0.416139</td>
      <td>0.112342</td>
      <td>0.169304</td>
      <td>0.001582</td>
      <td>0.001582</td>
      <td>6</td>
      <td>2356</td>
      <td>632</td>
      <td>C82S</td>
      <td>133</td>
      <td>0.0</td>
      <td>0.035157</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Get-the-top-200-predictions">Get the top 200 predictions<a class="anchor-link" href="#Get-the-top-200-predictions">#</a></h3><p>Take a look at what the probabilities look like, showing the top 200 planes that are <strong>most likely to be surveillance planes.</strong></p>
<p>Then save them to a file for later research.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">top_predictions</span> <span class="o">=</span> <span class="n">real_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;predicted_prob&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="n">top_predictions</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>adshex</th>
      <th>label</th>
      <th>duration1</th>
      <th>duration2</th>
      <th>duration3</th>
      <th>duration4</th>
      <th>duration5</th>
      <th>boxes1</th>
      <th>boxes2</th>
      <th>boxes3</th>
      <th>boxes4</th>
      <th>boxes5</th>
      <th>speed1</th>
      <th>speed2</th>
      <th>speed3</th>
      <th>speed4</th>
      <th>speed5</th>
      <th>altitude1</th>
      <th>altitude2</th>
      <th>altitude3</th>
      <th>altitude4</th>
      <th>altitude5</th>
      <th>steer1</th>
      <th>steer2</th>
      <th>steer3</th>
      <th>steer4</th>
      <th>steer5</th>
      <th>steer6</th>
      <th>steer7</th>
      <th>steer8</th>
      <th>flights</th>
      <th>squawk_1</th>
      <th>observations</th>
      <th>type</th>
      <th>type_code</th>
      <th>predicted</th>
      <th>predicted_prob</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>8466</th>
      <td>A4FB3C</td>
      <td>NaN</td>
      <td>0.416667</td>
      <td>0.125000</td>
      <td>0.083333</td>
      <td>0.041667</td>
      <td>0.333333</td>
      <td>0.458333</td>
      <td>0.458333</td>
      <td>0.083333</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.562937</td>
      <td>0.226224</td>
      <td>0.138811</td>
      <td>0.056294</td>
      <td>0.015734</td>
      <td>0.000000</td>
      <td>0.009091</td>
      <td>0.039860</td>
      <td>0.866434</td>
      <td>0.084615</td>
      <td>0.144406</td>
      <td>0.226923</td>
      <td>0.222378</td>
      <td>0.268182</td>
      <td>0.013986</td>
      <td>0.062587</td>
      <td>0.004196</td>
      <td>0.017483</td>
      <td>24</td>
      <td>5310</td>
      <td>2860</td>
      <td>P210</td>
      <td>322</td>
      <td>1.0</td>
      <td>0.951233</td>
    </tr>
    <tr>
      <th>3616</th>
      <td>A1B621</td>
      <td>NaN</td>
      <td>0.615385</td>
      <td>0.076923</td>
      <td>0.153846</td>
      <td>0.000000</td>
      <td>0.153846</td>
      <td>0.538462</td>
      <td>0.307692</td>
      <td>0.076923</td>
      <td>0.076923</td>
      <td>0.000000</td>
      <td>0.524156</td>
      <td>0.331568</td>
      <td>0.103243</td>
      <td>0.039709</td>
      <td>0.001324</td>
      <td>0.053607</td>
      <td>0.080079</td>
      <td>0.756453</td>
      <td>0.105228</td>
      <td>0.004633</td>
      <td>0.455328</td>
      <td>0.173395</td>
      <td>0.138981</td>
      <td>0.052945</td>
      <td>0.021840</td>
      <td>0.049636</td>
      <td>0.001985</td>
      <td>0.008604</td>
      <td>13</td>
      <td>5240</td>
      <td>1511</td>
      <td>C210</td>
      <td>98</td>
      <td>1.0</td>
      <td>0.938052</td>
    </tr>
    <tr>
      <th>2828</th>
      <td>A144AF</td>
      <td>NaN</td>
      <td>0.328358</td>
      <td>0.134328</td>
      <td>0.074627</td>
      <td>0.029851</td>
      <td>0.432836</td>
      <td>0.492537</td>
      <td>0.328358</td>
      <td>0.164179</td>
      <td>0.000000</td>
      <td>0.014925</td>
      <td>0.134059</td>
      <td>0.274446</td>
      <td>0.197484</td>
      <td>0.148554</td>
      <td>0.245457</td>
      <td>0.001251</td>
      <td>0.005371</td>
      <td>0.008167</td>
      <td>0.053271</td>
      <td>0.931940</td>
      <td>0.152969</td>
      <td>0.248841</td>
      <td>0.266132</td>
      <td>0.175116</td>
      <td>0.010448</td>
      <td>0.064013</td>
      <td>0.014495</td>
      <td>0.018247</td>
      <td>67</td>
      <td>5103</td>
      <td>13591</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.920856</td>
    </tr>
    <tr>
      <th>680</th>
      <td>A005D8</td>
      <td>NaN</td>
      <td>0.241379</td>
      <td>0.137931</td>
      <td>0.137931</td>
      <td>0.103448</td>
      <td>0.379310</td>
      <td>0.241379</td>
      <td>0.068966</td>
      <td>0.310345</td>
      <td>0.206897</td>
      <td>0.172414</td>
      <td>0.245460</td>
      <td>0.389500</td>
      <td>0.232983</td>
      <td>0.048178</td>
      <td>0.083879</td>
      <td>0.000988</td>
      <td>0.005559</td>
      <td>0.018653</td>
      <td>0.096603</td>
      <td>0.878196</td>
      <td>0.105991</td>
      <td>0.220630</td>
      <td>0.335145</td>
      <td>0.193823</td>
      <td>0.015442</td>
      <td>0.070043</td>
      <td>0.007288</td>
      <td>0.016553</td>
      <td>29</td>
      <td>5011</td>
      <td>8095</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.916384</td>
    </tr>
    <tr>
      <th>8428</th>
      <td>A4F784</td>
      <td>NaN</td>
      <td>0.387097</td>
      <td>0.161290</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.451613</td>
      <td>0.548387</td>
      <td>0.161290</td>
      <td>0.225806</td>
      <td>0.000000</td>
      <td>0.064516</td>
      <td>0.125439</td>
      <td>0.236160</td>
      <td>0.203713</td>
      <td>0.182806</td>
      <td>0.251882</td>
      <td>0.000335</td>
      <td>0.004516</td>
      <td>0.010537</td>
      <td>0.025088</td>
      <td>0.959525</td>
      <td>0.123599</td>
      <td>0.209065</td>
      <td>0.267269</td>
      <td>0.236160</td>
      <td>0.012209</td>
      <td>0.075263</td>
      <td>0.016725</td>
      <td>0.016056</td>
      <td>31</td>
      <td>5101</td>
      <td>5979</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.889489</td>
    </tr>
    <tr>
      <th>10209</th>
      <td>A63E52</td>
      <td>NaN</td>
      <td>0.333333</td>
      <td>0.196078</td>
      <td>0.137255</td>
      <td>0.078431</td>
      <td>0.254902</td>
      <td>0.549020</td>
      <td>0.313725</td>
      <td>0.137255</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.817386</td>
      <td>0.122310</td>
      <td>0.051307</td>
      <td>0.005714</td>
      <td>0.003283</td>
      <td>0.077204</td>
      <td>0.297143</td>
      <td>0.622492</td>
      <td>0.003161</td>
      <td>0.000000</td>
      <td>0.207295</td>
      <td>0.219210</td>
      <td>0.251185</td>
      <td>0.125471</td>
      <td>0.028571</td>
      <td>0.075137</td>
      <td>0.009848</td>
      <td>0.019574</td>
      <td>51</td>
      <td>5306</td>
      <td>8225</td>
      <td>T206</td>
      <td>417</td>
      <td>1.0</td>
      <td>0.876497</td>
    </tr>
    <tr>
      <th>2720</th>
      <td>A13098</td>
      <td>NaN</td>
      <td>0.166667</td>
      <td>0.166667</td>
      <td>0.166667</td>
      <td>0.083333</td>
      <td>0.416667</td>
      <td>0.250000</td>
      <td>0.583333</td>
      <td>0.166667</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.866572</td>
      <td>0.071664</td>
      <td>0.035361</td>
      <td>0.020745</td>
      <td>0.005658</td>
      <td>0.053748</td>
      <td>0.123055</td>
      <td>0.665724</td>
      <td>0.157473</td>
      <td>0.000000</td>
      <td>0.151344</td>
      <td>0.176803</td>
      <td>0.181047</td>
      <td>0.300802</td>
      <td>0.019331</td>
      <td>0.085809</td>
      <td>0.010372</td>
      <td>0.028289</td>
      <td>12</td>
      <td>4415</td>
      <td>2121</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.873517</td>
    </tr>
    <tr>
      <th>14433</th>
      <td>A996CB</td>
      <td>NaN</td>
      <td>0.444444</td>
      <td>0.277778</td>
      <td>0.166667</td>
      <td>0.000000</td>
      <td>0.111111</td>
      <td>0.722222</td>
      <td>0.277778</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.375196</td>
      <td>0.351648</td>
      <td>0.191523</td>
      <td>0.043956</td>
      <td>0.037677</td>
      <td>0.001570</td>
      <td>0.037677</td>
      <td>0.821036</td>
      <td>0.133438</td>
      <td>0.006279</td>
      <td>0.257457</td>
      <td>0.211931</td>
      <td>0.196232</td>
      <td>0.043956</td>
      <td>0.009419</td>
      <td>0.087912</td>
      <td>0.015699</td>
      <td>0.059655</td>
      <td>18</td>
      <td>0</td>
      <td>637</td>
      <td>C208</td>
      <td>97</td>
      <td>1.0</td>
      <td>0.872198</td>
    </tr>
    <tr>
      <th>12275</th>
      <td>A7D925</td>
      <td>NaN</td>
      <td>0.121212</td>
      <td>0.141414</td>
      <td>0.070707</td>
      <td>0.070707</td>
      <td>0.595960</td>
      <td>0.212121</td>
      <td>0.515152</td>
      <td>0.242424</td>
      <td>0.030303</td>
      <td>0.000000</td>
      <td>0.271168</td>
      <td>0.494554</td>
      <td>0.212671</td>
      <td>0.016859</td>
      <td>0.004747</td>
      <td>0.018678</td>
      <td>0.065840</td>
      <td>0.345793</td>
      <td>0.568557</td>
      <td>0.001131</td>
      <td>0.166840</td>
      <td>0.315047</td>
      <td>0.301537</td>
      <td>0.096653</td>
      <td>0.015661</td>
      <td>0.047095</td>
      <td>0.004015</td>
      <td>0.009250</td>
      <td>99</td>
      <td>230</td>
      <td>45079</td>
      <td>T206</td>
      <td>417</td>
      <td>1.0</td>
      <td>0.871983</td>
    </tr>
    <tr>
      <th>9204</th>
      <td>A565E6</td>
      <td>NaN</td>
      <td>0.333333</td>
      <td>0.200000</td>
      <td>0.066667</td>
      <td>0.000000</td>
      <td>0.400000</td>
      <td>0.600000</td>
      <td>0.266667</td>
      <td>0.133333</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.058968</td>
      <td>0.120803</td>
      <td>0.190418</td>
      <td>0.151515</td>
      <td>0.478296</td>
      <td>0.000819</td>
      <td>0.001229</td>
      <td>0.017199</td>
      <td>0.014742</td>
      <td>0.966011</td>
      <td>0.106880</td>
      <td>0.240377</td>
      <td>0.303440</td>
      <td>0.207617</td>
      <td>0.008190</td>
      <td>0.064701</td>
      <td>0.014333</td>
      <td>0.017199</td>
      <td>15</td>
      <td>5106</td>
      <td>2442</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.857310</td>
    </tr>
    <tr>
      <th>12378</th>
      <td>A7EA6C</td>
      <td>NaN</td>
      <td>0.187500</td>
      <td>0.125000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.687500</td>
      <td>0.250000</td>
      <td>0.187500</td>
      <td>0.312500</td>
      <td>0.062500</td>
      <td>0.187500</td>
      <td>0.081105</td>
      <td>0.257435</td>
      <td>0.462902</td>
      <td>0.178132</td>
      <td>0.020427</td>
      <td>0.001802</td>
      <td>0.003905</td>
      <td>0.014118</td>
      <td>0.022229</td>
      <td>0.957945</td>
      <td>0.179634</td>
      <td>0.244518</td>
      <td>0.191048</td>
      <td>0.196756</td>
      <td>0.017122</td>
      <td>0.078402</td>
      <td>0.012616</td>
      <td>0.017122</td>
      <td>16</td>
      <td>5162</td>
      <td>3329</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.853293</td>
    </tr>
    <tr>
      <th>7736</th>
      <td>A497C0</td>
      <td>NaN</td>
      <td>0.226415</td>
      <td>0.169811</td>
      <td>0.150943</td>
      <td>0.150943</td>
      <td>0.301887</td>
      <td>0.264151</td>
      <td>0.320755</td>
      <td>0.320755</td>
      <td>0.056604</td>
      <td>0.037736</td>
      <td>0.344421</td>
      <td>0.422552</td>
      <td>0.191865</td>
      <td>0.035408</td>
      <td>0.005755</td>
      <td>0.044382</td>
      <td>0.110710</td>
      <td>0.372805</td>
      <td>0.369099</td>
      <td>0.103004</td>
      <td>0.243075</td>
      <td>0.204643</td>
      <td>0.233223</td>
      <td>0.117245</td>
      <td>0.040675</td>
      <td>0.081350</td>
      <td>0.008291</td>
      <td>0.010632</td>
      <td>53</td>
      <td>5367</td>
      <td>10252</td>
      <td>PA32</td>
      <td>347</td>
      <td>1.0</td>
      <td>0.846154</td>
    </tr>
    <tr>
      <th>12450</th>
      <td>A7F52E</td>
      <td>NaN</td>
      <td>0.142857</td>
      <td>0.095238</td>
      <td>0.142857</td>
      <td>0.333333</td>
      <td>0.285714</td>
      <td>0.666667</td>
      <td>0.095238</td>
      <td>0.238095</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.650904</td>
      <td>0.176634</td>
      <td>0.133982</td>
      <td>0.029671</td>
      <td>0.008809</td>
      <td>0.006490</td>
      <td>0.220213</td>
      <td>0.585999</td>
      <td>0.187297</td>
      <td>0.000000</td>
      <td>0.170144</td>
      <td>0.205841</td>
      <td>0.187297</td>
      <td>0.268428</td>
      <td>0.009272</td>
      <td>0.057487</td>
      <td>0.012517</td>
      <td>0.035234</td>
      <td>21</td>
      <td>4334</td>
      <td>2157</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.825951</td>
    </tr>
    <tr>
      <th>9743</th>
      <td>A5DD36</td>
      <td>NaN</td>
      <td>0.809524</td>
      <td>0.134921</td>
      <td>0.019841</td>
      <td>0.023810</td>
      <td>0.011905</td>
      <td>0.900794</td>
      <td>0.063492</td>
      <td>0.019841</td>
      <td>0.007937</td>
      <td>0.007937</td>
      <td>0.499442</td>
      <td>0.309453</td>
      <td>0.136770</td>
      <td>0.045776</td>
      <td>0.008560</td>
      <td>0.000930</td>
      <td>0.016375</td>
      <td>0.044846</td>
      <td>0.204689</td>
      <td>0.733160</td>
      <td>0.118906</td>
      <td>0.183848</td>
      <td>0.274470</td>
      <td>0.174916</td>
      <td>0.039449</td>
      <td>0.124488</td>
      <td>0.015259</td>
      <td>0.015817</td>
      <td>252</td>
      <td>4444</td>
      <td>5374</td>
      <td>C208</td>
      <td>97</td>
      <td>1.0</td>
      <td>0.790446</td>
    </tr>
    <tr>
      <th>19689</th>
      <td>ADF7A5</td>
      <td>NaN</td>
      <td>0.152778</td>
      <td>0.055556</td>
      <td>0.125000</td>
      <td>0.263889</td>
      <td>0.402778</td>
      <td>0.500000</td>
      <td>0.444444</td>
      <td>0.055556</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.879310</td>
      <td>0.071638</td>
      <td>0.024631</td>
      <td>0.005188</td>
      <td>0.019233</td>
      <td>0.083744</td>
      <td>0.409653</td>
      <td>0.451473</td>
      <td>0.055130</td>
      <td>0.000000</td>
      <td>0.274709</td>
      <td>0.310816</td>
      <td>0.170580</td>
      <td>0.078923</td>
      <td>0.013625</td>
      <td>0.051148</td>
      <td>0.008070</td>
      <td>0.021434</td>
      <td>72</td>
      <td>4414</td>
      <td>19082</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.774498</td>
    </tr>
    <tr>
      <th>14589</th>
      <td>A9AEC1</td>
      <td>NaN</td>
      <td>0.062500</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.062500</td>
      <td>0.875000</td>
      <td>0.062500</td>
      <td>0.250000</td>
      <td>0.625000</td>
      <td>0.062500</td>
      <td>0.000000</td>
      <td>0.448867</td>
      <td>0.351880</td>
      <td>0.101386</td>
      <td>0.043985</td>
      <td>0.053882</td>
      <td>0.000220</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.049923</td>
      <td>0.949857</td>
      <td>0.117880</td>
      <td>0.246536</td>
      <td>0.236859</td>
      <td>0.179899</td>
      <td>0.019353</td>
      <td>0.110183</td>
      <td>0.022432</td>
      <td>0.023752</td>
      <td>16</td>
      <td>5134</td>
      <td>4547</td>
      <td>DHC6</td>
      <td>176</td>
      <td>1.0</td>
      <td>0.768357</td>
    </tr>
    <tr>
      <th>11402</th>
      <td>A7166F</td>
      <td>NaN</td>
      <td>0.322581</td>
      <td>0.193548</td>
      <td>0.096774</td>
      <td>0.096774</td>
      <td>0.290323</td>
      <td>0.387097</td>
      <td>0.258065</td>
      <td>0.193548</td>
      <td>0.096774</td>
      <td>0.064516</td>
      <td>0.116043</td>
      <td>0.313253</td>
      <td>0.163919</td>
      <td>0.119848</td>
      <td>0.286937</td>
      <td>0.005707</td>
      <td>0.007926</td>
      <td>0.012682</td>
      <td>0.043437</td>
      <td>0.930247</td>
      <td>0.092264</td>
      <td>0.243183</td>
      <td>0.268548</td>
      <td>0.260938</td>
      <td>0.017121</td>
      <td>0.062143</td>
      <td>0.006024</td>
      <td>0.014902</td>
      <td>31</td>
      <td>0</td>
      <td>3154</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.766803</td>
    </tr>
    <tr>
      <th>10339</th>
      <td>A65921</td>
      <td>NaN</td>
      <td>0.189189</td>
      <td>0.054054</td>
      <td>0.000000</td>
      <td>0.135135</td>
      <td>0.621622</td>
      <td>0.216216</td>
      <td>0.270270</td>
      <td>0.378378</td>
      <td>0.081081</td>
      <td>0.054054</td>
      <td>0.140603</td>
      <td>0.247105</td>
      <td>0.212368</td>
      <td>0.243161</td>
      <td>0.156763</td>
      <td>0.001654</td>
      <td>0.001527</td>
      <td>0.020359</td>
      <td>0.948594</td>
      <td>0.027866</td>
      <td>0.100267</td>
      <td>0.139712</td>
      <td>0.201425</td>
      <td>0.307291</td>
      <td>0.031047</td>
      <td>0.139967</td>
      <td>0.020359</td>
      <td>0.026594</td>
      <td>37</td>
      <td>7707</td>
      <td>7859</td>
      <td>C208</td>
      <td>97</td>
      <td>1.0</td>
      <td>0.766625</td>
    </tr>
    <tr>
      <th>16875</th>
      <td>AB8123</td>
      <td>NaN</td>
      <td>0.410714</td>
      <td>0.142857</td>
      <td>0.125000</td>
      <td>0.017857</td>
      <td>0.303571</td>
      <td>0.517857</td>
      <td>0.232143</td>
      <td>0.214286</td>
      <td>0.035714</td>
      <td>0.000000</td>
      <td>0.123823</td>
      <td>0.238228</td>
      <td>0.219161</td>
      <td>0.162423</td>
      <td>0.256366</td>
      <td>0.000814</td>
      <td>0.004651</td>
      <td>0.015115</td>
      <td>0.042553</td>
      <td>0.936868</td>
      <td>0.128590</td>
      <td>0.222881</td>
      <td>0.279386</td>
      <td>0.206255</td>
      <td>0.014301</td>
      <td>0.077317</td>
      <td>0.011045</td>
      <td>0.014533</td>
      <td>56</td>
      <td>0</td>
      <td>8601</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.751200</td>
    </tr>
    <tr>
      <th>15976</th>
      <td>AAE0FB</td>
      <td>NaN</td>
      <td>0.166667</td>
      <td>0.083333</td>
      <td>0.083333</td>
      <td>0.041667</td>
      <td>0.625000</td>
      <td>0.208333</td>
      <td>0.083333</td>
      <td>0.416667</td>
      <td>0.208333</td>
      <td>0.083333</td>
      <td>0.180909</td>
      <td>0.378265</td>
      <td>0.301516</td>
      <td>0.091261</td>
      <td>0.048049</td>
      <td>0.004192</td>
      <td>0.003225</td>
      <td>0.020316</td>
      <td>0.024831</td>
      <td>0.947436</td>
      <td>0.235408</td>
      <td>0.251532</td>
      <td>0.111577</td>
      <td>0.211545</td>
      <td>0.015801</td>
      <td>0.064818</td>
      <td>0.012899</td>
      <td>0.031603</td>
      <td>24</td>
      <td>406</td>
      <td>3101</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.750714</td>
    </tr>
    <tr>
      <th>4670</th>
      <td>A248EE</td>
      <td>NaN</td>
      <td>0.180952</td>
      <td>0.180952</td>
      <td>0.161905</td>
      <td>0.076190</td>
      <td>0.400000</td>
      <td>0.352381</td>
      <td>0.209524</td>
      <td>0.219048</td>
      <td>0.057143</td>
      <td>0.161905</td>
      <td>0.589738</td>
      <td>0.268738</td>
      <td>0.109684</td>
      <td>0.021959</td>
      <td>0.009881</td>
      <td>0.169046</td>
      <td>0.364990</td>
      <td>0.245681</td>
      <td>0.182660</td>
      <td>0.037623</td>
      <td>0.115905</td>
      <td>0.230457</td>
      <td>0.265042</td>
      <td>0.229139</td>
      <td>0.029278</td>
      <td>0.076416</td>
      <td>0.008088</td>
      <td>0.009735</td>
      <td>105</td>
      <td>0</td>
      <td>27324</td>
      <td>C206</td>
      <td>95</td>
      <td>1.0</td>
      <td>0.747146</td>
    </tr>
    <tr>
      <th>12657</th>
      <td>A816BC</td>
      <td>NaN</td>
      <td>0.072289</td>
      <td>0.084337</td>
      <td>0.120482</td>
      <td>0.192771</td>
      <td>0.530120</td>
      <td>0.132530</td>
      <td>0.301205</td>
      <td>0.337349</td>
      <td>0.108434</td>
      <td>0.120482</td>
      <td>0.064229</td>
      <td>0.179204</td>
      <td>0.275836</td>
      <td>0.262470</td>
      <td>0.218262</td>
      <td>0.000463</td>
      <td>0.015218</td>
      <td>0.031651</td>
      <td>0.184296</td>
      <td>0.768372</td>
      <td>0.114859</td>
      <td>0.266636</td>
      <td>0.195637</td>
      <td>0.267041</td>
      <td>0.019847</td>
      <td>0.071635</td>
      <td>0.009490</td>
      <td>0.014755</td>
      <td>83</td>
      <td>5327</td>
      <td>17282</td>
      <td>PC12</td>
      <td>356</td>
      <td>1.0</td>
      <td>0.741193</td>
    </tr>
    <tr>
      <th>18377</th>
      <td>ACC716</td>
      <td>NaN</td>
      <td>0.355556</td>
      <td>0.155556</td>
      <td>0.066667</td>
      <td>0.066667</td>
      <td>0.355556</td>
      <td>0.466667</td>
      <td>0.288889</td>
      <td>0.244444</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.117872</td>
      <td>0.365608</td>
      <td>0.057150</td>
      <td>0.118000</td>
      <td>0.341370</td>
      <td>0.000510</td>
      <td>0.003062</td>
      <td>0.003444</td>
      <td>0.023217</td>
      <td>0.969767</td>
      <td>0.101033</td>
      <td>0.174257</td>
      <td>0.399923</td>
      <td>0.212910</td>
      <td>0.009312</td>
      <td>0.045669</td>
      <td>0.007271</td>
      <td>0.013139</td>
      <td>45</td>
      <td>77</td>
      <td>7839</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.740057</td>
    </tr>
    <tr>
      <th>12733</th>
      <td>A826D3</td>
      <td>NaN</td>
      <td>0.379310</td>
      <td>0.206897</td>
      <td>0.034483</td>
      <td>0.051724</td>
      <td>0.327586</td>
      <td>0.379310</td>
      <td>0.327586</td>
      <td>0.206897</td>
      <td>0.034483</td>
      <td>0.051724</td>
      <td>0.015265</td>
      <td>0.045796</td>
      <td>0.153274</td>
      <td>0.336536</td>
      <td>0.449128</td>
      <td>0.000542</td>
      <td>0.002015</td>
      <td>0.003255</td>
      <td>0.028051</td>
      <td>0.966137</td>
      <td>0.114219</td>
      <td>0.209764</td>
      <td>0.222084</td>
      <td>0.236652</td>
      <td>0.014103</td>
      <td>0.125920</td>
      <td>0.018442</td>
      <td>0.023712</td>
      <td>58</td>
      <td>3547</td>
      <td>12905</td>
      <td>PC12</td>
      <td>356</td>
      <td>1.0</td>
      <td>0.731007</td>
    </tr>
    <tr>
      <th>19106</th>
      <td>AD68DF</td>
      <td>NaN</td>
      <td>0.250000</td>
      <td>0.225000</td>
      <td>0.150000</td>
      <td>0.050000</td>
      <td>0.325000</td>
      <td>0.325000</td>
      <td>0.500000</td>
      <td>0.150000</td>
      <td>0.025000</td>
      <td>0.000000</td>
      <td>0.855799</td>
      <td>0.107662</td>
      <td>0.023585</td>
      <td>0.005255</td>
      <td>0.007699</td>
      <td>0.135158</td>
      <td>0.159355</td>
      <td>0.264206</td>
      <td>0.440792</td>
      <td>0.000489</td>
      <td>0.141268</td>
      <td>0.266406</td>
      <td>0.347672</td>
      <td>0.091776</td>
      <td>0.016742</td>
      <td>0.071490</td>
      <td>0.008677</td>
      <td>0.011365</td>
      <td>40</td>
      <td>1206</td>
      <td>8183</td>
      <td>AS50</td>
      <td>18</td>
      <td>1.0</td>
      <td>0.727196</td>
    </tr>
    <tr>
      <th>2637</th>
      <td>A120A0</td>
      <td>NaN</td>
      <td>0.500000</td>
      <td>0.125000</td>
      <td>0.125000</td>
      <td>0.125000</td>
      <td>0.125000</td>
      <td>0.500000</td>
      <td>0.375000</td>
      <td>0.125000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.837427</td>
      <td>0.050292</td>
      <td>0.032749</td>
      <td>0.026901</td>
      <td>0.052632</td>
      <td>0.058480</td>
      <td>0.050292</td>
      <td>0.691228</td>
      <td>0.197661</td>
      <td>0.002339</td>
      <td>0.129825</td>
      <td>0.125146</td>
      <td>0.215205</td>
      <td>0.070175</td>
      <td>0.035088</td>
      <td>0.251462</td>
      <td>0.065497</td>
      <td>0.073684</td>
      <td>8</td>
      <td>4402</td>
      <td>855</td>
      <td>AS50</td>
      <td>18</td>
      <td>1.0</td>
      <td>0.727080</td>
    </tr>
    <tr>
      <th>1590</th>
      <td>A067A2</td>
      <td>NaN</td>
      <td>0.461538</td>
      <td>0.153846</td>
      <td>0.153846</td>
      <td>0.076923</td>
      <td>0.153846</td>
      <td>0.615385</td>
      <td>0.307692</td>
      <td>0.000000</td>
      <td>0.076923</td>
      <td>0.000000</td>
      <td>0.036254</td>
      <td>0.040785</td>
      <td>0.141994</td>
      <td>0.382175</td>
      <td>0.398792</td>
      <td>0.003021</td>
      <td>0.003021</td>
      <td>0.003021</td>
      <td>0.235650</td>
      <td>0.755287</td>
      <td>0.154079</td>
      <td>0.220544</td>
      <td>0.169184</td>
      <td>0.283988</td>
      <td>0.013595</td>
      <td>0.077039</td>
      <td>0.010574</td>
      <td>0.012085</td>
      <td>13</td>
      <td>5356</td>
      <td>662</td>
      <td>PC12</td>
      <td>356</td>
      <td>1.0</td>
      <td>0.725184</td>
    </tr>
    <tr>
      <th>8072</th>
      <td>A4CBEB</td>
      <td>NaN</td>
      <td>0.142857</td>
      <td>0.285714</td>
      <td>0.142857</td>
      <td>0.000000</td>
      <td>0.428571</td>
      <td>0.857143</td>
      <td>0.000000</td>
      <td>0.142857</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.616000</td>
      <td>0.314000</td>
      <td>0.066667</td>
      <td>0.003333</td>
      <td>0.000000</td>
      <td>0.001333</td>
      <td>0.198667</td>
      <td>0.782000</td>
      <td>0.018000</td>
      <td>0.000000</td>
      <td>0.141333</td>
      <td>0.162667</td>
      <td>0.150000</td>
      <td>0.262667</td>
      <td>0.021333</td>
      <td>0.142000</td>
      <td>0.030000</td>
      <td>0.039333</td>
      <td>7</td>
      <td>4415</td>
      <td>1500</td>
      <td>B407</td>
      <td>35</td>
      <td>1.0</td>
      <td>0.721705</td>
    </tr>
    <tr>
      <th>18218</th>
      <td>ACAE97</td>
      <td>NaN</td>
      <td>0.281879</td>
      <td>0.181208</td>
      <td>0.187919</td>
      <td>0.161074</td>
      <td>0.187919</td>
      <td>0.469799</td>
      <td>0.463087</td>
      <td>0.060403</td>
      <td>0.006711</td>
      <td>0.000000</td>
      <td>0.613953</td>
      <td>0.204485</td>
      <td>0.121927</td>
      <td>0.044186</td>
      <td>0.015449</td>
      <td>0.000000</td>
      <td>0.014618</td>
      <td>0.871761</td>
      <td>0.079319</td>
      <td>0.034302</td>
      <td>0.149003</td>
      <td>0.159635</td>
      <td>0.203821</td>
      <td>0.261794</td>
      <td>0.024834</td>
      <td>0.111545</td>
      <td>0.013040</td>
      <td>0.024086</td>
      <td>149</td>
      <td>450</td>
      <td>12040</td>
      <td>unknown</td>
      <td>454</td>
      <td>1.0</td>
      <td>0.707965</td>
    </tr>
    <tr>
      <th>2768</th>
      <td>A13A84</td>
      <td>NaN</td>
      <td>0.300000</td>
      <td>0.166667</td>
      <td>0.100000</td>
      <td>0.100000</td>
      <td>0.333333</td>
      <td>0.333333</td>
      <td>0.400000</td>
      <td>0.133333</td>
      <td>0.100000</td>
      <td>0.033333</td>
      <td>0.585154</td>
      <td>0.172790</td>
      <td>0.149454</td>
      <td>0.080437</td>
      <td>0.012165</td>
      <td>0.006455</td>
      <td>0.055611</td>
      <td>0.219960</td>
      <td>0.589871</td>
      <td>0.128103</td>
      <td>0.075968</td>
      <td>0.208292</td>
      <td>0.314796</td>
      <td>0.278550</td>
      <td>0.023585</td>
      <td>0.050149</td>
      <td>0.005462</td>
      <td>0.010179</td>
      <td>30</td>
      <td>163</td>
      <td>4028</td>
      <td>C208</td>
      <td>97</td>
      <td>1.0</td>
      <td>0.697830</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5056</th>
      <td>A292C0</td>
      <td>NaN</td>
      <td>0.024390</td>
      <td>0.073171</td>
      <td>0.097561</td>
      <td>0.365854</td>
      <td>0.439024</td>
      <td>0.073171</td>
      <td>0.121951</td>
      <td>0.317073</td>
      <td>0.292683</td>
      <td>0.195122</td>
      <td>0.487427</td>
      <td>0.442940</td>
      <td>0.069632</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.170213</td>
      <td>0.264990</td>
      <td>0.338491</td>
      <td>0.226306</td>
      <td>0.000000</td>
      <td>0.096712</td>
      <td>0.127660</td>
      <td>0.030948</td>
      <td>0.388781</td>
      <td>0.001934</td>
      <td>0.125725</td>
      <td>0.044487</td>
      <td>0.061896</td>
      <td>41</td>
      <td>0</td>
      <td>517</td>
      <td>P28A</td>
      <td>323</td>
      <td>0.0</td>
      <td>0.366742</td>
    </tr>
    <tr>
      <th>15876</th>
      <td>AAC875</td>
      <td>NaN</td>
      <td>0.166667</td>
      <td>0.000000</td>
      <td>0.388889</td>
      <td>0.166667</td>
      <td>0.277778</td>
      <td>0.055556</td>
      <td>0.111111</td>
      <td>0.166667</td>
      <td>0.277778</td>
      <td>0.388889</td>
      <td>0.026807</td>
      <td>0.150350</td>
      <td>0.294872</td>
      <td>0.303030</td>
      <td>0.224942</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.003497</td>
      <td>0.010490</td>
      <td>0.986014</td>
      <td>0.027972</td>
      <td>0.023310</td>
      <td>0.162005</td>
      <td>0.537296</td>
      <td>0.101399</td>
      <td>0.092075</td>
      <td>0.009324</td>
      <td>0.017483</td>
      <td>18</td>
      <td>6542</td>
      <td>858</td>
      <td>BE9L</td>
      <td>69</td>
      <td>0.0</td>
      <td>0.366637</td>
    </tr>
    <tr>
      <th>11290</th>
      <td>A708D9</td>
      <td>NaN</td>
      <td>0.400000</td>
      <td>0.200000</td>
      <td>0.050000</td>
      <td>0.200000</td>
      <td>0.150000</td>
      <td>0.350000</td>
      <td>0.150000</td>
      <td>0.250000</td>
      <td>0.050000</td>
      <td>0.200000</td>
      <td>0.016411</td>
      <td>0.019694</td>
      <td>0.110503</td>
      <td>0.420131</td>
      <td>0.433260</td>
      <td>0.007659</td>
      <td>0.027352</td>
      <td>0.145514</td>
      <td>0.207877</td>
      <td>0.611597</td>
      <td>0.053611</td>
      <td>0.080963</td>
      <td>0.195842</td>
      <td>0.318381</td>
      <td>0.042670</td>
      <td>0.202407</td>
      <td>0.024070</td>
      <td>0.024070</td>
      <td>20</td>
      <td>7250</td>
      <td>914</td>
      <td>C340</td>
      <td>110</td>
      <td>0.0</td>
      <td>0.366272</td>
    </tr>
    <tr>
      <th>11210</th>
      <td>A6FC7C</td>
      <td>NaN</td>
      <td>0.000000</td>
      <td>0.111111</td>
      <td>0.148148</td>
      <td>0.000000</td>
      <td>0.740741</td>
      <td>0.074074</td>
      <td>0.259259</td>
      <td>0.444444</td>
      <td>0.222222</td>
      <td>0.000000</td>
      <td>0.586919</td>
      <td>0.409639</td>
      <td>0.003442</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.058520</td>
      <td>0.091222</td>
      <td>0.822719</td>
      <td>0.027539</td>
      <td>0.000000</td>
      <td>0.098107</td>
      <td>0.022375</td>
      <td>0.012048</td>
      <td>0.604131</td>
      <td>0.001721</td>
      <td>0.032702</td>
      <td>0.029260</td>
      <td>0.074010</td>
      <td>27</td>
      <td>0</td>
      <td>581</td>
      <td>C172</td>
      <td>88</td>
      <td>0.0</td>
      <td>0.364030</td>
    </tr>
    <tr>
      <th>4571</th>
      <td>A2376D</td>
      <td>NaN</td>
      <td>0.521739</td>
      <td>0.195652</td>
      <td>0.086957</td>
      <td>0.043478</td>
      <td>0.152174</td>
      <td>0.586957</td>
      <td>0.304348</td>
      <td>0.108696</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.813194</td>
      <td>0.119927</td>
      <td>0.048288</td>
      <td>0.014282</td>
      <td>0.004307</td>
      <td>0.085468</td>
      <td>0.076627</td>
      <td>0.506915</td>
      <td>0.200181</td>
      <td>0.130809</td>
      <td>0.041714</td>
      <td>0.066878</td>
      <td>0.225572</td>
      <td>0.224892</td>
      <td>0.064158</td>
      <td>0.278848</td>
      <td>0.027431</td>
      <td>0.026978</td>
      <td>46</td>
      <td>4402</td>
      <td>4411</td>
      <td>AS50</td>
      <td>18</td>
      <td>0.0</td>
      <td>0.363687</td>
    </tr>
    <tr>
      <th>6376</th>
      <td>A3886B</td>
      <td>NaN</td>
      <td>0.125000</td>
      <td>0.375000</td>
      <td>0.187500</td>
      <td>0.000000</td>
      <td>0.312500</td>
      <td>0.312500</td>
      <td>0.250000</td>
      <td>0.250000</td>
      <td>0.125000</td>
      <td>0.062500</td>
      <td>0.261993</td>
      <td>0.248708</td>
      <td>0.247232</td>
      <td>0.137269</td>
      <td>0.104797</td>
      <td>0.008118</td>
      <td>0.039852</td>
      <td>0.459041</td>
      <td>0.278967</td>
      <td>0.214022</td>
      <td>0.076753</td>
      <td>0.070111</td>
      <td>0.159410</td>
      <td>0.355720</td>
      <td>0.057565</td>
      <td>0.148339</td>
      <td>0.039114</td>
      <td>0.045756</td>
      <td>16</td>
      <td>5344</td>
      <td>1355</td>
      <td>unknown</td>
      <td>454</td>
      <td>0.0</td>
      <td>0.363620</td>
    </tr>
    <tr>
      <th>17486</th>
      <td>AC1EF0</td>
      <td>NaN</td>
      <td>0.561702</td>
      <td>0.400000</td>
      <td>0.034043</td>
      <td>0.004255</td>
      <td>0.000000</td>
      <td>0.570213</td>
      <td>0.412766</td>
      <td>0.017021</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.541743</td>
      <td>0.235070</td>
      <td>0.196831</td>
      <td>0.014321</td>
      <td>0.012035</td>
      <td>0.005789</td>
      <td>0.927940</td>
      <td>0.063224</td>
      <td>0.002133</td>
      <td>0.000914</td>
      <td>0.067642</td>
      <td>0.052255</td>
      <td>0.220902</td>
      <td>0.313224</td>
      <td>0.065052</td>
      <td>0.218160</td>
      <td>0.018739</td>
      <td>0.019500</td>
      <td>235</td>
      <td>5573</td>
      <td>6564</td>
      <td>EC30</td>
      <td>195</td>
      <td>0.0</td>
      <td>0.363581</td>
    </tr>
    <tr>
      <th>4617</th>
      <td>A24073</td>
      <td>NaN</td>
      <td>0.545455</td>
      <td>0.363636</td>
      <td>0.045455</td>
      <td>0.045455</td>
      <td>0.000000</td>
      <td>0.545455</td>
      <td>0.454545</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.365062</td>
      <td>0.303471</td>
      <td>0.279955</td>
      <td>0.038074</td>
      <td>0.013438</td>
      <td>0.015677</td>
      <td>0.958567</td>
      <td>0.008959</td>
      <td>0.016797</td>
      <td>0.000000</td>
      <td>0.059351</td>
      <td>0.061590</td>
      <td>0.248600</td>
      <td>0.316909</td>
      <td>0.053751</td>
      <td>0.199328</td>
      <td>0.019037</td>
      <td>0.012318</td>
      <td>22</td>
      <td>5565</td>
      <td>893</td>
      <td>EC30</td>
      <td>195</td>
      <td>0.0</td>
      <td>0.363265</td>
    </tr>
    <tr>
      <th>15243</th>
      <td>AA3C74</td>
      <td>NaN</td>
      <td>0.000000</td>
      <td>0.166667</td>
      <td>0.333333</td>
      <td>0.166667</td>
      <td>0.333333</td>
      <td>0.000000</td>
      <td>0.666667</td>
      <td>0.333333</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.018028</td>
      <td>0.082817</td>
      <td>0.869859</td>
      <td>0.029296</td>
      <td>0.000000</td>
      <td>0.127324</td>
      <td>0.251831</td>
      <td>0.273803</td>
      <td>0.347042</td>
      <td>0.000000</td>
      <td>0.063099</td>
      <td>0.117746</td>
      <td>0.369577</td>
      <td>0.184225</td>
      <td>0.090141</td>
      <td>0.136901</td>
      <td>0.011831</td>
      <td>0.005634</td>
      <td>6</td>
      <td>1200</td>
      <td>1775</td>
      <td>unknown</td>
      <td>454</td>
      <td>0.0</td>
      <td>0.361308</td>
    </tr>
    <tr>
      <th>10632</th>
      <td>A68BD9</td>
      <td>NaN</td>
      <td>0.333333</td>
      <td>0.121212</td>
      <td>0.333333</td>
      <td>0.121212</td>
      <td>0.090909</td>
      <td>0.818182</td>
      <td>0.181818</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.845526</td>
      <td>0.134380</td>
      <td>0.014129</td>
      <td>0.000314</td>
      <td>0.005651</td>
      <td>0.018838</td>
      <td>0.340345</td>
      <td>0.626374</td>
      <td>0.014443</td>
      <td>0.000000</td>
      <td>0.048352</td>
      <td>0.054631</td>
      <td>0.118053</td>
      <td>0.226374</td>
      <td>0.037049</td>
      <td>0.395604</td>
      <td>0.042386</td>
      <td>0.040502</td>
      <td>33</td>
      <td>5366</td>
      <td>3185</td>
      <td>AS50</td>
      <td>18</td>
      <td>0.0</td>
      <td>0.360509</td>
    </tr>
    <tr>
      <th>1724</th>
      <td>A07CB3</td>
      <td>NaN</td>
      <td>0.411765</td>
      <td>0.176471</td>
      <td>0.176471</td>
      <td>0.058824</td>
      <td>0.176471</td>
      <td>0.176471</td>
      <td>0.235294</td>
      <td>0.176471</td>
      <td>0.176471</td>
      <td>0.235294</td>
      <td>0.122995</td>
      <td>0.192513</td>
      <td>0.247772</td>
      <td>0.181818</td>
      <td>0.254902</td>
      <td>0.007130</td>
      <td>0.000000</td>
      <td>0.007130</td>
      <td>0.053476</td>
      <td>0.932264</td>
      <td>0.030303</td>
      <td>0.057041</td>
      <td>0.163993</td>
      <td>0.286988</td>
      <td>0.033868</td>
      <td>0.269162</td>
      <td>0.049911</td>
      <td>0.055258</td>
      <td>17</td>
      <td>5372</td>
      <td>561</td>
      <td>BE20</td>
      <td>48</td>
      <td>0.0</td>
      <td>0.360071</td>
    </tr>
    <tr>
      <th>13930</th>
      <td>A94B0D</td>
      <td>NaN</td>
      <td>0.345794</td>
      <td>0.224299</td>
      <td>0.102804</td>
      <td>0.065421</td>
      <td>0.261682</td>
      <td>0.345794</td>
      <td>0.345794</td>
      <td>0.261682</td>
      <td>0.046729</td>
      <td>0.000000</td>
      <td>0.730611</td>
      <td>0.186539</td>
      <td>0.069826</td>
      <td>0.007898</td>
      <td>0.005126</td>
      <td>0.286867</td>
      <td>0.095370</td>
      <td>0.494832</td>
      <td>0.122595</td>
      <td>0.000336</td>
      <td>0.056298</td>
      <td>0.055037</td>
      <td>0.188135</td>
      <td>0.120158</td>
      <td>0.053273</td>
      <td>0.310562</td>
      <td>0.088144</td>
      <td>0.074363</td>
      <td>107</td>
      <td>4406</td>
      <td>11901</td>
      <td>AS50</td>
      <td>18</td>
      <td>0.0</td>
      <td>0.357182</td>
    </tr>
    <tr>
      <th>11850</th>
      <td>A77D67</td>
      <td>NaN</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.100000</td>
      <td>0.300000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.300000</td>
      <td>0.300000</td>
      <td>0.000000</td>
      <td>0.032982</td>
      <td>0.088391</td>
      <td>0.191293</td>
      <td>0.386544</td>
      <td>0.300792</td>
      <td>0.007916</td>
      <td>0.043536</td>
      <td>0.105541</td>
      <td>0.162269</td>
      <td>0.680739</td>
      <td>0.085752</td>
      <td>0.087071</td>
      <td>0.218997</td>
      <td>0.275726</td>
      <td>0.059367</td>
      <td>0.175462</td>
      <td>0.019789</td>
      <td>0.038259</td>
      <td>10</td>
      <td>4747</td>
      <td>758</td>
      <td>PA46</td>
      <td>350</td>
      <td>0.0</td>
      <td>0.355780</td>
    </tr>
    <tr>
      <th>12533</th>
      <td>A804F8</td>
      <td>NaN</td>
      <td>0.103448</td>
      <td>0.068966</td>
      <td>0.034483</td>
      <td>0.172414</td>
      <td>0.620690</td>
      <td>0.379310</td>
      <td>0.413793</td>
      <td>0.068966</td>
      <td>0.137931</td>
      <td>0.000000</td>
      <td>0.430556</td>
      <td>0.203125</td>
      <td>0.293403</td>
      <td>0.071181</td>
      <td>0.001736</td>
      <td>0.038194</td>
      <td>0.039931</td>
      <td>0.361111</td>
      <td>0.560764</td>
      <td>0.000000</td>
      <td>0.111111</td>
      <td>0.046875</td>
      <td>0.015625</td>
      <td>0.503472</td>
      <td>0.001736</td>
      <td>0.029514</td>
      <td>0.031250</td>
      <td>0.097222</td>
      <td>29</td>
      <td>0</td>
      <td>576</td>
      <td>C208</td>
      <td>97</td>
      <td>0.0</td>
      <td>0.355183</td>
    </tr>
    <tr>
      <th>3547</th>
      <td>A1AC9A</td>
      <td>NaN</td>
      <td>0.300000</td>
      <td>0.100000</td>
      <td>0.400000</td>
      <td>0.000000</td>
      <td>0.200000</td>
      <td>0.400000</td>
      <td>0.400000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.200000</td>
      <td>0.601726</td>
      <td>0.181258</td>
      <td>0.135635</td>
      <td>0.027127</td>
      <td>0.054254</td>
      <td>0.261406</td>
      <td>0.215783</td>
      <td>0.165228</td>
      <td>0.355117</td>
      <td>0.002466</td>
      <td>0.061652</td>
      <td>0.078915</td>
      <td>0.202219</td>
      <td>0.305795</td>
      <td>0.049322</td>
      <td>0.231813</td>
      <td>0.022195</td>
      <td>0.024661</td>
      <td>10</td>
      <td>6366</td>
      <td>811</td>
      <td>C207</td>
      <td>96</td>
      <td>0.0</td>
      <td>0.354287</td>
    </tr>
    <tr>
      <th>4045</th>
      <td>A1E5DB</td>
      <td>NaN</td>
      <td>0.343750</td>
      <td>0.187500</td>
      <td>0.250000</td>
      <td>0.093750</td>
      <td>0.125000</td>
      <td>0.312500</td>
      <td>0.218750</td>
      <td>0.218750</td>
      <td>0.156250</td>
      <td>0.093750</td>
      <td>0.422093</td>
      <td>0.427907</td>
      <td>0.097674</td>
      <td>0.019186</td>
      <td>0.033140</td>
      <td>0.000581</td>
      <td>0.355233</td>
      <td>0.083140</td>
      <td>0.288953</td>
      <td>0.272093</td>
      <td>0.108721</td>
      <td>0.094767</td>
      <td>0.216860</td>
      <td>0.162791</td>
      <td>0.036628</td>
      <td>0.252326</td>
      <td>0.047093</td>
      <td>0.034302</td>
      <td>32</td>
      <td>0</td>
      <td>1720</td>
      <td>BE36</td>
      <td>54</td>
      <td>0.0</td>
      <td>0.353317</td>
    </tr>
    <tr>
      <th>7709</th>
      <td>A490B0</td>
      <td>NaN</td>
      <td>0.302326</td>
      <td>0.220930</td>
      <td>0.116279</td>
      <td>0.174419</td>
      <td>0.186047</td>
      <td>0.337209</td>
      <td>0.360465</td>
      <td>0.255814</td>
      <td>0.046512</td>
      <td>0.000000</td>
      <td>0.824277</td>
      <td>0.137437</td>
      <td>0.023951</td>
      <td>0.007468</td>
      <td>0.006868</td>
      <td>0.123530</td>
      <td>0.161473</td>
      <td>0.701090</td>
      <td>0.013907</td>
      <td>0.000000</td>
      <td>0.057001</td>
      <td>0.068675</td>
      <td>0.169542</td>
      <td>0.217272</td>
      <td>0.045068</td>
      <td>0.315907</td>
      <td>0.056486</td>
      <td>0.033393</td>
      <td>86</td>
      <td>4404</td>
      <td>11649</td>
      <td>AS50</td>
      <td>18</td>
      <td>0.0</td>
      <td>0.351811</td>
    </tr>
    <tr>
      <th>7767</th>
      <td>A4A081</td>
      <td>NaN</td>
      <td>0.158333</td>
      <td>0.500000</td>
      <td>0.125000</td>
      <td>0.075000</td>
      <td>0.141667</td>
      <td>0.541667</td>
      <td>0.441667</td>
      <td>0.016667</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.655976</td>
      <td>0.212677</td>
      <td>0.076556</td>
      <td>0.031501</td>
      <td>0.023291</td>
      <td>0.000000</td>
      <td>0.001718</td>
      <td>0.020237</td>
      <td>0.282742</td>
      <td>0.695304</td>
      <td>0.126766</td>
      <td>0.097938</td>
      <td>0.171058</td>
      <td>0.163421</td>
      <td>0.023482</td>
      <td>0.236159</td>
      <td>0.068919</td>
      <td>0.074074</td>
      <td>120</td>
      <td>256</td>
      <td>5238</td>
      <td>C208</td>
      <td>97</td>
      <td>0.0</td>
      <td>0.351689</td>
    </tr>
    <tr>
      <th>6739</th>
      <td>A3C452</td>
      <td>NaN</td>
      <td>0.371429</td>
      <td>0.114286</td>
      <td>0.114286</td>
      <td>0.114286</td>
      <td>0.285714</td>
      <td>0.314286</td>
      <td>0.028571</td>
      <td>0.200000</td>
      <td>0.057143</td>
      <td>0.400000</td>
      <td>0.045760</td>
      <td>0.090848</td>
      <td>0.351279</td>
      <td>0.259758</td>
      <td>0.252355</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.009421</td>
      <td>0.990579</td>
      <td>0.015478</td>
      <td>0.033647</td>
      <td>0.227456</td>
      <td>0.430013</td>
      <td>0.076716</td>
      <td>0.183042</td>
      <td>0.012113</td>
      <td>0.012786</td>
      <td>35</td>
      <td>2533</td>
      <td>1486</td>
      <td>CV64</td>
      <td>155</td>
      <td>0.0</td>
      <td>0.350274</td>
    </tr>
    <tr>
      <th>2665</th>
      <td>A124EB</td>
      <td>NaN</td>
      <td>0.517007</td>
      <td>0.401361</td>
      <td>0.081633</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.448980</td>
      <td>0.401361</td>
      <td>0.149660</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.162081</td>
      <td>0.140219</td>
      <td>0.232567</td>
      <td>0.151527</td>
      <td>0.313607</td>
      <td>0.000000</td>
      <td>0.008669</td>
      <td>0.567659</td>
      <td>0.368262</td>
      <td>0.055409</td>
      <td>0.134942</td>
      <td>0.088956</td>
      <td>0.118357</td>
      <td>0.312853</td>
      <td>0.009423</td>
      <td>0.146250</td>
      <td>0.049001</td>
      <td>0.067848</td>
      <td>147</td>
      <td>1200</td>
      <td>2653</td>
      <td>DHC6</td>
      <td>176</td>
      <td>0.0</td>
      <td>0.347884</td>
    </tr>
    <tr>
      <th>8330</th>
      <td>A4E8BC</td>
      <td>NaN</td>
      <td>0.886275</td>
      <td>0.086275</td>
      <td>0.019608</td>
      <td>0.007843</td>
      <td>0.000000</td>
      <td>0.960784</td>
      <td>0.039216</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.754590</td>
      <td>0.242216</td>
      <td>0.003034</td>
      <td>0.000000</td>
      <td>0.000160</td>
      <td>0.889350</td>
      <td>0.090532</td>
      <td>0.019958</td>
      <td>0.000000</td>
      <td>0.000160</td>
      <td>0.140827</td>
      <td>0.137953</td>
      <td>0.195913</td>
      <td>0.085742</td>
      <td>0.053489</td>
      <td>0.203417</td>
      <td>0.049337</td>
      <td>0.044707</td>
      <td>255</td>
      <td>1200</td>
      <td>6263</td>
      <td>WACF</td>
      <td>447</td>
      <td>0.0</td>
      <td>0.347794</td>
    </tr>
    <tr>
      <th>7916</th>
      <td>A4B425</td>
      <td>NaN</td>
      <td>0.069767</td>
      <td>0.162791</td>
      <td>0.069767</td>
      <td>0.302326</td>
      <td>0.395349</td>
      <td>0.046512</td>
      <td>0.069767</td>
      <td>0.186047</td>
      <td>0.534884</td>
      <td>0.162791</td>
      <td>0.000312</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.003012</td>
      <td>0.996677</td>
      <td>0.108942</td>
      <td>0.063143</td>
      <td>0.116315</td>
      <td>0.098349</td>
      <td>0.613252</td>
      <td>0.044968</td>
      <td>0.117458</td>
      <td>0.275626</td>
      <td>0.178523</td>
      <td>0.095337</td>
      <td>0.227646</td>
      <td>0.022225</td>
      <td>0.011735</td>
      <td>43</td>
      <td>5276</td>
      <td>9629</td>
      <td>KFIR</td>
      <td>272</td>
      <td>0.0</td>
      <td>0.347514</td>
    </tr>
    <tr>
      <th>7708</th>
      <td>A49047</td>
      <td>NaN</td>
      <td>0.533333</td>
      <td>0.211111</td>
      <td>0.133333</td>
      <td>0.066667</td>
      <td>0.055556</td>
      <td>0.644444</td>
      <td>0.300000</td>
      <td>0.044444</td>
      <td>0.011111</td>
      <td>0.000000</td>
      <td>0.856902</td>
      <td>0.113035</td>
      <td>0.011785</td>
      <td>0.003608</td>
      <td>0.014671</td>
      <td>0.333093</td>
      <td>0.118326</td>
      <td>0.441799</td>
      <td>0.106782</td>
      <td>0.000000</td>
      <td>0.052910</td>
      <td>0.045695</td>
      <td>0.141895</td>
      <td>0.281866</td>
      <td>0.032708</td>
      <td>0.333814</td>
      <td>0.038240</td>
      <td>0.039683</td>
      <td>90</td>
      <td>4404</td>
      <td>4158</td>
      <td>AS50</td>
      <td>18</td>
      <td>0.0</td>
      <td>0.343057</td>
    </tr>
    <tr>
      <th>814</th>
      <td>A014B2</td>
      <td>NaN</td>
      <td>0.187500</td>
      <td>0.125000</td>
      <td>0.062500</td>
      <td>0.000000</td>
      <td>0.625000</td>
      <td>0.187500</td>
      <td>0.062500</td>
      <td>0.093750</td>
      <td>0.062500</td>
      <td>0.593750</td>
      <td>0.007563</td>
      <td>0.100840</td>
      <td>0.180672</td>
      <td>0.245378</td>
      <td>0.465546</td>
      <td>0.019328</td>
      <td>0.016807</td>
      <td>0.031933</td>
      <td>0.252941</td>
      <td>0.678992</td>
      <td>0.022689</td>
      <td>0.117647</td>
      <td>0.183193</td>
      <td>0.306723</td>
      <td>0.046218</td>
      <td>0.253782</td>
      <td>0.020168</td>
      <td>0.011765</td>
      <td>32</td>
      <td>0</td>
      <td>1190</td>
      <td>PA31</td>
      <td>346</td>
      <td>0.0</td>
      <td>0.342331</td>
    </tr>
    <tr>
      <th>19306</th>
      <td>AD9AD1</td>
      <td>NaN</td>
      <td>0.000000</td>
      <td>0.333333</td>
      <td>0.166667</td>
      <td>0.333333</td>
      <td>0.166667</td>
      <td>0.000000</td>
      <td>0.166667</td>
      <td>0.333333</td>
      <td>0.333333</td>
      <td>0.166667</td>
      <td>0.007561</td>
      <td>0.173913</td>
      <td>0.207940</td>
      <td>0.253308</td>
      <td>0.357278</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.013233</td>
      <td>0.098299</td>
      <td>0.888469</td>
      <td>0.015123</td>
      <td>0.115312</td>
      <td>0.232514</td>
      <td>0.217391</td>
      <td>0.041588</td>
      <td>0.323251</td>
      <td>0.026465</td>
      <td>0.009452</td>
      <td>6</td>
      <td>2107</td>
      <td>529</td>
      <td>unknown</td>
      <td>454</td>
      <td>0.0</td>
      <td>0.341955</td>
    </tr>
    <tr>
      <th>5967</th>
      <td>A34C6F</td>
      <td>NaN</td>
      <td>0.100000</td>
      <td>0.200000</td>
      <td>0.100000</td>
      <td>0.400000</td>
      <td>0.200000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.100000</td>
      <td>0.200000</td>
      <td>0.600000</td>
      <td>0.155271</td>
      <td>0.329060</td>
      <td>0.210826</td>
      <td>0.160969</td>
      <td>0.143875</td>
      <td>0.004274</td>
      <td>0.022792</td>
      <td>0.015670</td>
      <td>0.022792</td>
      <td>0.934473</td>
      <td>0.071225</td>
      <td>0.105413</td>
      <td>0.148148</td>
      <td>0.272080</td>
      <td>0.064103</td>
      <td>0.243590</td>
      <td>0.038462</td>
      <td>0.038462</td>
      <td>10</td>
      <td>4574</td>
      <td>702</td>
      <td>PC12</td>
      <td>356</td>
      <td>0.0</td>
      <td>0.341723</td>
    </tr>
    <tr>
      <th>4497</th>
      <td>A22D30</td>
      <td>NaN</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.333333</td>
      <td>0.333333</td>
      <td>0.333333</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.333333</td>
      <td>0.333333</td>
      <td>0.333333</td>
      <td>0.861280</td>
      <td>0.121951</td>
      <td>0.010671</td>
      <td>0.001524</td>
      <td>0.004573</td>
      <td>0.004573</td>
      <td>0.003049</td>
      <td>0.064024</td>
      <td>0.496951</td>
      <td>0.431402</td>
      <td>0.039634</td>
      <td>0.092988</td>
      <td>0.245427</td>
      <td>0.207317</td>
      <td>0.041159</td>
      <td>0.329268</td>
      <td>0.013720</td>
      <td>0.015244</td>
      <td>3</td>
      <td>6347</td>
      <td>656</td>
      <td>C177</td>
      <td>89</td>
      <td>0.0</td>
      <td>0.341612</td>
    </tr>
    <tr>
      <th>8917</th>
      <td>A54034</td>
      <td>NaN</td>
      <td>0.076923</td>
      <td>0.076923</td>
      <td>0.153846</td>
      <td>0.230769</td>
      <td>0.461538</td>
      <td>0.000000</td>
      <td>0.076923</td>
      <td>0.153846</td>
      <td>0.307692</td>
      <td>0.461538</td>
      <td>0.141117</td>
      <td>0.245685</td>
      <td>0.151269</td>
      <td>0.293401</td>
      <td>0.168528</td>
      <td>0.002538</td>
      <td>0.002030</td>
      <td>0.008122</td>
      <td>0.156853</td>
      <td>0.830457</td>
      <td>0.066497</td>
      <td>0.095939</td>
      <td>0.190355</td>
      <td>0.270051</td>
      <td>0.049746</td>
      <td>0.232487</td>
      <td>0.042640</td>
      <td>0.025888</td>
      <td>13</td>
      <td>7273</td>
      <td>1970</td>
      <td>PA46</td>
      <td>350</td>
      <td>0.0</td>
      <td>0.340988</td>
    </tr>
    <tr>
      <th>5774</th>
      <td>A33225</td>
      <td>NaN</td>
      <td>0.685714</td>
      <td>0.257143</td>
      <td>0.028571</td>
      <td>0.000000</td>
      <td>0.028571</td>
      <td>0.771429</td>
      <td>0.171429</td>
      <td>0.057143</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.438511</td>
      <td>0.428803</td>
      <td>0.105178</td>
      <td>0.019417</td>
      <td>0.008091</td>
      <td>0.208738</td>
      <td>0.328479</td>
      <td>0.129450</td>
      <td>0.009709</td>
      <td>0.323625</td>
      <td>0.082524</td>
      <td>0.092233</td>
      <td>0.297735</td>
      <td>0.140777</td>
      <td>0.076052</td>
      <td>0.208738</td>
      <td>0.027508</td>
      <td>0.038835</td>
      <td>35</td>
      <td>0</td>
      <td>618</td>
      <td>C172</td>
      <td>88</td>
      <td>0.0</td>
      <td>0.340298</td>
    </tr>
    <tr>
      <th>6597</th>
      <td>A3AFE6</td>
      <td>NaN</td>
      <td>0.111111</td>
      <td>0.000000</td>
      <td>0.111111</td>
      <td>0.055556</td>
      <td>0.722222</td>
      <td>0.000000</td>
      <td>0.111111</td>
      <td>0.111111</td>
      <td>0.444444</td>
      <td>0.333333</td>
      <td>0.003420</td>
      <td>0.000244</td>
      <td>0.007085</td>
      <td>0.048620</td>
      <td>0.940630</td>
      <td>0.044710</td>
      <td>0.028097</td>
      <td>0.034205</td>
      <td>0.031029</td>
      <td>0.861959</td>
      <td>0.047398</td>
      <td>0.107745</td>
      <td>0.279746</td>
      <td>0.126802</td>
      <td>0.058637</td>
      <td>0.292206</td>
      <td>0.028585</td>
      <td>0.025409</td>
      <td>18</td>
      <td>5276</td>
      <td>4093</td>
      <td>HUNT</td>
      <td>260</td>
      <td>0.0</td>
      <td>0.339231</td>
    </tr>
  </tbody>
</table>
<p>200 rows  37 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">top_predictions</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;planes-to-research.csv&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Questions">Questions<a class="anchor-link" href="#Questions">#</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-1">Question 1<a class="anchor-link" href="#Question-1">#</a></h3><p>What kind of machine learning are we doing here, and why are we doing it?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Classification (or supervised learning) because we have labels</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-2">Question 2<a class="anchor-link" href="#Question-2">#</a></h3><p>What are a few different ways you can deal with categorical data? Think about how we dealt with race in the reveal regression compared to how we dealt with type in this dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># You can one-hot encode them if you have few</span>
<span class="c1"># You can just make them numbers if you have a lot</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-3">Question 3<a class="anchor-link" href="#Question-3">#</a></h3><p>Every time we ran a machine learning algorithm on our dataset, we looked at feature importance.</p>
<ul>
<li>When might it be important to explain what our model found important?</li>
<li>When might it not be important?</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># If we&#39;re trying to understand what&#39;s going wrong or why it is/isn&#39;t working well</span>
<span class="c1"># It&#39;s more important if we&#39;re presenting this to the public</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-4">Question 4<a class="anchor-link" href="#Question-4">#</a></h3><p>Using words and not column names, describe what the machine learning algorithm found to be important when identifying surveillance planes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Slow speed, constant turning vs going straight</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-5">Question 5<a class="anchor-link" href="#Question-5">#</a></h3><p>Why did we use test/train split when it would have been more effective to give our model all of the data from the start?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Shouldn&#39;t test on things that it&#39;s already seen</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-6">Question 6<a class="anchor-link" href="#Question-6">#</a></h3><p>Why did we use a random forest instead of a decision tree or logistic regression? Was there something about the data?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Because it did a better job!!!</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-7">Question 7<a class="anchor-link" href="#Question-7">#</a></h3><p>Why did we use probability instead of just looking for planes with a predicted value of 1? It seems like we should have just trusted the algorithm, right?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># The 0/1 is an arbitrary cutoff of 50%, we&#39;re fine going lower because it gives us more to research</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-8">Question 8<a class="anchor-link" href="#Question-8">#</a></h3><p>What if our random forest or input dataset were flawed? What would be the repercussions?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># We&#39;d be investigating a bunch of planes that didn&#39;t need to be investigated</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-9">Question 9<a class="anchor-link" href="#Question-9">#</a></h3><p>The government could claim that we're threatening national security by publishing this paper as well as publishing this code - now anyone could look for planes that are surveilling them. What do you think?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Up to you!</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-10">Question 10<a class="anchor-link" href="#Question-10">#</a></h3><p>We're using data from the past, but you can get real-time flight data from many services. Can you think of any uses for this algorithm using real-time instead of historical data?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Finding out when something crazy is going on police-wise, maybe</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-11">Question 11<a class="anchor-link" href="#Question-11">#</a></h3><p>This isn't a question, but if you look at <code>candidates.csv</code> and <code>candidates-annotates.csv</code> you can see how Buzzfeed did their research after finding a list of suspicious planes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># k</span>
</pre></div>

    </div>
</div>
</div>

</div>
 


    </div>
  </div>
</div>

<script>
  [...document.querySelectorAll(".code_cell")].filter(cell => cell.innerText.trim().length === 0).forEach(cell => cell.remove())
</script>

  <div class="footer bg-secondary">
  <div class="content">
    <div class="columns">
      <div class="column col-6 col-sm-12">
        <p><strong>Hi, welcome to Data Science for Journalism!</strong></p>
        <p>There's been a lot of buzz about machine learning and "artificial intelligence" being used in stories over
          the past few years. It's mostly not that complicated - a little stats, a classifier here or there - but it's
          hard to know where to start without a little help.</p>
        <p>Hopefully this site can be that help! <a href="/ds4j/about">Learn more about this project here.</a></p>
      </div>
      <div class="column col-3 col-sm-6">
        <p><strong>Quick links</strong></p>
        <!-- <p><a href="#">Something here</a></p>
        <p><a href="#">Something here</a></p>
        <p><a href="#">Something here</a></p> -->
      </div>
      <div class="column col-3 col-sm6">
        <p><strong>Contact</strong></p>
        <p><a href="mailto:hello@littlecolumns.com">hello@littlecolumns.com</a></p>
      </div>
    </div>
  </div>
</div>
  <script src="/ds4j/js/tocbot.js"></script>

  <script>
    try {
      let toc = document.createElement("div")
      toc.setAttribute('class', 'js-toc')
      document.querySelector(".reading-options").parentNode.appendChild(toc)
    } catch (err) {

    }

    tocbot.init({
      // Where to render the table of contents.
      tocSelector: '.js-toc',
      // Where to grab the headings to build the table of contents.
      contentSelector: '.notebook',
      // Which headings to grab inside of the contentSelector element.
      headingSelector: 'h1, h2, h3, h4',
      activeLinkClass: 'active',
      listClass: 'nav',
      listItemClass: 'nav-item',
      headingLabelCallback: function (label) {
        return label.replace("#", "")
      }
    });
  </script>

</body>

</html>