<!doctype html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <title>Inspecting classifications</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">
  <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Raleway:400,700|Open+Sans:400,700&display=swap" rel="stylesheet"> -->
  <link rel="stylesheet" href="/ds4j/css/spectre.min.css">
  <link rel="stylesheet" href="/ds4j/css/spectre-exp.min.css">
  <link rel="stylesheet" href="/ds4j/css/spectre-icons.min.css">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/ds4j/css/style.css" rel="stylesheet">
  <link href="/ds4j/css/highlight.css" rel="stylesheet">
</head>

<body>
  <div class="nav-holder bg-secondary">
  <div class='content'>
    <header class="navbar">
      <section class="navbar-section">
        <a href="/ds4j/" class="navbar-brand mr-2">DS4J</a>
      </section>
      <section class="navbar-section">
        <a href="/ds4j/projects" class="btn btn-link">Projects</a>
        <a href="/ds4j/topics" class="btn btn-link">Topics</a>
        <a href="/ds4j/curriculum" class="btn btn-link">Curriculum</a>
        <a href="/ds4j/about" class="btn btn-link">About</a>
      </section>
    </header>
  </div>
</div>
  
<div class="content text-based">
  <div class="columns">
    <div class="column col-12 notebook">
      <ul class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="#">Projects</a>
        </li>
        <li class="breadcrumb-item">
          <a href="/ds4j/latimes-crime-classification/">Building a crime classification engine</a>
        </li>
        <li class="breadcrumb-item">
          <a href="/ds4j/latimes-crime-classification/inspecting-classifications">Inspecting classifications</a>
        </li>
      </ul>

      <div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Taking-a-closer-look-at-our-crime-classifier's-shortcomings">Taking a closer look at our crime classifier's shortcomings<a class="anchor-link" href="#Taking-a-closer-look-at-our-crime-classifier's-shortcomings">#</a></h1><p>In our last project, we built a detector to identify serious assaults that were downgraded into simple assaults. In this notebook we'll see how our algorithm operates, and address any issues about what this technique might miss.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p class="reading-options">
  <a class="btn" href="/ds4j/latimes-crime-classification/inspecting-classifications">
    <i class="fa fa-sm fa-book"></i>
    Read online
  </a>
  <a class="btn" href="/ds4j/latimes-crime-classification/notebooks/Inspecting classifications.ipynb">
    <i class="fa fa-sm fa-download"></i>
    Download notebook
  </a>
  <a class="btn" href="#">
    <i class="fa fa-sm fa-laptop"></i>
    Interactive version
  </a>
</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Imports-and-setup">Imports and setup<a class="anchor-link" href="#Imports-and-setup">#</a></h2><p>First we'll set some options up to make everything display correctly. It's mostly because these assault descriptions can be quite long, and the default is to truncate text after a few words.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">LinearSVC</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Repeat-our-analysis">Repeat our analysis<a class="anchor-link" href="#Repeat-our-analysis">#</a></h1><p>First we'll repeat the majority of our processing and analysis from the first notebook, then we'll get into the critique.</p>
<h2 id="Read-in-our-data">Read in our data<a class="anchor-link" href="#Read-in-our-data">#</a></h2><p>Our dataset is going to be a database of crime reports between 2008 and 2012. It will start off with two columns:</p>
<ul>
<li><code>CCDESC</code>, what criminal code was violated</li>
<li><code>DO_NARRATIVE</code>, a short text description of what happened</li>
</ul>
<p>We're going to use this description to see if we can separate serious cases of assault compared to non-serious cases of assault.</p>
<p>We won't be covering the process of vectorizing our dataset and creating our classifier in this notebook. Instead, we're going to focus on analyzing the possible shortcomings of our analysis, both conceptually and technically.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Read in our dataset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/2008-2012.csv&quot;</span><span class="p">)</span>

<span class="c1"># Only use reports classified as types of assault</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">CCDESC</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;ASSAULT&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Classify as serious or non-serious</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;serious&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">CCDESC</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;AGGRAVATED&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">df</span><span class="o">.</span><span class="n">CCDESC</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;DEADLY&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;serious&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;serious&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># Downgrade 15% from aggravated to simple assault</span>
<span class="n">serious_subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">serious</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;downgraded&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">serious_subset</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;downgraded&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">serious_subset</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;serious&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Examine the first few</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CCDESC</th>
      <th>DO_NARRATIVE</th>
      <th>serious</th>
      <th>downgraded</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-S APPRCHED V AND STATED ARE YOU GOING TO FCK ME V REPLIED NO SUSP PULL ED OUT A KNIFE AND STATED IM HERE TO HURT YOU BTCH S USED PROFANITIES</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-SUSP USED RIGHT FIST TO PUNCH VICT IN THE HEAD ONCE N PULL VICT HAIR   FOR APPRX 15 SECONDS</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-S APPROACHED V IN VEH S SLAPPED AND LUNGGED AT V</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>11</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-V STATED THAT SUSP CONFRT HER WHEN SHE TRIED TO APPR HER HUSBAND SUSP  AND V HUSBAND ARE FRNDS SUSP YELLED STAY AWAY FROM HIM AND PUSHED V</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>16</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-SUSPS WERE VERBALLY ABUSING VICT DURING WHICH TIME S1 STRUCK VICT THREETIMES ON THE BACK OF HIS LEFT SHOULDER</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Vectorize">Vectorize<a class="anchor-link" href="#Vectorize">#</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>

<span class="kn">from</span> <span class="nn">nltk.stem</span> <span class="kn">import</span> <span class="n">SnowballStemmer</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>

<span class="n">stemmer</span> <span class="o">=</span> <span class="n">SnowballStemmer</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">StemmedTfidfVectorizer</span><span class="p">(</span><span class="n">TfidfVectorizer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build_analyzer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">analyzer</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">StemmedTfidfVectorizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">build_analyzer</span><span class="p">()</span>
        <span class="k">return</span> <span class="k">lambda</span> <span class="n">doc</span><span class="p">:(</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">analyzer</span><span class="p">(</span><span class="n">doc</span><span class="p">))</span>

<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">StemmedTfidfVectorizer</span><span class="p">(</span><span class="n">min_df</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">DO_NARRATIVE</span><span class="p">)</span>
<span class="n">words_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span>
<span class="n">words_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 1min 5s, sys: 2.43 s, total: 1min 8s
Wall time: 1min 10s
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>01</th>
      <th>10</th>
      <th>100</th>
      <th>101</th>
      <th>10x</th>
      <th>10yr</th>
      <th>11</th>
      <th>112</th>
      <th>118</th>
      <th>11th</th>
      <th>11yr</th>
      <th>12</th>
      <th>12yr</th>
      <th>13</th>
      <th>14</th>
      <th>14yr</th>
      <th>15</th>
      <th>15yr</th>
      <th>16</th>
      <th>17</th>
      <th>18</th>
      <th>18th</th>
      <th>18yr</th>
      <th>19</th>
      <th>1s</th>
      <th>1st</th>
      <th>1x</th>
      <th>1yr</th>
      <th>20</th>
      <th>20yr</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
      <th>23rd</th>
      <th>24</th>
      <th>25</th>
      <th>28th</th>
      <th>2nd</th>
      <th>2time</th>
      <th>2x</th>
      <th>2x4</th>
      <th>2yr</th>
      <th>30</th>
      <th>35th</th>
      <th>36th</th>
      <th>38th</th>
      <th>390</th>
      <th>39th</th>
      <th>3mos</th>
      <th>3rd</th>
      <th>...</th>
      <th>wit2</th>
      <th>with</th>
      <th>witha</th>
      <th>withclos</th>
      <th>withhi</th>
      <th>within</th>
      <th>without</th>
      <th>withv</th>
      <th>wk</th>
      <th>wks</th>
      <th>wndw</th>
      <th>wo</th>
      <th>woke</th>
      <th>woman</th>
      <th>women</th>
      <th>wood</th>
      <th>wooden</th>
      <th>word</th>
      <th>work</th>
      <th>worker</th>
      <th>workplac</th>
      <th>would</th>
      <th>wouldnt</th>
      <th>wound</th>
      <th>wrap</th>
      <th>wre</th>
      <th>wrench</th>
      <th>wrestl</th>
      <th>wrist</th>
      <th>write</th>
      <th>wrong</th>
      <th>wrote</th>
      <th>ws</th>
      <th>wth</th>
      <th>wtih</th>
      <th>wy</th>
      <th>xboyfriend</th>
      <th>xs</th>
      <th>yank</th>
      <th>yard</th>
      <th>year</th>
      <th>yell</th>
      <th>yellow</th>
      <th>yes</th>
      <th>yo</th>
      <th>you</th>
      <th>younger</th>
      <th>your</th>
      <th>yr</th>
      <th>yrs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.313373</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.4045</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.226112</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 2879 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Classify">Classify<a class="anchor-link" href="#Classify">#</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">words_df</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">serious</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">LinearSVC</span><span class="p">()</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 4.62 s, sys: 2.77 s, total: 7.39 s
Wall time: 8.66 s
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>LinearSVC(C=1.0, class_weight=None, dual=True, fit_intercept=True,
          intercept_scaling=1, loss=&#39;squared_hinge&#39;, max_iter=1000,
          multi_class=&#39;ovr&#39;, penalty=&#39;l2&#39;, random_state=None, tol=0.0001,
          verbose=0)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Analyzing-our-classifier">Analyzing our classifier<a class="anchor-link" href="#Analyzing-our-classifier">#</a></h1><h2 id="What-words-are-important?">What words are important?<a class="anchor-link" href="#What-words-are-important?">#</a></h2><p>Before we see how our classifier performs, let's take a look at which words point towards a report being either simple or aggravated assault. In this case, we're going to look at the top and bottom 20 terms.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">eli5</span>

<span class="n">eli5</span><span class="o">.</span><span class="n">show_weights</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">vec</span><span class="o">=</span><span class="n">vectorizer</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span> <span class="n">horizontal_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

    <style>
    table.eli5-weights tr:hover {
        filter: brightness(85%);
    }
</style>



    

    

    

    

    

    


    

    

    

    
        

    

        
            
                
                
    
        <p style="margin-bottom: 0.5em; margin-top: 0em">
            <b>
    
        y=1
    
</b>

top features
        </p>
    
    <table class="eli5-weights"
           style="border-collapse: collapse; border: none; margin-top: 0em; table-layout: auto; margin-bottom: 2em;">
        <thead>
        <tr style="border: none;">
            
                <th style="padding: 0 1em 0 0.5em; text-align: right; border: none;" title="Feature weights. Note that weights do not account for feature value scales, so if feature values have different scales, features with highest weights might not be the most important.">
                    Weight<sup>?</sup>
                </th>
            
            <th style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">Feature</th>
            
        </tr>
        </thead>
        <tbody>
        
            <tr style="background-color: hsl(120, 100.00%, 80.00%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +2.685
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        stab
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 81.74%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +2.358
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        shot
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 82.39%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +2.238
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        bat
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 83.16%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +2.100
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        knife
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 83.97%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.958
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        shovel
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 84.00%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.952
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        boil
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 84.25%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.908
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        cutter
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 84.34%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.893
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        machet
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 84.68%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.835
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        gasolin
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 84.69%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.833
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        crowbar
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 84.82%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.810
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        bottl
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 84.85%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.805
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        shoot
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 84.89%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.800
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        brass
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 85.09%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.766
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        stabb
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 85.11%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.761
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        hammer
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 85.12%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.760
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        brick
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 85.53%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.691
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        rearend
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 85.65%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.672
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        fire
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 85.67%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.668
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        ram
    </td>
    
</tr>
        
            <tr style="background-color: hsl(120, 100.00%, 85.80%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        +1.646
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        sveh
    </td>
    
</tr>
        
        
            <tr style="background-color: hsl(120, 100.00%, 85.80%); border: none;">
                <td colspan="2" style="padding: 0 0.5em 0 0.5em; text-align: center; border: none; white-space: nowrap;">
                    <i>&hellip; 1840 more positive &hellip;</i>
                </td>
            </tr>
        

        
            <tr style="background-color: hsl(0, 100.00%, 90.17%); border: none;">
                <td colspan="2" style="padding: 0 0.5em 0 0.5em; text-align: center; border: none; white-space: nowrap;">
                    <i>&hellip; 1000 more negative &hellip;</i>
                </td>
            </tr>
        
        
            <tr style="background-color: hsl(0, 100.00%, 90.17%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -0.973
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        hate
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.95%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.005
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        patient
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.89%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.014
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        ph
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.79%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.028
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        dept
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.63%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.051
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        wouldnt
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.49%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.071
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        w3
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.40%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.084
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        phne
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.40%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.085
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        spat
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.34%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.093
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        grade
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.33%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.095
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        subj2
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.26%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.105
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        grabbedv
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 89.15%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.121
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        inuri
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 88.91%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.157
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        airsoft
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 88.90%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.158
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        vincent
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 88.39%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.234
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        flick
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 88.27%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.252
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        egg
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 88.23%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.259
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        prob
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 87.69%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.343
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        push
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 87.56%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.362
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        cp
    </td>
    
</tr>
        
            <tr style="background-color: hsl(0, 100.00%, 87.34%); border: none;">
    <td style="padding: 0 1em 0 0.5em; text-align: right; border: none;">
        -1.398
    </td>
    <td style="padding: 0 0.5em 0 0.5em; text-align: left; border: none;">
        ppa
    </td>
    
</tr>
        

        </tbody>
    </table>

            
        

        



    

    

    

    


    

    

    

    

    

    


    

    

    

    

    

    




</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can throw it into a <strong>graph form</strong>, too.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">eli5</span><span class="o">.</span><span class="n">explain_weights_df</span><span class="p">(</span>
    <span class="n">clf</span><span class="p">,</span> 
    <span class="n">vec</span><span class="o">=</span><span class="n">vectorizer</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;feature&#39;</span><span class="p">,</span> 
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;weight&#39;</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span>
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x23b3244a8&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAI/CAYAAADnUWiDAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4xLjIsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy8li6FKAAAgAElEQVR4nOzdeZhlVX3v//cHRJpJHKh4VdIWgjJDCwdCg61I1GhwwAAhgFHi0CKKUX+Y29cYg5FfLgbjEI1yO0owgSAB9Wroq+KENC0Ip5tmHjTSBoSrBSKTgAzf+8fZLYeyu6saqs6pU+f9ep5+ztprr732d9c//X3W2nutVBWSJEkaHhv0OwBJkiT1lgmgJEnSkDEBlCRJGjImgJIkSUPGBFCSJGnImABKkiQNmSf0O4BBs9VWW9Xo6Gi/w5AkSZrQ8uXLb62qkfH1JoDraXR0lHa73e8wJEmSJpTkJ2uqdwpYkiRpyJgASpIkDRmngGeg0UVL+h2CtN5WnXhgv0OQJE3SrEoAk4wCXweWA3sAVwGvB64G/h14BXAvcERV/SjJq4D3A08EbgOOrKqf9T5ySZI0WQ888AA33XQT9913X79DmTHmzJnD1ltvzUYbbTSp9rMqAWxsD7ypqpYlOQU4pqm/o6p2TfJ64OPAK4ELgH2qqpK8GfgL4P/rS9SSJGlSbrrpJrbYYgtGR0dJ0u9w+q6quO2227jpppvYZpttJnXNbHwH8MaqWtaUTwNe0JTP6Pqd35S3Br6R5ArgvcDOa+owycIk7STtsbGxaQpbkiRNxn333cfTnvY0k79GEp72tKet14jobEwAay3HtYa6TwKfqqpdgbcCc9bYYdXiqmpVVWtk5LeW0pEkST1m8vdo6/v3mI0J4Nwkq0f4jqAzzQtwWNfvhU15S+CnTfkNvQlPkiQNoze/+c1cffXV62xz1FFHcfbZZ/9W/apVq/i3f/u3KYtlNr4DeB3w9ub9v6uBzwDHAk9JcjlwP3B40/Z44KwktwPfASY3cT7N/JpSkqTJm+rVM6br/+HPfvazj/na1QngEUccMSWxzMYRwAer6nVVtWNVHVxVv2rqT6qq3apqr6r6EUBVfaWqnlNVe1bVe6tq//6FLUmSBsFJJ53EP/zDPwDw7ne/mwMOOACA73znOxx55JGce+65zJ8/nz322INDDz2Uu+++G4D999//N7uJfe5zn+N5z3see++9N295y1t4xzve8Zv+zz//fPbdd1+e85zn/GY0cNGiRSxdupR58+bxsY997HE/w2xMACVJkqbNggULWLp0KQDtdpu7776bBx54gKVLl7Lbbrtxwgkn8K1vfYsVK1bQarX46Ec/+qjrb775Zj70oQ9x0UUXsWzZMq699tpHnb/lllu44IILOOecc1i0aBEAJ554IgsWLGDlypW8+93vftzPMKumgKtqFbDLGupHex6MJEmalfbcc0+WL1/OnXfeycYbb8wee+xBu91m6dKlvPrVr+bqq69mv/32A+DXv/418+fPf9T1F198MS960Yt46lOfCsChhx7K9ddf/5vzBx10EBtssAE77bQTP/vZ9CxPPKsSQEmSpOm20UYbsc0223Dqqaey7777sttuu/Hd736XH/3oR2yzzTa89KUv5Ywzzpi4o7XYeOONf1OuGr+4ydRwCliSJGk9LViwgI985CO88IUvZMGCBZx88sk8//nPZ5999mHZsmX86Ec/AuCee+551OgewF577cX3vvc9br/9dh588EG++MUvTni/LbbYgrvuumvK4jcBlCRJWk8LFizglltuYf78+Tz96U9nzpw5LFiwgJGREU499VQOP/xwdtttN+bPn/9b7/g961nP4n3vex977703++23H6Ojo2y55ZbrvN9uu+3GhhtuyO677z4lH4FkuoYWZ6tWq1Wrv+Dplan+vF2aDi5fJKlXrrnmGnbcccd+h/G43H333Wy++eY8+OCDvPa1r+WNb3wjr33tax9Xn2v6uyRZXlWt8W0dAZQkSeqx448/nnnz5rHLLruwzTbbcNBBB/X0/kPzEUiS1wPH0dkG7nLgIeA+oAU8CXhPVZ3TvwglSdKw+MhHPtLX+w9FAphkZ+D9wL5VdWuSpwIfBUaBvYFtge8m2a6qJr+TsiRJ0gAalingA4CzqupWgKr6RVP/71X1cFX9EPgxsMOaLk6yMEk7SXtsbKw3EUuSpLXyG4ZHW9+/x7AkgGsz/q+1xr9eVS2uqlZVtUZGRnoQliRJWps5c+Zw2223mQQ2qorbbruNOXPmTPqaoZgCBr4DfDnJR6vqtmYKGODQJJ8HtgGeA1zXtwglSdKkbL311tx00004K/eIOXPmsPXWW0+6/VAkgFV1VZL/H/hekoeAS5tT/wVc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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Lots of interesting stuff in there!</p>
<ul>
<li>Does it sound reasonable which terms imply aggravated vs simple assault?</li>
<li>Which ones are misspellings? Does that worry you?</li>
<li>Are there any terms in there you don't quite understand?</li>
</ul>
<p>I personally don't understand <code>ppa</code>, so I'm going to look it up in the dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">DO_NARRATIVE</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;PPA&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CCDESC</th>
      <th>DO_NARRATIVE</th>
      <th>serious</th>
      <th>downgraded</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>286</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-S HUSBAND BECAME VERY ANGRY FOR NO APPARENT REASON AND GRABBED V RIGHT ARM AND TWISTED V ARM IN AN AWKWARD POSITION  S THEN PUSHED V BODY AGAINST REFR</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1506</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-V AND S INVOLVED IN ARGUMENT  V AND S THEN ENGAGED IN MUTUAL COMBAT FLIGHT  V AND S REFUSED PPA</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1653</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-WIT 1 AND VICT WERE INVOLVED IN A HEATED DISPUTE THAT ESCALATED I MUTUAL COMBAT WITHOUT INJURIES WIT 1 AND VICT DID NOT WISH FOR PPA</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2857</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-S APPROACHED V AND PUSHED HIM WITH AN OPEN HAND V THEN TOOK S INTO CUSTODY AND PLACED UNDER PPA</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9340</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-S STRUCK V ON FACE AND CHEST WITH CLOSED FIST  S BLAMED V FOR NOT BEINGABLE TO FIND SUSPS SISTER  S PLACED UNDER PPA FOR BATTERY</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>PPA stands for <strong>Private Person's Arrest</strong>, and you can find <a href="https://www.shouselaw.com/citizens-arrest">read more about it</a> and even <a href="https://archive.org/details/SamplePrivatePPArrestFormLAPD">see the form that's filled out</a>. PPAs are often performed by private security guards.</p>
<p><code>plastic</code> also seems to be popular under non-serious assaults.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">DO_NARRATIVE</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;PLASTIC&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CCDESC</th>
      <th>DO_NARRATIVE</th>
      <th>serious</th>
      <th>downgraded</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2014</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-SUSP BECAME ANGRY N THREW PLASTIC CUP AT VICT IN BACK SUSP WAS ARRESTED</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7554</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO- V AND S BECAME INVOLVED IN A VERBAL DISPUTE S THREW A PLASTIC BTL AT VHITTING V ON HER FACE S PUSHED V CHEST WITH 2 OPEN HANDS THEN FLED LOC</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8259</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-S APPROACHED V ON SIDEWALK WITHOUT SAYING ANYTHING S WHIPPED V 3 OR 4 TIMES ON HER LEFT UPPER ARM WITH A YELLOW PLASTIC CLOTH WHIP</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8897</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-SUSP THREW A ISOPROPYL RUBBING ALCOHOL RUBBING ALCOHOL BOTTLE WHICH WASFULL AND PLASTIC BOTTLE AT VIC CAUSING VS EYE 2 SWELL  S FLED TO UNK LOC</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9339</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-S SON IS LIVING WITH VICTS AND NOT ATTENDING SCHOOL SUSP BECOMES ANGRY W VICTS AND POKES V1 W PLASTIC BROOM HANDLE IN LF SIDE AND PUSHES V2 ON LF SIDE</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Guess they aren't too dangerous?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Making-predictions-to-find-downgraded-crimes">Making predictions to find downgraded crimes<a class="anchor-link" href="#Making-predictions-to-find-downgraded-crimes">#</a></h1><p>To see if our algorithm can find downgraded reports, we'll first ask it to make predictions on each of the descriptions we have. If a report is listed as not serious, but the algorithm thinks it should be serious, we should examine the report further.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Feed the classifier the word counts (X) to have it make the prediction</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;prediction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Let&#39;s also how certain the classifier is</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;prediction_dist&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">decision_function</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CCDESC</th>
      <th>DO_NARRATIVE</th>
      <th>serious</th>
      <th>downgraded</th>
      <th>prediction</th>
      <th>prediction_dist</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-S APPRCHED V AND STATED ARE YOU GOING TO FCK ME V REPLIED NO SUSP PULL ED OUT A KNIFE AND STATED IM HERE TO HURT YOU BTCH S USED PROFANITIES</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.242907</td>
    </tr>
    <tr>
      <th>4</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-SUSP USED RIGHT FIST TO PUNCH VICT IN THE HEAD ONCE N PULL VICT HAIR   FOR APPRX 15 SECONDS</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-1.045373</td>
    </tr>
    <tr>
      <th>9</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-S APPROACHED V IN VEH S SLAPPED AND LUNGGED AT V</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-0.266867</td>
    </tr>
    <tr>
      <th>11</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-V STATED THAT SUSP CONFRT HER WHEN SHE TRIED TO APPR HER HUSBAND SUSP  AND V HUSBAND ARE FRNDS SUSP YELLED STAY AWAY FROM HIM AND PUSHED V</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-1.177920</td>
    </tr>
    <tr>
      <th>16</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-SUSPS WERE VERBALLY ABUSING VICT DURING WHICH TIME S1 STRUCK VICT THREETIMES ON THE BACK OF HIS LEFT SHOULDER</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-0.909114</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Crimes with a <code>1</code> in <strong>serious</strong> are serious, and ones with a <code>1</code> in <strong>downgraded</strong> were downgraded. If either of those columns is <code>1</code>, then <strong>prediction</strong> would also be <code>1</code> for a correct prediction.</p>
<p>We're also going to add <strong>how certain the classifier is</strong> about its classification. Different classifiers use different metrics, but for a LinearSVC it's called <code>.decision_function</code>. The closer to 0 the score is, the less sure the algorithm is.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Let's-evaluate-our-classifier">Let's evaluate our classifier<a class="anchor-link" href="#Let's-evaluate-our-classifier">#</a></h1><p>When you build a classifier, you'll talk about your <strong>evaluation metric</strong>, what you use to judge how well your algorithm performed. Typically this is <strong>accuracy</strong> - how often was your prediction correct?</p>
<h2 id="How-often-did-our-prediction-match-whether-a-crime-was-listed-as-serious?">How often did our prediction match whether a crime was listed as serious?<a class="anchor-link" href="#How-often-did-our-prediction-match-whether-a-crime-was-listed-as-serious?">#</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">prediction</span> <span class="o">==</span> <span class="n">df</span><span class="o">.</span><span class="n">serious</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True     0.878836
False    0.121164
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>88% doesn't seem that bad!</p>
<p>Remember, though, <strong>15% of the serious crimes have been downgraded</strong>. We don't actually care whether the prediction matches <strong>if the crime has been downgraded</strong>. We need to see whether we correctly predicted reports marked as serious <em>or</em> downgraded reports.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-often-did-we-match-the-true-serious/not-serious-value?">How often did we match the true serious/not serious value?<a class="anchor-link" href="#How-often-did-we-match-the-true-serious/not-serious-value?">#</a></h2><p>Since we're interested in uncovering the secretly-serious reports, we want to see whether it's serious <em>or</em> downgraded.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">prediction</span> <span class="o">==</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">serious</span> <span class="o">|</span> <span class="n">df</span><span class="o">.</span><span class="n">downgraded</span><span class="p">))</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True     0.891616
False    0.108384
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We actually did better when including the secrets! 89%!</p>
<p>While this seems good, <strong>it isn't what we're actually after.</strong> We're specifically doing research on <strong>finding downgraded reports,</strong> so what we're interested in is <strong>how often we found reports marked as non-serious that were downgraded from serious</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-often-did-we-catch-downgrades?">How often did we catch downgrades?<a class="anchor-link" href="#How-often-did-we-catch-downgrades?">#</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Only select downgraded reports</span>
<span class="n">downgraded_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">downgraded</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>

<span class="c1"># How often did we predict they were serious?</span>
<span class="p">(</span><span class="n">downgraded_df</span><span class="o">.</span><span class="n">prediction</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True     0.649725
False    0.350275
Name: prediction, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># And again, without the percentage</span>
<span class="p">(</span><span class="n">downgraded_df</span><span class="o">.</span><span class="n">prediction</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True     4602
False    2481
Name: prediction, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We were able to find around 4,500 of our 7,000 downgraded offenses. <strong>That's about 65% of them.</strong></p>
<p>Whether this is good or bad is up for discussion at the end, but let's turn to examining the cases we got wrong.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Where-are-our-errors?">Where are our errors?<a class="anchor-link" href="#Where-are-our-errors?">#</a></h1><h2 id="Taking-a-look-at-machetes">Taking a look at machetes<a class="anchor-link" href="#Taking-a-look-at-machetes">#</a></h2><p>I think that crimes involving machetes are pretty often serious crimes, let's take a look at a few.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">DO_NARRATIVE</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;MACHETE&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CCDESC</th>
      <th>DO_NARRATIVE</th>
      <th>serious</th>
      <th>downgraded</th>
      <th>prediction</th>
      <th>prediction_dist</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-SUSP SWUNG MACHETE AT VICTIMS 1 AND 2</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.920397</td>
    </tr>
    <tr>
      <th>2867</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-SUSPECT APPROACHED VICT WITH A MACHETE IN HIS RIGHT HAND AND STATED IM GONNA CUT YOU UP IM GONNA KILL YOU</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.235707</td>
    </tr>
    <tr>
      <th>4807</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-SUSP CONFRONTS VICT SUSP PRODUCES A MACHETE AND STRIKES VICT ON HIS    LEFT FOREARM</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.523461</td>
    </tr>
    <tr>
      <th>11822</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-S2 ASKED V WHERE YOU FROM S1 PLACED A MACHETE AGAINST V NECK S2 PTD A  HANDGUN AT V &amp; PULLED TRIGGER GUN DID NOT FIRE POSSIBLY MARA VIA GANG</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1.482832</td>
    </tr>
    <tr>
      <th>11951</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-V AND S INVOLVED IN DISPUTE OVER PARKING SPACE S BECAME ANGRY AND BRANDISHED KNIFE IN THREATENING MANNER V IN FEAR BRANDISHED MACHETE AND CALLED PD</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.535158</td>
    </tr>
    <tr>
      <th>13478</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-SUSP SWUNG MACHETE AT VICTIMS 1 AND 2</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0.920397</td>
    </tr>
    <tr>
      <th>13493</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-SUSP HELD MACHETE STATING IM GOING TO KILL YOU</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0.622618</td>
    </tr>
    <tr>
      <th>18731</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-S CHARGED V W/LARGE MACHETE FOR UNK REASON.</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.377714</td>
    </tr>
    <tr>
      <th>19798</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-S1 USED MACHETE TO STRIKE V1 AND ATTEMPTED TO STRIKE VICTS 2 AND 3 WAS PUNCHED AND PUSHED BY UNK S BOTH SUSPS 1 AND 2 MADE VERBAL THREATS TOWARDS VICT</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.269689</td>
    </tr>
    <tr>
      <th>20738</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-S APPROACHED V ONE AND V TWO WITH A MACHETE S WIELD THE MACHETE AT     VICTIMS V ONE SUSTAINED A LACERATION TO HIS LEFT HAND</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.721254</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For those first 10 it looks like we predicted all of these accurately. But what about the machete-related crimes that our algorithm is <em>very certain</em> are non-serious assaults?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">DO_NARRATIVE</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;MACHETE&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;prediction_dist&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CCDESC</th>
      <th>DO_NARRATIVE</th>
      <th>serious</th>
      <th>downgraded</th>
      <th>prediction</th>
      <th>prediction_dist</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>446813</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-V ASKED S TO RETURN MONEY THTAT HE LENT S REFUSED AND GRABBED A MACHETEAND STRUCK V IN THE HAND CAUSING INJURY</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-0.826212</td>
    </tr>
    <tr>
      <th>397915</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-SUSP AND VICT BECAME INVOLVED IN A VERBAL DISPUTE SUSP STRUCK VICT WITHMACHETE ON LEFT ARM CAUSING AN APPROX 3 INCH SCRATCH SUSP FLED WB 6TH ST ON FOO</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-0.747439</td>
    </tr>
    <tr>
      <th>813468</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-INVL IN A DISPUTE OVER LIVING ARRANGEMENTS S BECAME ANGRY AND RETRIEVEDA MACHETE S ADAVANCE ON V WHO FLED CALL PD</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>-0.389622</td>
    </tr>
    <tr>
      <th>125167</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-SUSP AND VICT IN COHAB DATING RELATIONSHIP  SUSP STRIKES VICT LEAVING  VERIFIABLE INJURIES  SUSP THREATENS VICT WITH MACHETE</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-0.343098</td>
    </tr>
    <tr>
      <th>56152</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-V AND S HAD A DATING RELATIONSHIP S BECAME ANGRY WHEN HE WAS TOLD THAT V HAD A MISCARRIAGE S HIT V IN HER ARM AND FACE WITH HIS FIST S WAVED A MACHETE</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-0.337210</td>
    </tr>
    <tr>
      <th>358217</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-SUSP GRABBED MACHETET AND SWANG IT AT 3 VICT MISSING VICT S STRUCK V1  ON EYE LEFT WITH CLOSED FIST</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>-0.325980</td>
    </tr>
    <tr>
      <th>336027</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-SUSP GRABBED MACHETET AND SWANG IT AT 3 VICT MISSING VICT S STRUCK V1  ON EYE LEFT WITH CLOSED FIST</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>-0.325980</td>
    </tr>
    <tr>
      <th>377572</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-SUSP GRABBED MACHETET AND SWANG IT AT 3 VICT MISSING VICT S STRUCK V1  ON EYE LEFT WITH CLOSED FIST</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-0.325980</td>
    </tr>
    <tr>
      <th>783976</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-DEFT AND VICT ARE BOYFRIEND AND GIRLFRIEND BUT DO NOT LIVE TOGETHER OR HAVE ANY CHILDREN IN COMMON DEFT STRUCK VICTIM WITH A MACHETE</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-0.264033</td>
    </tr>
    <tr>
      <th>250874</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-SUS AND VIC INVLVD IN ARGUMENT SUS THREATENED VIC WITH MACHETE PUNCHED VIC AND PULLED VIC HAIR</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-0.259355</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Some of them involve a machete being used as a threat, instead of it actually striking the person. Others involve actual violence with the machete, and seem like they should be classified as serious.</p>
<p>Reading through the descriptions carefully, you'll notice that the last description has a little typo in it - <code>MACHETET</code> instead of <code>MACHETE</code>. If we corrected the typo, will the classifier correctly predict it as serious?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentence</span> <span class="o">=</span> <span class="s2">&quot;DO-SUSP GRABBED MACHETET AND SWANG IT AT 3 VICT MISSING VICT S STRUCK V1 ON EYE LEFT WITH CLOSED FIST&quot;</span>
<span class="n">sample_X</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">([</span><span class="n">sentence</span><span class="p">])</span>
<span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">sample_X</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([0])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentence</span> <span class="o">=</span> <span class="s2">&quot;DO-SUSP GRABBED MACHETE AND SWANG IT AT 3 VICT MISSING VICT S STRUCK V1 ON EYE LEFT WITH CLOSED FIST&quot;</span>
<span class="n">sample_X</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">([</span><span class="n">sentence</span><span class="p">])</span>
<span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">sample_X</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([1])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Yes! The vectorizer we used to count word doesn't know that <code>MACHETET</code> isn't a word, so it counted it as one. It's only because we're aware of spelling errors that we were able to adjust it into <code>MACHETE</code>.</p>
<p>While this isn't the case for all of the misclassified pieces - for example, the first three would still be incorrectly predicted as non-serious - a small typo can definitely derail our classifier.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Examining-more-general-misses">Examining more general misses<a class="anchor-link" href="#Examining-more-general-misses">#</a></h2><p>Let's look at a handful of the reports we predicted incorrectly. We'll sort by using the distance measurement to find the ones that the classifier was very sure were non-serious.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">predicted_correctly</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">prediction</span> <span class="o">==</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">serious</span> <span class="o">|</span> <span class="n">df</span><span class="o">.</span><span class="n">downgraded</span><span class="p">))</span>

<span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="n">predicted_correctly</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;prediction_dist&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CCDESC</th>
      <th>DO_NARRATIVE</th>
      <th>serious</th>
      <th>downgraded</th>
      <th>prediction</th>
      <th>prediction_dist</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>614781</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-  S PUSHED V AGAINST WALL AND SPIT IN  V FACE</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.863295</td>
    </tr>
    <tr>
      <th>806556</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-S AND V ARE MARRIED AND HAVE 2 CHILDRE IN COMMON  S PUNCHED V OVER     MOUTH CAUSING VISIBLE INJURIES</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>-1.843700</td>
    </tr>
    <tr>
      <th>702413</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-SUSP AND VICT IN A COHAB RELATIONSHIP SUSP INTOXICATED BECOMES ANGRY AND PUNCHES VICT IN FACE ON ARMS AND HANDS</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.734601</td>
    </tr>
    <tr>
      <th>820133</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-SUSP AND VICT ENGAGED IN ARGUEMENT  SUSP SPAT ON VICTS FACE AND        PUNCHED VICTS RT EYE WITH CLOSED FIST</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.710756</td>
    </tr>
    <tr>
      <th>587771</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-SUSP GRABBED VICT BY HER HAIR AND PUNCHED HER WITH CLOSED FIST</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.707439</td>
    </tr>
    <tr>
      <th>266679</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO- SUSP AND VICT MARRIED AND LIVING TOGETHER  SUSP PUSHED VICT CAUSING VISIBLE INJURIES</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.691697</td>
    </tr>
    <tr>
      <th>736789</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-S AND V ENGAGED IN ARGUMENT   S PUSHED V INTO WALL N GRABBED V BY NECK N TWISTED HER ARM   S PUSHED V INTO COUCH  PUNCHED V IN NOSE WITH CLOSED FIST</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.665152</td>
    </tr>
    <tr>
      <th>269172</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-S PUSHED V ON HER CHEST 1 TIME CAUSING NO VISIBLE INJURY</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.641210</td>
    </tr>
    <tr>
      <th>800119</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-SUSP AND VICT ENGAGED IN ARGUEMENT SUSP PUNCHED SCRATCHED SPAT AND BIT VICT CAUSING VISIBLE INJURIES</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.625314</td>
    </tr>
    <tr>
      <th>735455</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-SUSP ENGAGED IN ARGUMENT BECAME ANGRY AND RIPPED VICTS SHIRT SCRATCH   HER CHEST</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.601117</td>
    </tr>
    <tr>
      <th>665149</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-SUSP ENGAGED IN AN ARGUMENT BECAME ANGRY AND RIPPED VICTS SHIRT AND    SCRATCH HER CHEST</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.571920</td>
    </tr>
    <tr>
      <th>210515</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-SUSP PUNCHED VICT IN FACE AFTER BECOMING UPSET CAUSING VISIBLE BRUSING SUSP AND VICT COHABITANTS</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>-1.569717</td>
    </tr>
    <tr>
      <th>396583</th>
      <td>ASSAULT WITH DEADLY WEAPON, AGGRAVATED ASSAULT</td>
      <td>DO-SUSP AND VICT ENGAGED IN A VERBAL ARGUMENT SUSP SHOVED VICT AND STABBEDVICT</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.564844</td>
    </tr>
    <tr>
      <th>566003</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-SUSP PUNCHED VICT IN FACE WITH CLOSED FIST THEN PUSHED VICT INTO WALL</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>-1.560422</td>
    </tr>
    <tr>
      <th>748258</th>
      <td>INTIMATE PARTNER - AGGRAVATED ASSAULT</td>
      <td>DO-VICT AND SUSP INVOLVED IN VERBAL DISPUTE SUSP THEN SLAPPED AND PUNCHED VICT</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>-1.558839</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>While the most important words for the classifier were weapons - baseball bats, knives, guns - causing visible injury through punching can also be classified as aggravated assault. It looks like the classifier doesn't agree.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">punch_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">DO_NARRATIVE</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;PUNCH&quot;</span><span class="p">)]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Predicted&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">punch_df</span><span class="o">.</span><span class="n">prediction</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Actual&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">punch_df</span><span class="o">.</span><span class="n">serious</span> <span class="o">|</span> <span class="n">punch_df</span><span class="o">.</span><span class="n">downgraded</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Predicted
0    0.947689
1    0.052311
Name: prediction, dtype: float64
Actual
0    0.87224
1    0.12776
dtype: float64
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>While the LAPD classifies assault as aggravated 13% of the time if punching is involved, the algorithm only classifies it as aggravated 5% of the time.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can look at the opposite - cases where our predictor was certain something was a serious assault, but it was filed as a simple assault.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="n">predicted_correctly</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;prediction_dist&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CCDESC</th>
      <th>DO_NARRATIVE</th>
      <th>serious</th>
      <th>downgraded</th>
      <th>prediction</th>
      <th>prediction_dist</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>549646</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-SUSP STABBED VICT WITH GLASS BOTTLE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2.248362</td>
    </tr>
    <tr>
      <th>509809</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-S ATT TO STAB V WITH A KNIFE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2.016210</td>
    </tr>
    <tr>
      <th>228905</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO- V AND S WERE INVOLV IN VERBL ARGUMENT S THEN HIT V ON THE HEAD WITH A PAN AND ATT TO STAB V WITH KNIFE S CUT V WITH KNIFE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2.015522</td>
    </tr>
    <tr>
      <th>695489</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-SUSP STABBED VICT</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.884723</td>
    </tr>
    <tr>
      <th>131514</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-SUSP STABBED VICT</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.884723</td>
    </tr>
    <tr>
      <th>57764</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-SUSP STABBED V</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.884723</td>
    </tr>
    <tr>
      <th>326830</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-SUSP BECAME ANGRY AT VICT SUSP STABBED VICT WITH A KNIFE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.851642</td>
    </tr>
    <tr>
      <th>52396</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-SUSP AND VICT IN VERBAL DISPUTE  SUSP PRODUCED A KNIFE AND STABBED VICT</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.750208</td>
    </tr>
    <tr>
      <th>118342</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO- S AND V IN VERBQAL ARGUMENT S CHARGED V WITH KNIFE S CUTS STABS VICT</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.650043</td>
    </tr>
    <tr>
      <th>789560</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-S APP V WITH KITCHEN KNIFE  S ATT TO STAB V  S CUT V HANDS AS V BLOCKEDKNIFE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.647613</td>
    </tr>
    <tr>
      <th>487104</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-S APP V WITH KITCHEN KNIFE  S ATT TO STAB V  S CUT V HANDS AS V BLOCKEDKNIFE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.647613</td>
    </tr>
    <tr>
      <th>49439</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO- SUSP ANGRY STRUCK VICT WITH CANE AND STICK S ATTEMP TO STAB VICT WITH KITCHEN KNIFE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.631264</td>
    </tr>
    <tr>
      <th>97504</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-S BROKE BOTTLE ON VICTS HEAD V ATTEMPTED TO LEAVE WHEN S STABBED THE VICT WITH THE BROKEN GLASS BOTTLE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.619978</td>
    </tr>
    <tr>
      <th>753041</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-SUSP AND VICT INVOLVED IN VERBAL DISPUTE SUSP THEN STABBED VICT WITH KNIFE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.601037</td>
    </tr>
    <tr>
      <th>112222</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-S GRABBED KNIFE AND LUNGED AT VICT ATT TO STAB</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.483512</td>
    </tr>
    <tr>
      <th>749619</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-S ANGRY AT V S SLASHED V W BUTCHER KNIFE CAUSING LACERATIONS</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.412755</td>
    </tr>
    <tr>
      <th>715246</th>
      <td>BATTERY - SIMPLE ASSAULT</td>
      <td>DO-S PUSHED V2 THEN HIT V1 OVER THE HEAD WITH A GLASS BEER BOTTLE S INTENTIONALLY COLLIDED HIS VEH INTO VICTS VEHICLE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.361179</td>
    </tr>
    <tr>
      <th>772124</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-S STRUCK V WITH GAS CAN S STAB HER WITH A SOCKET RENCH AND S SWUNG HAMMER AT HER</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.341561</td>
    </tr>
    <tr>
      <th>619805</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-SUSP BECAME IRATE BIT VICT AND ATTEMPTED TO STAB VICT WITH KNIFE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.282413</td>
    </tr>
    <tr>
      <th>687964</th>
      <td>INTIMATE PARTNER - SIMPLE ASSAULT</td>
      <td>DO-S ATTEMPTED TO STAB V WITH A TEN INCHES KNIFE</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1.265541</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Again, mostly reports of domestic violence. This time they often involve stabbing and knives, words that we've already seem are high triggers for a report to be marked as aggravated.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">punch_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">DO_NARRATIVE</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;KNIF&quot;</span><span class="p">)]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Predicted&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">punch_df</span><span class="o">.</span><span class="n">prediction</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Actual&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">punch_df</span><span class="o">.</span><span class="n">serious</span> <span class="o">|</span> <span class="n">punch_df</span><span class="o">.</span><span class="n">downgraded</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Predicted
1    0.809238
0    0.190762
Name: prediction, dtype: float64
Actual
1    0.863279
0    0.136721
dtype: float64
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Oddly, though, it looks like the classifier tends to <em>under-report stabbings</em>, not over-report. Although 86% of reports involving the word "STAB" are marked as aggravated, the classifier only marks them as serious 81% of the time.</p>
<p>It appears that domestic abuse cases might be an especially problematic topic in terms of classification, with more going into the situation than just a clear-cut definition of assault categories.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Review">Review<a class="anchor-link" href="#Review">#</a></h2><p>We reproduced an ersatz version of a Los Angeles Times piece where they uncovered <strong>serious assaults that had been downgraded by the LAPD</strong> to simple assault. We don't have access to the original classifications, so we used a dataset of assaults between 2008 and 2012 and downgraded a random 15% of the serious assaults.</p>
<p>Using <strong>text analysis</strong>, we first analyzed the words used in a description of assault - less common words were given more weight, and incredibly common words were left out altogether. Using these results, we then created a <strong>classifier</strong>, teaching the classifier which words were associated with simple assault compared to aggravated assault.</p>
<p>Finally, we used the classifier to <strong>predict whether each assault was aggravated or simple assault</strong>. If a crime was predicted as serious but marked as non-serious, it needed to be examined as a possible downgrade. Our algorithm correctly pointed out around <strong>65%</strong> of the randomly downgraded crimes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Discussion-topics">Discussion topics<a class="anchor-link" href="#Discussion-topics">#</a></h2><ul>
<li>Our algorithm had 88% accuracy overall, but only 65% in detecting downgraded crimes. What's the difference here? How important is one score compared to the other?</li>
<li>We only hit around 65% accuracy in finding downgraded crimes. Is this a useful score? How does it compare to random guessing, or going one-by-one through the crimes marked as non-serious?</li>
<li>What techniques could we have used to find downgraded crimes if we didn't use machine learning?</li>
<li>Is there a difference between looking at the prediction - the 0 or 1 - and looking at the output of <code>decision_function</code>?</li>
<li>What happens if our algorithm errs on the side of calling non-serious crimes serious crimes? What if it errs on the side of calling serious crimes non-serious crimes?</li>
<li>If we want to find more downgraded cases (but do more work), we'll want to err on the side of examining more potentially-serious cases. Is there a better method than picking random cases?</li>
<li>One of our first steps was to eliminate all crimes that weren't assaults. How do you think this helped or hindered our analysis?</li>
<li>Why did we use LinearSVC instead of another classifier such as LogisticRegression, RandomForest or Naive Bayes (MultinomialNB)? Why might we try or not try those?</li>
<li>You don't work for the LAPD, so you can only be so sure what should and shouldn't be a serious crime. What can you do to help feel confident that a case should be one or the other, or that our algorithm is working as promised?</li>
<li>In this case, we randomly picked serious crimes to downgrade. Would it be easier or more difficult if the LAPD was systematically downgrading certain types of serious crimes? Can you think of a way to around that sort of trickery?</li>
<li>Many people say you need to release your data and analysis in order to have people trust what you've done. With something like this dataset, however, you're dealing with real things that happened to real people, many of whom would probably prefer to keep these things private. Is that a reasonable expectation? If it is, what can be done to bridge the gap between releasing all of the original data and keeping our process secret?</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
 


    </div>
  </div>
</div>

<script>
  [...document.querySelectorAll(".code_cell")].filter(cell => cell.innerText.trim().length === 0).forEach(cell => cell.remove())
</script>

  <div class="footer bg-secondary">
  <div class="content">
    <div class="columns">
      <div class="column col-6 col-sm-12">
        <p><strong>Hi, welcome to Data Science for Journalism!</strong></p>
        <p>There's been a lot of buzz about machine learning and "artificial intelligence" being used in stories over
          the past few years. It's mostly not that complicated - a little stats, a classifier here or there - but it's
          hard to know where to start without a little help.</p>
        <p>Hopefully this site can be that help! <a href="/ds4j/about">Learn more about this project here.</a></p>
      </div>
      <div class="column col-3 col-sm-6">
        <p><strong>Quick links</strong></p>
        <!-- <p><a href="#">Something here</a></p>
        <p><a href="#">Something here</a></p>
        <p><a href="#">Something here</a></p> -->
      </div>
      <div class="column col-3 col-sm6">
        <p><strong>Contact</strong></p>
        <p><a href="mailto:hello@littlecolumns.com">hello@littlecolumns.com</a></p>
      </div>
    </div>
  </div>
</div>
  <script src="/ds4j/js/tocbot.js"></script>

  <script>
    try {
      let toc = document.createElement("div")
      toc.setAttribute('class', 'js-toc')
      document.querySelector(".reading-options").parentNode.appendChild(toc)
    } catch (err) {

    }

    // Chapter TOC
    tocbot.init({
      // Where to render the table of contents.
      tocSelector: '.js-toc',
      // Where to grab the headings to build the table of contents.
      contentSelector: '.notebook',
      // Which headings to grab inside of the contentSelector element.
      headingSelector: 'h1, h2, h3, h4',
      activeLinkClass: 'active',
      listClass: 'nav',
      listItemClass: 'nav-item',
      headingLabelCallback: function (label) {
        return label.replace("#", "")
      }
    });
  </script>

</body>

</html>