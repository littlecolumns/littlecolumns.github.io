<!doctype html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <title>05-Checking for legislative text reuse using Python, Solr, and ngrams</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">
  <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Raleway:400,700|Open+Sans:400,700&display=swap" rel="stylesheet"> -->
  <link rel="stylesheet" href="/ds4j/css/spectre.min.css">
  <link rel="stylesheet" href="/ds4j/css/spectre-exp.min.css">
  <link rel="stylesheet" href="/ds4j/css/spectre-icons.min.css">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/ds4j/css/style.css" rel="stylesheet">
  <link href="/ds4j/css/highlight.css" rel="stylesheet">
</head>

<body>
  <div class="nav-holder bg-secondary">
  <div class='content'>
    <header class="navbar">
      <section class="navbar-section">
        <a href="/ds4j/" class="navbar-brand mr-2">DS4J</a>
      </section>
      <section class="navbar-section">
        <a href="/ds4j/projects" class="btn btn-link">Projects</a>
        <a href="/ds4j/topics" class="btn btn-link">Topics</a>
        <a href="/ds4j/curriculum" class="btn btn-link">Curriculum</a>
        <a href="/ds4j/about" class="btn btn-link">About</a>
      </section>
    </header>
  </div>
</div>
  
<div class="content text-based">
  <div class="columns">
    <div class="column col-12 notebook">
      <ul class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="#">Projects</a>
        </li>
        <li class="breadcrumb-item">
          <a href="/ds4j/azcentral-text-reuse-model-legislation/">Detecting special interest model legislation in state laws</a>
        </li>
        <li class="breadcrumb-item">
          <a href="/ds4j/azcentral-text-reuse-model-legislation/05-checking-for-legislative-text-reuse-using-python-solr-and-ngrams">05-Checking for legislative text reuse using Python, Solr, and ngrams</a>
        </li>
      </ul>

      <div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Checking-for-legislative-text-reuse-using-Solr-and-ngrams">Checking for legislative text reuse using Solr and ngrams<a class="anchor-link" href="#Checking-for-legislative-text-reuse-using-Solr-and-ngrams">#</a></h1><p>In reproducing <a href="https://www.usatoday.com/pages/interactives/asbestos-sharia-law-model-bills-lobbyists-special-interests-influence-state-laws/">this piece on model legislation</a>, we need to somehow compare our model legislation - bills written by lobbyists - with actual legislation that was proposed or passed. To do this, we'll be using a special analysis module inside of our Solr search index, which we'll then link to our original bills that are off in a postgres database.</p>
<p>In this specific case, we're going to be using an n-gram index in Solr to narrow down our search set, then use scikit-learn to actually measure the similarity of our documents.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p class="reading-options">
  <a class="btn" href="/ds4j/azcentral-text-reuse-model-legislation/05-checking-for-legislative-text-reuse-using-python-solr-and-ngrams">
    <i class="fa fa-sm fa-book"></i>
    Read online
  </a>
  <a class="btn" href="/ds4j/azcentral-text-reuse-model-legislation/notebooks/05-Checking for legislative text reuse using Python, Solr, and ngrams.ipynb">
    <i class="fa fa-sm fa-download"></i>
    Download notebook
  </a>
  <a class="btn" href="#">
    <i class="fa fa-sm fa-laptop"></i>
    Interactive version
  </a>
</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">CountVectorizer</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">pysolr</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_columns&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_rows&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s2">&quot;display.max_colwidth&quot;</span><span class="p">,</span> <span class="mi">3000</span><span class="p">)</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-are-we-doing-here?">What are we doing here?<a class="anchor-link" href="#What-are-we-doing-here?">#</a></h2><h2 id="Read-in-model-bills">Read in model bills<a class="anchor-link" href="#Read-in-model-bills">#</a></h2><p>We start by reading in a list of model bills scraped from the <a href="https://www.alec.org/">American Legislative Exchange Council</a>, a leading source of model legislation. In this notebook we're going to look for legislation based off of a single one of these bills.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/alec-model-policies.csv&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>url</th>
      <th>content</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Resolution Supporting Congressional Approval of the United States-Mexico-Canada Agreement (USMCA)</td>
      <td>https://www.alec.org/model-policy/resolution-supporting-congressional-approval-of-the-united-states-mexico-canada-agreement-usmca/</td>
      <td>\n\nDraft\nResolution Supporting Congressional Approval of the United States-Mexico-Canada Agreement (USMCA)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhereas, the imposition of artificial barriers to free and open trade are harmful to American economic interests; and\nWhereas, together, the United States, Canada and Mexico promote a shared belief in freedom, representative democracy and market principles as recognized in the U.S. Constitution; and\nWhereas, a longstanding, close tri-lateral relationship, codified in the North American Free Trade Agreement (NAFTA), has existed between the United States, Canada, and Mexico for more than 25 years and has proven economically, culturally and strategically important for all parties and this relationship will continue with ratification of USMCA; and\nWhereas, trade with Canada and Mexico supports nearly 12 million American jobs, and nearly 5 million of those jobs are supported by increased trade generated by NAFTA and these benefits will continue with ratification of USMCA; and\nWhereas, since NAFTA entered into force in 1994, trade with Canada and Mexico has nearly quadrupled to $1.3 trillion, and the two countries buy more than one-third of U.S. merchandise exports; and\nWhereas, for 43 states in the United States, Canada and Mexico represent their first or second largest export market and all but one U.S. state count Canada or Mexico as a top three trading partner; and\nWhereas, Canada and Mexico are the two largest trading partners for [INSERT STATE] with [INSERT PERCENTAGE AVAILABLE ON USTR WEBSITE] percent of the state’s goods exports going to Canada and another [INSERT APPROPRIATE PERCENTAGE AVAILABLE ON USTR WEBSITE] percent going to Mexico; and\nWhereas, NAFTA has contributed to a 405% increase in U.S. agricultural exports to Canada and Mexico; and\nWhereas, the modernized USMCA may prove even more beneficial to the agricultural sector than NAFTA and will offer a higher degree of certainty and stability to farmers; and\nWhereas, U.S. service exports to Canada and Mexico have tripled, rising from $27.5 billion in 1993 to $91.3 billion in 2017, thanks to new market access and clearer rules afforded by NAFTA which will be continued under USMCA; and\nWhereas, Canada and Mexico are the top two export destinations for U.S. small and medium-sized enterprises, more than 125,000 of which sold their goods and services in Canada and Mexico in 2014; now\nWhereas, trade among our North American trading partners is made up predominantly of intellectual property (IP)-intensive goods and services that employ millions of Americans in high paying jobs and generate billions of dollars in economic output; and\nWhereas, many of the IP-intensive goods, services and exchanges through which trade is facilitated in the NAFTA bloc did not exist when the agreement was drafted and this situation has resulted in uneven and weak IP enforcement; and\nWhereas, stringent enforcement of IP rights has been found to correlate c...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Resolution Supporting the Intellectual Property (IP) Provisions in the United States-Mexico-Canada Agreement (USMCA)</td>
      <td>https://www.alec.org/model-policy/draft-resolution-supporting-the-intellectual-property-ip-provisions-in-the-united-states-mexico-canada-agreement-usmca/</td>
      <td>\n\nDraft\nResolution Supporting the Intellectual Property (IP) Provisions in the United States-Mexico-Canada Agreement (USMCA)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhereas, the American Legislative Exchange Council (ALEC) policy on free trade acknowledges that, “the imposition of artificial barriers to free and open trade…are deterrents to American economic interests;” and\nWhereas, the United States, Canada and Mexico share a belief in freedom, representative democracy and market principles as recognized in the U.S. Constitution; and\nWhereas, trade among our North American trading partners is made up predominantly of intellectual property (IP)-intensive goods and services that employ millions of Americans in high paying jobs and generate billions of dollars in economic output; and\nWhereas, many of the IP-intensive goods, services and exchanges through which trade is facilitated in the NAFTA bloc did not exist when the agreement was drafted and this situation has resulted in uneven and weak IP enforcement; and\nWhereas, trade agreements are the most appropriate mechanism to harmonize and strengthen IP rights protections ensuring domestic and foreign business are on the same equal footing before the law; and\nWhereas, stringent enforcement of IP rights has been found to correlate closely with greater household income, Foreign Direct Investment, and Gross Domestic Product; and\nWhereas, the IP provisions found in the USMCA are the most comprehensive of any multilateral U.S. trade agreement and are vastly superior to those included in NAFTA;\nTherefore be it resolved, that ALEC applauds the intellectual property provisions in the United States- Mexico-Canada Agreement; and\nBe it further resolved, that ALEC urges the President of the United States to retain NAFTA until USMCA is implemented to ensure continuity in trade among the three North American economic partners; and\nBe it further resolved, that upon adoption, an official copy of this Resolution be prepared and presented to the President of the United States, to the Chairmen and Ranking members, and all other members of the U.S. Senate Finance and the U.S. House Ways and Means Committees, to the members of the Senate and House Advisory Groups on Negotiations, to the U.S. Trade Representative, to the U.S. Secretaries of Commerce, State, and Labor, to the Director of the Office of Management and Budget and to the Intellectual Property Enforcement Coordinator.\n \n \n\n</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Pick-the-model-bill-we're-interested-in">Pick the model bill we're interested in<a class="anchor-link" href="#Pick-the-model-bill-we're-interested-in">#</a></h1><p>In this notebook we're only looking at a <strong>single source</strong> of model legislation. Let's pick one at random:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">target</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span>
<span class="n">target</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>title                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Facilitating Business Rapid Response to State Declared Disaster Act
url                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       https://www.alec.org/model-policy/facilitating-business-rapid-response-to-state-declared-disaster-act-2/
content    \n\nDraft\nFacilitating Business Rapid Response to State Declared Disaster Act\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFacilitating Business Rapid Response to State Declared Disaster Act\nSummary\nAn Act to amend the public services law, state law and tax law, in relation to thresholds for establishing presence, residency or doing business in the state for out-of-state employees and businesses including affiliates of in-state businesses that temporarily provide resources and personnel in the state during a state of emergency declared by either the Governor or the President of the United States.\nModel Policy\n{Title, enacting clause, etc.}\nSection 1. {Short Title.}  \nThis Act may be cited as the “Facilitating Business Rapid Response to State Declared Disasters Act of 2012”.\nSection 2. {Findings.} \nThe Legislature finds that –\nA. During times of storm, flood, fire, earthquake, hurricane or other disaster or emergency, many businesses bring in resources and personnel from other states throughout the U.S. on a temporary basis to expedite the often enormous and overwhelming task of cleaning up, restoring and repairing damaged buildings, equipment and property or even deploying or building new replacement facilities in the state.\nB. This may involve the need for out-of-state businesses, including out-of-state affiliates of businesses based in the state to bring in resources, property and/or personnel that previously have had no connection to the state, to perform activity in the state including but not limited to repairing, renovating, installing, building, rendering services or other business activities and for which personnel may be located in the state for extended periods of time to perform such activities.\nC. During such time of operating in the state on a temporary basis solely for purposes of helping the state recover from the disaster or emergency, these businesses and individual employees should not be burdened by any requirements for business and employee taxes as a result of such activities in the state for a temporary period.\nD. The state’s nexus and residency thresholds are intended for businesses and individuals in the state as part of the conduct of regular business operations or who intend to reside in the state and should not be directed at businesses and individuals coming into the state on a temporary basis to provide help and assistance in response to a Declared State Disaster or Emergency.\nE. To ensure that businesses may focus on quick response to the needs of the state and its citizens during a Declared State Disaster or Emergency it is appropriate for the legislature to deem that such activity for a reasonable period of time before, during and after the disaster or emergency for repairing and restoration of the often devastating damage to property and infrastructure in the state shall not establish presence, residency, nor doing business in the state nor any other criteria for purposes of state and local taxes, lice...
Name: 100, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Search-for-content-like-that-bill-on-Solr">Search for content like that bill on Solr<a class="anchor-link" href="#Search-for-content-like-that-bill-on-Solr">#</a></h2><p>We have some pretty intense text analysis to do, the kind you couldn't do across 1.2 million documents. Instead, we're going to use Solr to pare down our results a bit, then perform our text analysis on that subset.</p>
<p>First, we'll see which bills are <strong>kind of similar</strong> on Solr. We'll do this by adding the model legislation, and asking for <a href="https://lucene.apache.org/solr/guide/8_2/morelikethis.html">"more like this"</a>. Once we have a list of similar bills, we'll delete the model legislation from Solr and perform similarity measurements on the model legislation and the similar bills.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Do you need to start solr? We used -m 5gb when indexing, but we don&#39;t need that much memory when we&#39;re searching</span>
<span class="o">!</span>solr start
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>*** [WARN] ***  Your Max Processes Limit is currently 2048. 
 It should be set to 65000 to avoid operational disruption. 
 If you no longer wish to see this warning, set SOLR_ULIMIT_CHECKS to false in your profile or solr.in.sh

Port 8983 is already being used by another process (pid: 8428)
Please choose a different port using the -p option.

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's <strong>add the model legislation into Solr</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">solr</span> <span class="o">=</span> <span class="n">pysolr</span><span class="o">.</span><span class="n">Solr</span><span class="p">(</span><span class="s1">&#39;http://localhost:8983/solr/legislation&#39;</span><span class="p">,</span> <span class="n">always_commit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Delete previous model legislations if they&#39;re still around</span>
<span class="n">solr</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s1">&#39;bill_id:0&#39;</span><span class="p">)</span>

<span class="c1"># Add the model legislation</span>
<span class="n">solr</span><span class="o">.</span><span class="n">add</span><span class="p">([{</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">target</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;bill_id&#39;</span><span class="p">:</span> <span class="mi">0</span> <span class="p">}])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;\n&lt;response&gt;\n\n&lt;lst name=&#34;responseHeader&#34;&gt;\n  &lt;int name=&#34;status&#34;&gt;0&lt;/int&gt;\n  &lt;int name=&#34;QTime&#34;&gt;171&lt;/int&gt;\n&lt;/lst&gt;\n&lt;/response&gt;\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's <strong>ask for other bills like the model legislation</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># We use content_ngrams because we&#39;re loooking for 6-gram matches</span>
<span class="c1"># Compare to bill_id of 0</span>
<span class="c1"># Max of 1000 rows</span>
<span class="c1"># We only need the bill_id and the score</span>
<span class="n">params</span> <span class="o">=</span> <span class="n">urlencode</span><span class="p">({</span>
    <span class="s1">&#39;mlt.fl&#39;</span><span class="p">:</span> <span class="s1">&#39;content_ngrams&#39;</span><span class="p">,</span>
    <span class="s1">&#39;q&#39;</span><span class="p">:</span> <span class="s1">&#39;bill_id:0&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rows&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s1">&#39;fl&#39;</span><span class="p">:</span> <span class="s1">&#39;bill_id,score&#39;</span>
<span class="p">})</span>
<span class="n">mlt_url</span> <span class="o">=</span> <span class="s1">&#39;http://localhost:8983/solr/legislation/mlt?&#39;</span> <span class="o">+</span> <span class="n">params</span>

<span class="c1"># Make the request, parse the response</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mlt_url</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Turn the results into a dataframe so they&#39;re easier to work with</span>
<span class="n">morelikethis</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;docs&#39;</span><span class="p">])</span>
<span class="n">morelikethis</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bill_id</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>795253</td>
      <td>142.922200</td>
    </tr>
    <tr>
      <th>1</th>
      <td>692076</td>
      <td>142.922200</td>
    </tr>
    <tr>
      <th>2</th>
      <td>410009</td>
      <td>123.342840</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1019794</td>
      <td>114.861220</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1239266</td>
      <td>114.861220</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>391</th>
      <td>756222</td>
      <td>0.072544</td>
    </tr>
    <tr>
      <th>392</th>
      <td>374366</td>
      <td>0.039061</td>
    </tr>
    <tr>
      <th>393</th>
      <td>1235814</td>
      <td>0.026544</td>
    </tr>
    <tr>
      <th>394</th>
      <td>416174</td>
      <td>0.025890</td>
    </tr>
    <tr>
      <th>395</th>
      <td>951543</td>
      <td>0.012969</td>
    </tr>
  </tbody>
</table>
<p>396 rows × 2 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Some of those have a <strong>very, very low score</strong> - almost zero! But because they're returned as matched, we know they have <strong>at least one six-word phrase in common with our model legislation</strong>.</p>
<blockquote><p>If we wanted to spend more time on this, we could implement a <a href="https://github.com/o19s/lucene-query-example/blob/master/src/main/java/com/o19s/CountSimilarity.java">custom scorer</a> in Lucene (the thing that powers Solr) that gives us the number of matches. That'd probably be the best route to filter out the bills that have 1 or 2 matches but nothing that's a true cut-and-paste. Unfortunately they <a href="https://issues.apache.org/jira/browse/LUCENE-8099">changed custom scoring in Lucene 8</a> and I couldn't figure out how to adapt the code linked above.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Delete the model legislations we just inserted</span>
<span class="n">solr</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s1">&#39;bill_id:0&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;\n&lt;response&gt;\n\n&lt;lst name=&#34;responseHeader&#34;&gt;\n  &lt;int name=&#34;status&#34;&gt;0&lt;/int&gt;\n  &lt;int name=&#34;QTime&#34;&gt;88&lt;/int&gt;\n&lt;/lst&gt;\n&lt;/response&gt;\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Query-database">Query database<a class="anchor-link" href="#Query-database">#</a></h1><p>To see what phrases are shared, let's use the <code>bill_id</code> field from our results to request the actual bills from the postgres database. Then we can use the bill content to make a more direct comparison.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;postgresql://localhost:5432/legislation&#39;</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;select * from bills where bill_id = ANY(ARRAY</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">morelikethis</span><span class="o">.</span><span class="n">bill_id</span><span class="p">))</span>
<span class="n">bills_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql_query</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
<span class="n">bills_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>bill_id</th>
      <th>code</th>
      <th>bill_number</th>
      <th>title</th>
      <th>description</th>
      <th>state</th>
      <th>session</th>
      <th>filename</th>
      <th>status</th>
      <th>status_date</th>
      <th>url</th>
      <th>error</th>
      <th>content</th>
      <th>processed_at</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1050681</td>
      <td>42802</td>
      <td>HB301</td>
      <td>HB301</td>
      <td>To extend the imposition of the current Advanced Energy Fund revenue rider on retail electric distribution service rates by three years and to clarify how Advanced Energy Fund grant amounts are to be determined.</td>
      <td>To amend sections 4928.58, 4928.61, and 4928.62 of the Revised Code to extend the imposition of the current Advanced Energy Fund revenue rider on retail electric distribution service rates by three years and to clarify how Advanced Energy Fund grant amounts are to be determined.</td>
      <td>OH</td>
      <td>128th General Assembly (2009-2010)</td>
      <td>bill_data/OH/2009-2010_128th_General_Assembly/bill/HB301.json</td>
      <td>2</td>
      <td>2010-12-08</td>
      <td>http://archives.legislature.state.oh.us/BillText128/128_HB_301_PH_Y.html</td>
      <td>None</td>
      <td>Am. Sub. H. B. No. 301  As Passed by the House\n\nAs Passed by the House\n\n\n\t\t128th General Assembly\n\tRegular Session\n\t2009-2010\n\n\t\tAm. Sub. H. B. No. 301\n\n\n\n\n\n\n\n\nRepresentative Foley \n\n\n\n\nCosponsors: \nRepresentatives Celeste, Skindell, Hagan, Stewart, Letson, Murray, Harris, Pryor, Yuko, Domenick, Ujvagi, Yates, Harwood, Winburn, Williams, S., Evans, Pillich, Phillips, Brown, Chandler, DeBose, Garland, Luckie, Mallory, Walter, Weddington, Williams, B. \n\n\n \n\n\nA BILL\n\n\t\tTo amend sections 4928.58, 4928.61, and 4928.62 of \t1\n\n\t\t\nthe Revised Code to extend the imposition of the \t2\n\n\t\t\ncurrent Advanced Energy Fund revenue rider on \t3\n\n\t\t\nretail electric distribution service rates by \t4\n\n\t\t\nthree years and to clarify how Advanced Energy \t5\n\n\t\t\nFund grant amounts are to be determined. \t6\n\n\t\t\n\n\n\n\n\nBE IT ENACTED BY THE GENERAL ASSEMBLY OF THE STATE OF OHIO:\n\n\n\t       Section 1. That sections 4928.58, 4928.61, and 4928.62 of the \t7\n\t\nRevised Code be amended to read as follows:\t8\n\n\n\t       Sec. 4928.58.  (A)  There is hereby created the public \t9\n\t\nbenefits advisory board, which has the purpose of ensuring that \t10\n\t\nenergy services be provided to low-income consumers in this state \t11\n\t\nin an affordable manner consistent with the policy specified in \t12\n\t\nsection 4928.02 of the Revised Code. The advisory board shall \t13\n\t\nconsist of twenty-one members as follows:  the director of \t14\n\t\ndevelopment, the chairperson of the public utilities commission, \t15\n\t\nthe consumers' counsel, and the director of the air quality \t16\n\t\ndevelopment authority, each serving ex officio and represented by \t17\n\t\na designee at the official's discretion; two members of the house \t18\n\t\nof representatives appointed by the speaker of the house of \t19\n\t\nrepresentatives, neither of the same political party, and two \t20\n\t\nmembers of the senate appointed by the president of the senate, \t21\n\t\nneither of the same political party; and thirteen members \t22\n\t\nappointed by the governor with the advice and consent of the \t23\n\t\nsenate, consisting of one representative of suppliers of \t24\n\t\ncompetitive retail electric service; one representative of the \t25\n\t\nresidential class of electric utility customers; one \t26\n\t\nrepresentative of the industrial class of electric utility \t27\n\t\ncustomers; one representative of the commercial class of electric \t28\n\t\nutility customers; one representative of agricultural or rural \t29\n\t\ncustomers of an electric utility; two customers receiving \t30\n\t\nassistance under one or more of the low-income customer assistance \t31\n\t\nprograms, to represent customers eligible for any such assistance, \t32\n\t\nincluding senior citizens; one representative of the general \t33\n\t\npublic; one representative of local intake agencies; one \t34\n\t\nrepresentative of a community-based organization ...</td>
      <td>2019-11-18 04:39:36.166739+00:00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>468332</td>
      <td>62290</td>
      <td>SB275</td>
      <td>SB275</td>
      <td>Professional engineers.</td>
      <td>An act to amend Sections 6704, 6706.3, 6730, 6737.3, 6738, 6740, 6741, and 6787 of, to add Sections 6702.3, 6702.4, 6702.5, 6702.6, 6702.7, 6702.8, 6702.9, 6702.10, 6702.11, 6730.6, 6730.7, and 6731.7 to, and to repeal Section 6704.1 of, the Business and Professions Code, relating to engineers.</td>
      <td>CA</td>
      <td>2009-2010 Session</td>
      <td>bill_data/CA/2009-2010_Regular_Session/bill/SB275.json</td>
      <td>1</td>
      <td>2009-02-24</td>
      <td>http://www.leginfo.ca.gov/pub/09-10/bill/sen/sb_0251-0300/sb_275_bill_20100104_amended_sen_v98.html</td>
      <td>None</td>
      <td>SB 275\tSenate Bill\t- AMENDED\n\n\n\nBILL NUMBER: SB 275\tAMENDED\n\tBILL TEXT\n\n\tAMENDED IN SENATE  JANUARY 4, 2010\n\nINTRODUCED BY   Senator Walters\n\n                        FEBRUARY 24, 2009\n\n   An act to amend Sections 6704, 6706.3, 6730, 6737.3, 6738, 6740,\n6741, and 6787 of, to add Sections 6702.3, 6702.4, 6702.5, 6702.6,\n6702.7, 6702.8, 6702.9, 6702.10, 6702.11,  6730.5, \n6730.6, 6730.7,  6731.7, and 6731.8   and 6731.7\n to, and to repeal  Sections 6704.1 and 6737.2\n  Section 6704.1  of, the Business and Professions\nCode, relating to engineers.\n\n\n\n\tLEGISLATIVE COUNSEL'S DIGEST\n\n\n   SB 275, as amended, Walters. Professional engineers.\n   Existing law establishes the Board for Professional Engineers and\nLand Surveyors in the Department of Consumer Affairs. Existing law\nrecognizes various engineering disciplines. Existing law prohibits\nthe practicing of civil, electrical, and mechanical engineering by\nany person who has not passed a specified examination and who is not\nappropriately licensed by the board in that discipline. Existing law\nmakes various violations of the Professional Engineers Act a crime,\nincluding the practice or offer to practice by a person of civil,\nelectrical, or mechanical engineering without authorization as\nprovided by the act.\n   This bill would prohibit the practice of agricultural, chemical,\ncontrol system, fire protection, industrial, metallurgical, nuclear,\npetroleum, and traffic engineering  , as defined,  by any\nperson who has not passed a specified examination and who is not\nappropriately licensed by the board in the particular discipline.\n The bill would authorize any licensed engineer to practice\nengineering work in any of those fields in which he or she is\ncompetent and proficient.  The bill would make other changes to\nrelated provisions.\n   By revising  this   the  definition of a\ncrime to include additional engineering disciplines,  the\n  this  bill would impose a state-mandated local\nprogram.\n   The California Constitution requires the state to reimburse local\nagencies and school districts for certain costs mandated by the\nstate. Statutory provisions establish procedures for making that\nreimbursement.\n   This bill would provide that no reimbursement is required by this\nact for a specified reason.\n   Vote: majority. Appropriation: no. Fiscal committee: yes.\nState-mandated local program: yes.\n\n\nTHE PEOPLE OF THE STATE OF CALIFORNIA DO ENACT AS FOLLOWS:\n\n  SECTION 1.  Section 6702.3 is added to the Business and Professions\nCode, to read:\n   6702.3.  "Chemical engineer" as used in this chapter means a\nprofessional engineer in the branch of chemical engineering and\nrefers to one who practices or offers to practice chemical\nengineering in any of its phases.\n  SEC. 2.  Section 6702.4 is added to the Business and Professions\nCode, to read:\n   6702.4.  "Control system engineer" as used in this chapter means a\nprofessional engineer in the branch ...</td>
      <td>2019-11-17 22:08:47.142030+00:00</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Find-the-number-of-matches">Find the number of matches<a class="anchor-link" href="#Find-the-number-of-matches">#</a></h1><p>We'll start by building a <code>CountVectorizer</code>, to determine every six-word phrase that exists in our source document. Later, we'll use that to see which of those phrases also exist in the potential matches that came from the database.</p>
<blockquote><p>Note that unlike the Solr search, we're now looking for <strong>exact matches</strong></p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vectorizer</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">binary</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">vectorizer</span><span class="o">.</span><span class="n">fit</span><span class="p">([</span><span class="n">target</span><span class="o">.</span><span class="n">content</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>CountVectorizer(analyzer=&#39;word&#39;, binary=True, decode_error=&#39;strict&#39;,
                dtype=&lt;class &#39;numpy.int64&#39;&gt;, encoding=&#39;utf-8&#39;, input=&#39;content&#39;,
                lowercase=True, max_df=1.0, max_features=None, min_df=1,
                ngram_range=(6, 6), preprocessor=None, stop_words=None,
                strip_accents=None, token_pattern=&#39;(?u)\\b\\w\\w+\\b&#39;,
                tokenizer=None, vocabulary=None)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>What are some phrases in our bill?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;11 2012 approved by the alec&#39;,
 &#39;2012 amended by the tax and&#39;,
 &#39;2012 approved by the alec board&#39;,
 &#39;2012 section findings the legislature finds&#39;,
 &#39;2013 approved by the alec board&#39;,
 &#39;2013 reapproved by the alec board&#39;,
 &#39;act disaster period means period that&#39;,
 &#39;act facilitating business rapid response to&#39;,
 &#39;act may be cited as the&#39;,
 &#39;act of 2012 section findings the&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>How many possible six-word combinations grams are there?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1537</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's compute <strong>how many six-gram matches each bill has</strong> when compared to our source model legislation.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>

<span class="c1"># See which bills match which phrases</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">bills_df</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="c1"># Add up the number of matches</span>
<span class="n">sums</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Throw it into a dataframe</span>
<span class="n">bill_matches</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;matches&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">sums</span><span class="p">)),</span>
    <span class="s1">&#39;bill_id&#39;</span><span class="p">:</span> <span class="n">bills_df</span><span class="o">.</span><span class="n">bill_id</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">bills_df</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
    <span class="s1">&#39;code&#39;</span><span class="p">:</span> <span class="n">bills_df</span><span class="o">.</span><span class="n">state</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">bills_df</span><span class="o">.</span><span class="n">bill_number</span>
<span class="p">})</span>
<span class="c1"># Out of all of the 6-word phrases that count have matched, how many matched?</span>
<span class="n">bill_matches</span><span class="p">[</span><span class="s1">&#39;match_percent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bill_matches</span><span class="o">.</span><span class="n">matches</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">bill_matches</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;match_percent&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 13.2 s, sys: 414 ms, total: 13.6 s
Wall time: 14.2 s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bill_matches</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>matches</th>
      <th>bill_id</th>
      <th>title</th>
      <th>code</th>
      <th>match_percent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>118</th>
      <td>1036</td>
      <td>729144</td>
      <td>Facilitating Business Rapid Response to State Declared Disasters Act of 2015; create.</td>
      <td>MS-HB1622</td>
      <td>67.404034</td>
    </tr>
    <tr>
      <th>80</th>
      <td>941</td>
      <td>580946</td>
      <td>Creating the "West Virginia Infrastructure Emergency Response Act of 2013"</td>
      <td>WV-HB2801</td>
      <td>61.223162</td>
    </tr>
    <tr>
      <th>67</th>
      <td>941</td>
      <td>530995</td>
      <td>Creating the "West Virginia Infrastructure Emergency Response Act of 2013"</td>
      <td>WV-HB2801</td>
      <td>61.223162</td>
    </tr>
    <tr>
      <th>107</th>
      <td>927</td>
      <td>694848</td>
      <td>Facilitating Business Rapid Response to State Declared Disasters Act of 2015; create.</td>
      <td>MS-SB2762</td>
      <td>60.312297</td>
    </tr>
    <tr>
      <th>69</th>
      <td>869</td>
      <td>537280</td>
      <td>Creating WV Infrastructure Emergency Response Act of 2013</td>
      <td>WV-SB591</td>
      <td>56.538712</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>147</th>
      <td>0</td>
      <td>820475</td>
      <td>Agriculture; removing reference to certain commission; repealer; effective date.</td>
      <td>OK-HB2503</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>155</th>
      <td>0</td>
      <td>836389</td>
      <td>Student tuition scholarships; revenue department</td>
      <td>AZ-HB2608</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>170</th>
      <td>0</td>
      <td>844376</td>
      <td>Revises the advanced practice registered nurse law</td>
      <td>OH-SB279</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>184</th>
      <td>0</td>
      <td>863761</td>
      <td>General Excise Tax Exemption; Federal Goods and Services;</td>
      <td>HI-SR125</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>395</th>
      <td>0</td>
      <td>1279554</td>
      <td>Revises requirements and process for temporary courtesy licenses and certificates issued by State Board of Examiners, NJ Board of Nursing, and other professional and occupational licensing boards to nonresident military spouses.</td>
      <td>NJ-S4180</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
<p>396 rows × 5 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we've gotten rid of the stemming, <strong>some don't even match at all!</strong></p>
<p>What does the relationship between <strong>Solr score and number of matches</strong> look like? Let's merge our bill results with our solr results to do a little comparison.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scored</span> <span class="o">=</span> <span class="n">bill_matches</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">morelikethis</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;bill_id&#39;</span><span class="p">)</span>
<span class="n">scored</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;match_percent&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11a93aa20&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the future, we can probably <strong>remove bills below a certain score.</strong> I'm not sure what that value is - we'll need to do some additional testing - but it'll save us some time when we're analyzing thousands of pieces of model legislation.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="What-are-the-matching-phrases?">What are the matching phrases?<a class="anchor-link" href="#What-are-the-matching-phrases?">#</a></h1><p>While we know which bills have a lot of phrases in common, <strong>what are those phrases?</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Build a DataGrame of bills and word counts</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">matrix</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> 
    <span class="n">columns</span><span class="o">=</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">(),</span>
    <span class="n">index</span><span class="o">=</span><span class="n">bills_df</span><span class="o">.</span><span class="n">state</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">bills_df</span><span class="o">.</span><span class="n">bill_number</span>
<span class="p">)</span>

<span class="c1"># Drop any bills or phrases that don&#39;t have anything in common</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

<span class="c1"># Add up the number of shared phrases in each bill</span>
<span class="n">word_counts</span><span class="p">[</span><span class="s1">&#39;TOTAL_ngrams_shared&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;TOTAL_ngrams_shared&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">T</span>

<span class="c1"># Add up the nmber of times each phrase was used in different bills</span>
<span class="n">word_counts</span><span class="p">[</span><span class="s1">&#39;TOTAL_bills_used&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;TOTAL_bills_used&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Move &#39;total times used&#39; to the left-hand column</span>
<span class="n">cols</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">cols</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">cols</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">cols</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;TOTAL_bills_used&#39;</span><span class="p">)))</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">cols</span><span class="p">]</span>

<span class="n">word_counts</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;TOTAL_ngrams_shared&#39;</span><span class="p">,</span> <span class="s1">&#39;TOTAL_bills_used&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">word_counts</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>TOTAL_bills_used</th>
      <th>MS-HB1622</th>
      <th>WV-HB2801</th>
      <th>WV-HB2801</th>
      <th>WV-HB2801</th>
      <th>WV-HB2801</th>
      <th>MS-SB2762</th>
      <th>WV-SB591</th>
      <th>RI-S2604</th>
      <th>NC-H335</th>
      <th>OK-SB499</th>
      <th>OK-SB499</th>
      <th>OK-SB499</th>
      <th>OK-SB499</th>
      <th>SC-S1033</th>
      <th>NY-S05323</th>
      <th>NY-A07340</th>
      <th>NY-A08462</th>
      <th>NY-A06649</th>
      <th>NY-S05242</th>
      <th>NM-SB465</th>
      <th>IL-HB5595</th>
      <th>NM-SB19</th>
      <th>NM-HB396</th>
      <th>LA-SB177</th>
      <th>MN-SF1091</th>
      <th>CA-SB560</th>
      <th>IA-HSB617</th>
      <th>SD-SB101</th>
      <th>NJ-A1342</th>
      <th>NJ-A4325</th>
      <th>NJ-A857</th>
      <th>UT-SB0047</th>
      <th>AR-SB925</th>
      <th>ME-LD1836</th>
      <th>AL-SB309</th>
      <th>NJ-S2518</th>
      <th>NJ-A3699</th>
      <th>GA-HB782</th>
      <th>NJ-S978</th>
      <th>CO-HB1003</th>
      <th>AL-HB365</th>
      <th>UT-SB0047S03</th>
      <th>ND-2095</th>
      <th>LA-HB639</th>
      <th>MO-HB1801</th>
      <th>MO-HB1190</th>
      <th>ND-2199</th>
      <th>PA-HB2377</th>
      <th>TN-SB0624</th>
      <th>...</th>
      <th>NH-SB4</th>
      <th>UT-SB0021</th>
      <th>MO-HB1056</th>
      <th>VT-H0314</th>
      <th>VT-S0059</th>
      <th>OH-SB315</th>
      <th>NH-HB153</th>
      <th>NH-HB153</th>
      <th>NH-HB153</th>
      <th>NH-HB153</th>
      <th>UT-SB3002</th>
      <th>UT-SB0016</th>
      <th>UT-SB0023</th>
      <th>OH-HB114</th>
      <th>UT-HB0403</th>
      <th>UT-HB0262</th>
      <th>CA-SB920</th>
      <th>UT-HB0202</th>
      <th>MO-HB2201</th>
      <th>AL-HB252</th>
      <th>FL-H1415</th>
      <th>UT-SB0037</th>
      <th>NH-SB106</th>
      <th>NH-SB106</th>
      <th>NH-SB205</th>
      <th>NH-SB205</th>
      <th>NH-HB1713</th>
      <th>NH-HB1568</th>
      <th>NC-H904</th>
      <th>MN-SF2062</th>
      <th>UT-SB0267</th>
      <th>UT-SB0267</th>
      <th>NM-SB1</th>
      <th>MN-HF1235</th>
      <th>MN-HF1259</th>
      <th>AZ-HB2530</th>
      <th>UT-SB0197</th>
      <th>UT-HB0318</th>
      <th>RI-H5375</th>
      <th>VT-H0441</th>
      <th>NH-SB205</th>
      <th>NH-SB205</th>
      <th>NH-SB106</th>
      <th>NH-SB106</th>
      <th>MS-SB2896</th>
      <th>WA-HB1422</th>
      <th>MS-HB967</th>
      <th>WA-SB5208</th>
      <th>UT-HB0071</th>
      <th>OH-HB260</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>TOTAL_ngrams_shared</th>
      <td></td>
      <td>1036</td>
      <td>941</td>
      <td>941</td>
      <td>941</td>
      <td>941</td>
      <td>927</td>
      <td>869</td>
      <td>705</td>
      <td>641</td>
      <td>615</td>
      <td>615</td>
      <td>615</td>
      <td>615</td>
      <td>524</td>
      <td>504</td>
      <td>496</td>
      <td>475</td>
      <td>475</td>
      <td>469</td>
      <td>393</td>
      <td>383</td>
      <td>365</td>
      <td>351</td>
      <td>347</td>
      <td>332</td>
      <td>279</td>
      <td>208</td>
      <td>208</td>
      <td>195</td>
      <td>195</td>
      <td>195</td>
      <td>192</td>
      <td>188</td>
      <td>187</td>
      <td>187</td>
      <td>186</td>
      <td>185</td>
      <td>182</td>
      <td>179</td>
      <td>168</td>
      <td>160</td>
      <td>158</td>
      <td>151</td>
      <td>140</td>
      <td>132</td>
      <td>132</td>
      <td>132</td>
      <td>129</td>
      <td>118</td>
      <td>...</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>the facilitating business rapid response to</th>
      <td>129</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>facilitating business rapid response to state</th>
      <td>126</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>rapid response to state declared disasters</th>
      <td>126</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>business rapid response to state declared</th>
      <td>126</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>response to state declared disasters act</th>
      <td>125</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>to state declared disasters act of</th>
      <td>117</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>for disaster or emergency related work</th>
      <td>69</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
    </tr>
    <tr>
      <th>an out of state business that</th>
      <td>65</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>of state business or out of</th>
      <td>47</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>state business or out of state</th>
      <td>47</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>business or out of state employee</th>
      <td>47</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>shall not be considered to have</th>
      <td>44</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>business entity that is affiliated with</th>
      <td>43</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>not be considered to have established</th>
      <td>42</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>out of state business or out</th>
      <td>42</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>days after the end of the</th>
      <td>41</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>other business activities that relate to</th>
      <td>40</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>out of state business that conducts</th>
      <td>38</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>property and equipment owned or used</th>
      <td>38</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>20 rows × 327 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Do-this-all-at-once">Do this all at once<a class="anchor-link" href="#Do-this-all-at-once">#</a></h1><p>You just want to do this all at once, right? Let's take care of that. We'll also see <strong>what kind of filtering on scores we should do</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># What are we targeting?</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/alec-model-policies.csv&quot;</span><span class="p">)</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">300</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Base legislation is&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Searching Solr&quot;</span><span class="p">)</span>

<span class="c1"># Connect to solr, add the model legislation</span>
<span class="n">solr</span> <span class="o">=</span> <span class="n">pysolr</span><span class="o">.</span><span class="n">Solr</span><span class="p">(</span><span class="s1">&#39;http://localhost:8983/solr/legislation&#39;</span><span class="p">,</span> <span class="n">always_commit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">solr</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s1">&#39;bill_id:0&#39;</span><span class="p">)</span>
<span class="n">solr</span><span class="o">.</span><span class="n">add</span><span class="p">([{</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">target</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;bill_id&#39;</span><span class="p">:</span> <span class="mi">0</span> <span class="p">}])</span>

<span class="c1"># Use MoreLikeThis to find similar bills</span>
<span class="n">params</span> <span class="o">=</span> <span class="n">urlencode</span><span class="p">({</span>
    <span class="s1">&#39;mlt.fl&#39;</span><span class="p">:</span> <span class="s1">&#39;content_ngrams&#39;</span><span class="p">,</span>
    <span class="s1">&#39;q&#39;</span><span class="p">:</span> <span class="s1">&#39;bill_id:0&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rows&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s1">&#39;fl&#39;</span><span class="p">:</span> <span class="s1">&#39;bill_id,score&#39;</span>
<span class="p">})</span>
<span class="n">mlt_url</span> <span class="o">=</span> <span class="s1">&#39;http://localhost:8983/solr/legislation/mlt?&#39;</span> <span class="o">+</span> <span class="n">params</span>

<span class="c1"># Make the request, parse the response, turn it into a dataframe</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mlt_url</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="n">morelikethis</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;response&#39;</span><span class="p">][</span><span class="s1">&#39;docs&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Found&quot;</span><span class="p">,</span> <span class="n">morelikethis</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;results&quot;</span><span class="p">)</span>

<span class="c1"># Delete the model legislation we just added</span>
<span class="n">solr</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="s1">&#39;bill_id:0&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Querying Postgres for bill content&quot;</span><span class="p">)</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;postgresql://localhost:5432/legislation&#39;</span><span class="p">)</span>
<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;select * from bills where bill_id = ANY(ARRAY</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">morelikethis</span><span class="o">.</span><span class="n">bill_id</span><span class="p">))</span>
<span class="n">bills_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql_query</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Learning phrases from our model legislation&quot;</span><span class="p">)</span>
<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">binary</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">vectorizer</span><span class="o">.</span><span class="n">fit</span><span class="p">([</span><span class="n">target</span><span class="o">.</span><span class="n">content</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Counting phrases shared with potential matches&quot;</span><span class="p">)</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">bills_df</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">sums</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">bill_matches</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;matches&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">sums</span><span class="p">)),</span>
    <span class="s1">&#39;bill_id&#39;</span><span class="p">:</span> <span class="n">bills_df</span><span class="o">.</span><span class="n">bill_id</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">bills_df</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
    <span class="s1">&#39;code&#39;</span><span class="p">:</span> <span class="n">bills_df</span><span class="o">.</span><span class="n">state</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">bills_df</span><span class="o">.</span><span class="n">bill_number</span>
<span class="p">})</span>
<span class="n">bill_matches</span><span class="p">[</span><span class="s1">&#39;match_percent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bill_matches</span><span class="o">.</span><span class="n">matches</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">bill_matches</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;match_percent&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Combining with Solr scores&quot;</span><span class="p">)</span>
<span class="n">scored</span> <span class="o">=</span> <span class="n">bill_matches</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">morelikethis</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;bill_id&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Base legislation is Draft Resolution Urging the Presidential Administration and Congress to Support Stronger Intellectual Property Protections in an Updated North American Free Trade Agreement (NAFTA)
Searching Solr
Found 1000 results
Querying Postgres for bill content
Learning phrases from our model legislation
Counting phrases shared with potential matches
Combining with Solr scores
Done
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scored</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>matches</th>
      <th>bill_id</th>
      <th>title</th>
      <th>code</th>
      <th>match_percent</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>110</td>
      <td>1272954</td>
      <td>The United States-Mexico-Canada Agreement.</td>
      <td>CA-SJR12</td>
      <td>23.809524</td>
      <td>15.995613</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90</td>
      <td>1265997</td>
      <td>Memorializes congress to approve the United States-Mexico-Canada Agreement</td>
      <td>LA-HR261</td>
      <td>19.480519</td>
      <td>11.555555</td>
    </tr>
    <tr>
      <th>2</th>
      <td>50</td>
      <td>1255211</td>
      <td>A resolution to urge the Congress of the United States to speedily approve the recently negotiated United States-Mexico-Canada Agreement.</td>
      <td>MI-HR0081</td>
      <td>10.822511</td>
      <td>11.470130</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50</td>
      <td>1274053</td>
      <td>A resolution to urge the Congress of the United States to speedily approve the recently negotiated United States-Mexico-Canada Agreement.</td>
      <td>MI-SR0073</td>
      <td>10.822511</td>
      <td>11.246828</td>
    </tr>
    <tr>
      <th>4</th>
      <td>24</td>
      <td>1237211</td>
      <td>Trade agreement; ratification; urging Congress</td>
      <td>AZ-SM1002</td>
      <td>5.194805</td>
      <td>11.772088</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Add-in-the-content">Add in the content<a class="anchor-link" href="#Add-in-the-content">#</a></h3><p>Maybe you'd like to see the content of the bills now? No big deal, we can do that.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">with_content</span> <span class="o">=</span> <span class="n">scored</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">bills_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;code&#39;</span><span class="p">]),</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;bill_id&#39;</span><span class="p">)</span>
<span class="n">with_content</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>matches</th>
      <th>bill_id</th>
      <th>title</th>
      <th>code</th>
      <th>match_percent</th>
      <th>score</th>
      <th>id</th>
      <th>bill_number</th>
      <th>description</th>
      <th>state</th>
      <th>session</th>
      <th>filename</th>
      <th>status</th>
      <th>status_date</th>
      <th>url</th>
      <th>error</th>
      <th>content</th>
      <th>processed_at</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>110</td>
      <td>1272954</td>
      <td>The United States-Mexico-Canada Agreement.</td>
      <td>CA-SJR12</td>
      <td>23.809524</td>
      <td>15.995613</td>
      <td>475735</td>
      <td>SJR12</td>
      <td>Relative to the United States-Mexico-Canada Agreement.</td>
      <td>CA</td>
      <td>2019-2020 Regular Session</td>
      <td>bill_data/CA/2019-2020_Regular_Session/bill/SJR12.json</td>
      <td>2</td>
      <td>2019-08-30</td>
      <td>http://leginfo.legislature.ca.gov/faces/billTextClient.xhtml?bill_id=201920200SJR12</td>
      <td>None</td>
      <td>Bill Text  - SJR-12 The United States-Mexico-Canada Agreement.\n\n\n\n\n\n\n      \n      \n\n        \n          \tskip to content\n\thome\n\taccessibility\n\tFAQ\n\tfeedback\n\tsitemap\n\tlogin\n            \n\tx\n\n\n        \n\n\n\n\n        \n            \n        \n\n        \n          \n            \n            \n          \n            \n          \n\n          \n        \n\n          \n            \n               Quick Search:\n            \n\n            Bill Number\nBill Keyword\n\n\n              \n            \n\n          \n\n\n\n      \n\n\n\n\n    \tHome\n      \n\tBill Information\n\n\n      \n\tCalifornia Law\n      \n\tPublications\n\n\n      \n\tOther Resources\n      \n\tMy Subscriptions\n      \n\tMy Favorites\n      \n\n\n  \n\n  \n\n\n\n    \n  \n      \n      \n      \n        \n\n\n      \n        \tBill Information\n            &gt;&gt;\n          \n\tBill Search\n            &gt;&gt;\n          \n\tText\n\n\n      \n\n  Bill Text\n\n        \n\n\n\n\n      \n        PDF2\n            PDF\n          \n          \n\n\n           |Add To My Favorites |Track Bill | Version:08/14/19 - Introduced\n\n\n\n\n           \n            \n        \n\n\n        \n          \n            SJR-12 The United States-Mexico-Canada Agreement.(2019-2020)\n          \n\n        \n\n      \n\n      \n\n\n        Text\n            \n            &gt;&gt;\n\n        \n\n\n\n        Votes\n            \n            &gt;&gt;\n\n        \n\n\n\n        History\n            &gt;&gt;\n\n        \n\n\n\n        Bill Analysis\n            &gt;&gt;\n\n        \n\n\n\n        Today's Law As Amended\n            &gt;&gt;\n\n            \n\n        \n\n\n\n        Compare Versions\n            &gt;&gt;\n\n\n        \n\n\n\n        Status\n            &gt;&gt;\n\n        \n\n        Comments To Author\n  \n            &gt;&gt;\n\n        \n          Track Bill\n              &gt;&gt;\n\n          \n          Add To My Favorites\n              &gt;&gt;\n\n\n          \n\n      \n\n      \n\n\n\n\n\n            \n              SHARE THIS:\n            \n\n            \n              \n              \n            \n\n\n\nBill Start\n\n\t\n\n\n\n\n                    CALIFORNIA LEGISLATURE—\n                    2019–2020 REGULAR SESSION\n\n\n                Senate Joint Resolution\n              \nNo. 12\n\n\n\tIntroduced by Senator Grove\n\n\t\nAugust 14, 2019\n\n\n\n\n Relative to the United States-Mexico-Canada Agreement. \n\n\nLEGISLATIVE COUNSEL'S DIGEST\n\n\nSJR 12, as introduced, Grove.\n                          The United States-Mexico-Canada Agreement.\nThis measure would recognize the benefits of improving existing trade relations between the United States, Mexico, and Canada, and would urge Congress to approve the United States-Mexico-Canada Agreement.\n\nDigest Key\n\n      Fiscal Committee:\n      NO  \n\nBill Text\nWHEREAS, The imposition of artificial barriers to free and open trade are harmful to American economic interests; and \nWHEREAS, Together, the United States, Canada, and Mexico promote a shared beli...</td>
      <td>2019-11-18 09:14:44.783689+00:00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90</td>
      <td>1265997</td>
      <td>Memorializes congress to approve the United States-Mexico-Canada Agreement</td>
      <td>LA-HR261</td>
      <td>19.480519</td>
      <td>11.555555</td>
      <td>1159473</td>
      <td>HR261</td>
      <td>Memorializes congress to approve the United States-Mexico-Canada Agreement</td>
      <td>LA</td>
      <td>2019 Regular Session</td>
      <td>bill_data/LA/2019-2019_Regular_Session/bill/HR261.json</td>
      <td>4</td>
      <td>2019-06-02</td>
      <td>http://www.legis.la.gov/Legis/ViewDocument.aspx?d=1140431</td>
      <td>None</td>
      <td>ENROLLED\n\n2019 Regular Session\n\nHOUSE RESOLUTION NO. 261\n\nBY REPRESENTATIVE GAROFALO\n\nA RESOLUTION\n\nTo memorialize the United States Congress to take such actions as are necessary to approve\n\nthe United States-Mexico-Canada Agreement in order to ensure continuity in trade\n\namong the three North American economic partners.\n\nWHEREAS, the imposition of artificial barriers to free and open trade are harmful\n\nto American economic interests; and\n\nWHEREAS, together, the United States, Canada, and Mexico promote a shared belief\n\nin freedom, representative democracy, and market principles as recognized in the\n\nConstitution of United States; and\n\nWHEREAS, a longstanding, close, trilateral relationship, codified in the North\n\nAmerican Free Trade Agreement (NAFTA), has existed between the United States, Canada,\n\nand Mexico for more than twenty years and has proven economically, culturally, and\n\nstrategically important for all parties; and\n\nWHEREAS, the United States-Mexico-Canada Agreement is a renegotiation of\n\nNAFTA and will extend the benefits enjoyed as a result of NAFTA; and\n\nWHEREAS, since NAFTA was instituted in 1994, trade with Canada and Mexico\n\nhas nearly quadrupled to one trillion three hundred billion dollars; and\n\nWHEREAS, Mexico and Canada buy more than one-third of the United States'\n\nmerchandise exports; and\n\nWHEREAS, Canada and Mexico represent either the first or second largest export\n\nmarket in forty-three states;  and all but one state count our neighbors as a top-three trading\n\npartner; and\n\nPage 1 of 3\n\n\n\nHR NO. 261 ENROLLED\n\nWHEREAS, NAFTA has contributed to a three hundred fifty percent increase in\n\nUnited States agricultural exports to Canada and Mexico; and\n\nWHEREAS, the United States ran a cumulative trade surplus in manufactured goods\n\nwith Canada and Mexico of more than seventy-nine billion dollars over the six-year period\n\nfrom 2008 to 2014 with a surplus in services of over forty-one billion dollars in 2014 alone;\n\nand\n\nWHEREAS, NAFTA has been a boon to competitiveness for United States\n\nmanufacturers, which added more than eight hundred thousand jobs in the four years after\n\nthe institution of NAFTA, with Canadian and Mexican consumers purchasing four hundred\n\neighty-seven billion dollars of United States manufactured goods in 2014, generating nearly\n\nforty thousand dollars in export revenue per every American factory worker; and\n\nWHEREAS, United States service exports to Canada and Mexico have tripled, rising\n\nfrom twenty-seven billion dollars in 1993 to ninety-two billion dollars in 2014, thanks to\n\nnew market access and clearer rules afforded by NAFTA and which will be continued by the\n\nUnited States-Mexico-Canada Agreement; and\n\nWHEREAS, Canada and Mexico are the top two export destinations for United\n\nStates small and medium-sized enterprises; more than one hundred twenty-five thousand of\n\nwhich sold their goods and services in...</td>
      <td>2019-11-17 23:18:32.165939+00:00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>50</td>
      <td>1255211</td>
      <td>A resolution to urge the Congress of the United States to speedily approve the recently negotiated United States-Mexico-Canada Agreement.</td>
      <td>MI-HR0081</td>
      <td>10.822511</td>
      <td>11.470130</td>
      <td>390870</td>
      <td>HR0081</td>
      <td>A resolution to urge the Congress of the United States to speedily approve the recently negotiated United States-Mexico-Canada Agreement.</td>
      <td>MI</td>
      <td>100th Legislature</td>
      <td>bill_data/MI/2019-2020_100th_Legislature/bill/HR0081.json</td>
      <td>4</td>
      <td>2019-05-01</td>
      <td>http://www.legislature.mi.gov/documents/2019-2020/resolutionadopted/House/htm/2019-HAR-0081.htm</td>
      <td>None</td>
      <td>house resolution no.81\n\n\nReps. Farrington, LaFave, Maddock, Alexander, Hall,\nCrawford, Rendon, Afendoulis, Bellino, Brann, Cole, Eisen, Filler, Green,\nGriffin, Hauck, Hoitenga, Hornberger, Huizenga, Iden,\nKahle, Leutheuser, Lightner, Markkanen, Meerman,\nMiller, O'Malley, Paquette, Reilly, Sheppard, Slagh, Vaupel, Wakeman, Wendzel,\nWentworth, Whiteford, Wozniak and Yaroch offered the following resolution:\n\n\nA resolution to urge the Congress\nof the United States to speedily approve the recently negotiated United\nStates-Mexico-Canada Agreement.\n\n\n\n\nWhereas, The North American Free Trade Agreement\n(NAFTA) is a close tri-lateral relationship between the United States, Canada,\nand Mexico. For more than 25 years, NAFTA has been economically, culturally and\nstrategically important for all parties; and\n\n\nWhereas, NATFA is significant for the American\neconomy. Trade with Canada and Mexico supports nearly 12 million American jobs,\nand nearly 5 million of those jobs are supported by increased NAFTA trade.\nSince the agreement began in 1994, trade with Canada and Mexico has nearly\nquadrupled to $1.3 trillion, and the two countries buy more than one-third of\nU.S. merchandise exports. U.S. service exports to Canada and Mexico have also\ntripled, rising from $27.5 billion in 1993 to $91.3 billion in 2017, thanks to\nthe trade agreement's new market access and clearer rules; and\n\n\nWhereas, Trade with Canada and Mexico is significant\nto U.S. states. For 43 states, our contiguous international neighbors represent\nthe first or second largest export market, and all but one state counts Canada\nor Mexico as a top three trading partner. Canada is Michigan’s largest export\nmarket, and Mexico is Michigan’s third largest export market. NAFTA has also\ncontributed to a 300 percent increase in Michigan’s agricultural exports to\nCanada and Mexico; and\n\n\nWhereas, Small and medium-sized enterprises in the\nUnited States rely on trade with Canada and Mexico to support and grow their\nbusiness. Canada and Mexico are the top two export destinations for U.S. small\nand medium-sized enterprises, more than 125,000 of which sold their goods and\nservices in Canada and Mexico in 2014; and\n\n\nWhereas, Trade among our North American trading\npartners is made up predominantly of intellectual property (IP)-intensive goods\nand services that employ millions of Americans in high paying jobs and generate\nbillions of dollars in economic output. However, many of the IP-intensive\ngoods, services, and exchanges through which trade is facilitated did not exist\nwhen the agreement was drafted. This situation has resulted in uneven and weak\nIP enforcement. Stronger enforcement of IP rights will encourage more foreign\ndirect investment and increase gross domestic product; and\n\n\nWhereas, The United States-Mexico-Canada Agreement\n(USMCA) creates a 21st century trade agreement for North America. The\nrenegotiated USMCA has provisions favorable to U.S....</td>
      <td>2019-11-18 06:45:04.023398+00:00</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50</td>
      <td>1274053</td>
      <td>A resolution to urge the Congress of the United States to speedily approve the recently negotiated United States-Mexico-Canada Agreement.</td>
      <td>MI-SR0073</td>
      <td>10.822511</td>
      <td>11.246828</td>
      <td>390109</td>
      <td>SR0073</td>
      <td>A resolution to urge the Congress of the United States to speedily approve the recently negotiated United States-Mexico-Canada Agreement.</td>
      <td>MI</td>
      <td>100th Legislature</td>
      <td>bill_data/MI/2019-2020_100th_Legislature/bill/SR0073.json</td>
      <td>4</td>
      <td>2019-10-16</td>
      <td>http://www.legislature.mi.gov/documents/2019-2020/resolutionadopted/Senate/htm/2019-SAR-0073.htm</td>
      <td>None</td>
      <td>as adopted by\nsenate, October 16, 2019\n\n\n \n\n\n substitute\nfor\n\n\n senate\nResolution No. 73\n\n\nA resolution to urge the Congress\nof the United States to speedily approve the recently negotiated United\nStates-Mexico-Canada Agreement.\n\n\n\n\nWhereas, The North American Free Trade Agreement\n(NAFTA) is a close tri-lateral relationship between the United States, Canada,\nand Mexico. For more than 25 years, NAFTA has been economically, culturally,\nand strategically important for all parties; and\n\n\nWhereas, NAFTA is significant for the American economy.\nTrade with Canada and Mexico supports nearly 12 million American jobs, and\nnearly 5 million of those jobs are supported by increased NAFTA trade. Since\nthe agreement began in 1994, trade with Canada and Mexico has nearly quadrupled\nto $1.3 trillion, and the two countries buy more than one-third of U.S.\nmerchandise exports. U.S. service exports to Canada and Mexico have also\ntripled, rising from $27.5 billion in 1993 to $91.3 billion in 2017, thanks to\nthe trade agreement's new market access and clearer rules; and\n\n\nWhereas, Trade with Canada and Mexico is significant\nto U.S. states. For 43 states, our contiguous international neighbors represent\nthe first or second largest export market, and all but one state counts Canada\nor Mexico as a top three trading partner. Canada is Michigan’s largest export\nmarket, and Mexico is Michigan’s third largest export market. NAFTA has also\ncontributed to a 300 percent increase in Michigan’s agricultural exports to\nCanada and Mexico; and\n\n\nWhereas, Small and medium-sized enterprises in the\nUnited States rely on trade with Canada and Mexico to support and grow their\nbusiness. Canada and Mexico are the top two export destinations for U.S. small\nand medium-sized enterprises, more than 125,000 of which sold their goods and\nservices in Canada and Mexico in 2014; and\n\n\nWhereas, Trade among our North American trading\npartners is made up predominantly of intellectual property (IP)-intensive goods\nand services that employ millions of Americans in high paying jobs and generate\nbillions of dollars in economic output. However, many of the IP-intensive\ngoods, services, and exchanges through which trade is facilitated did not exist\nwhen the agreement was drafted. This situation has resulted in uneven and weak\nIP enforcement. Stronger enforcement of IP rights will encourage more foreign\ndirect investment and increase gross domestic product; and\n\n\nWhereas, The United States-Mexico-Canada Agreement\n(USMCA) creates a 21st Century trade agreement for North America. The\nrenegotiated USMCA has provisions favorable to U.S. autoworkers that would help\nlevel the playing field between U.S. and Mexican autoworkers. The updated\nagreement is also more beneficial to the agricultural sector than NAFTA and\nwill offer a higher degree of certainty and stability to Michigan farmers. The\nnew IP provisions are the most comprehensive of any ...</td>
      <td>2019-11-18 08:51:43.781515+00:00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>24</td>
      <td>1237211</td>
      <td>Trade agreement; ratification; urging Congress</td>
      <td>AZ-SM1002</td>
      <td>5.194805</td>
      <td>11.772088</td>
      <td>929331</td>
      <td>SM1002</td>
      <td>Trade agreement; ratification; urging Congress</td>
      <td>AZ</td>
      <td>Fifty-fourth Legislature</td>
      <td>bill_data/AZ/2019-2019_Fifty-fourth_Legislature_1st_Regular/bill/SM1002.json</td>
      <td>4</td>
      <td>2019-03-11</td>
      <td>https://www.azleg.gov/legtext/54leg/1r/laws/sm1002.htm</td>
      <td>None</td>
      <td>Odd Ball SM1002 - 541R - S Ver of SM1002\n\n\n\n\n\n \n\n\n \n\n\n \n\n\n\t\n  Senate Engrossed\n\n  \n\t\n   \n\n   \n\n   \n\n  State of\n  Arizona\n\n  Senate\n\n  Fifty-fourth\n  Legislature\n\n  First Regular\n  Session\n\n  2019\n\n   \n\n   \n\n  \n\t\n  SENATE MEMORIAL 1002\n\n  \n\t\n   \n\n  \n\t\n   \n\n  \n\n\n\n \n\n\nA MEMORIAL\n\n\n \n\n\nurging the\nunited states congress to ratify the recently negotiated united\nstates-mexico-canada agreement.\n\n\n \n\n\n \n\n\n(TEXT OF BILL BEGINS ON NEXT PAGE)\n\n\n \n\n\n\n\n\n\n\n\n\n\n\nTo the Congress of the United States of America:\n\n\nYour memorialist respectfully represents:\n\n\nWhereas, North American trade is vital to the United States\neconomy; and \n\n\nWhereas, together, the United\nStates, Canada and Mexico promote a shared belief in freedom, representative\ndemocracy and market principles as recognized in the United States\nConstitution; and\n\n\nWhereas, the North American Free\nTrade Agreement (NAFTA) created the largest single free trade area in the\nworld; and\n\n\nWhereas, a longstanding, close trilateral relationship,\ncodified in NAFTA, has existed between the three countries for close to 25\nyears and has proved to be economically, culturally and strategically important\nfor all parties; and\n\n\nWhereas, more than 280,000 jobs in Arizona depend on trade and\ninvestment from Mexico and Canada; and\n\n\nWhereas, since NAFTA entered into force in 1994, trade with Canada and\nMexico has nearly quadrupled to $3.5 billion\ndaily, or $1.3 trillion annually, and the two countries buy more than\none-third of American merchandise exports; and\n\n\nWhereas, Canada and Mexico are\nArizona's two largest trading export markets; and\n\n\nWhereas, for 43 states in the\nUnited States, Canada and Mexico represent their first or second largest export\nmarket, and all states but one count Canada or Mexico as a top three trading\npartner; and\n\n\nWhereas, NAFTA has contributed to a\n405% increase in American agricultural exports to Canada and Mexico; and\n\n\nWhereas, ratification of the\nrecently negotiated United States‑Mexico-Canada Agreement (USMCA) will\ncontinue the many benefits of the stellar trade relationship between the three\nNorth American economies that has flourished under NAFTA; and\n\n\nWhereas, thanks to new market\naccess and clearer rules afforded by NAFTA, United States service exports to\nCanada and Mexico have tripled, rising from $27.5 billion in 1993 to $91.3\nbillion in 2017.  These benefits will continue to be enhanced under USMCA; and\n\n\nWhereas, the modernized USMCA may\nprove to be even more beneficial to the agricultural sector than NAFTA and will\noffer a higher degree of certainty and stability for cross‑border\nbusiness opportunities; and\n\n\nWhereas, in 2017, the State of\nArizona sent $2.2 billion in exports to Canada and $7.5 billion to Mexico; and\n\n\nWhereas, Canada and Mexico are the\ntop two export destinations for small and medium‑sized A...</td>
      <td>2019-11-18 06:03:07.515594+00:00</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>0</td>
      <td>276065</td>
      <td>As introduced, requires candidates for president of the United States, as a condition of having the candidate's name appear on the ballot, to file a sworn affidavit with the secretary of state together with certain information to prove the candidate meets the constitutional residency requirements. - Amends TCA Title 2, Chapter 5, Part 2.</td>
      <td>TN-SB1043</td>
      <td>0.000000</td>
      <td>11.090651</td>
      <td>1236556</td>
      <td>SB1043</td>
      <td>As introduced, requires candidates for president of the United States, as a condition of having the candidate's name appear on the ballot, to file a sworn affidavit with the secretary of state together with certain information to prove the candidate meets the constitutional residency requirements. - Amends TCA Title 2, Chapter 5, Part 2.</td>
      <td>TN</td>
      <td>107th General Assembly</td>
      <td>bill_data/TN/2011-2012_107th_General_Assembly/bill/SB1043.json</td>
      <td>1</td>
      <td>2011-02-16</td>
      <td>http://www.capitol.tn.gov/Bills/107/Bill/SB1043.pdf</td>
      <td>None</td>
      <td>SB1043\n\n\n \n\nSB1043 \n\n00325431 \n\n-1- \n\n \nHOUSE BILL 2065  \n\nBy Womick \n \n\nSENATE BILL 1043  \n\nBy  Ketron \n\n \n\n \nAN ACT to amend Tennessee Code Annotated, Title 2, \n\nChapter 5, Part 2, relative to presidential \ncandidates. \n\n \nBE IT ENACTED BY THE GENERAL ASSEMBLY OF THE STATE OF TENNESSEE: \n\nSECTION 1.  Tennessee Code Annotated, Section 2-5-204, is amended by adding the \n\nfollowing as a new subsection: \n\n(f) \n\n(1) The national political party committee for a candidate for president of \n\nthe United States for a party that is entitled to continued representation on the \n\nballot, or any individuals known as an independent candidate under § 2-5-203 for \n\npresident of the United States that is entitled to representation on the ballot, shall \n\nprovide to the secretary of state written notice containing the full names of the \n\nnominees who are to be candidates for president and vice president of the United \n\nStates.  \n\n(2) Within fourteen (14) calendar days after submittal of the names of the \n\ncandidates to the secretary of state, each candidate for president of the United \n\nStates shall submit an affidavit that states the candidate’s citizenship and age \n\nand shall append to the affidavit documents that prove that the candidate is a \n\nnatural born citizen, prove the candidate’s age and prove that the candidate \n\nmeets the residency requirements for president of the United States as \n\nprescribed in Article II, Section 1, of the Constitution of the United States.  \n\n(3) \n\n\n\n \n\n \n\n \n\n - 2 - 00325431 \n\n \n\n \n\n(A) The affidavit prescribed in subdivision (f)(2) shall include \n\nreferences to and attachment of all of the following, which shall be sworn \n\nto under penalty of perjury:  \n\n(i) An original long form birth certificate that includes: the \n\ndate and place of birth, the name of the hospital, the name of the \n\nattending physician, the full names of both parents, the signatures \n\nof the witnesses in attendance, and the official raised seal from \n\nthe state issuing the birth certificate; \n\n(ii) A sworn statement attesting that the candidate has not \n\nheld dual or multiple citizenship and that the candidate’s \n\nallegiance is solely to the United States; and \n\n(iii) A sworn statement or form that lists and identifies the \n\ncandidate’s places of residence in the United States for the \n\npreceding fourteen (14) years; and \n\n(B) If a candidate for president of the United States fails to submit \n\nand swear to the documents prescribed in subdivision (f)(3)(A), or if the \n\nsecretary of state finds the required attached documents to be unofficial \n\ncopies or counterfeit, or the secretary of state finds the candidate not \n\nqualified according to Article II, Section 1 of the Constitution of the United \n\nStates, then the secretary of state shall not place that presidential \n\ncandidate’s name on the ballot in this state.  \n\n(4) Once the secreta...</td>
      <td>2019-11-18 02:50:18.488717+00:00</td>
    </tr>
    <tr>
      <th>996</th>
      <td>0</td>
      <td>800905</td>
      <td>Initiative and Referendum Amendments</td>
      <td>UT-HB0010</td>
      <td>0.000000</td>
      <td>10.112111</td>
      <td>143858</td>
      <td>HB0010</td>
      <td>Initiative and Referendum Amendments</td>
      <td>UT</td>
      <td>2016 General Session</td>
      <td>bill_data/UT/2016-2016_Regular_Session/bill/HB0010.json</td>
      <td>4</td>
      <td>2016-03-29</td>
      <td>http://le.utah.gov/~2016/bills/hbillenr/HB0010.pdf</td>
      <td>None</td>
      <td>Enrolled Copy H.B. 10\n\n1 INITIATIVE AND REFERENDUM AMENDMENTS\n\n2 2016 GENERAL SESSION\n\n3 STATE OF UTAH\n\n4 Chief Sponsor:  Brian M. Greene\n\n5 Senate Sponsor:  Alvin B. Jackson\n\n6  \n\n7 LONG TITLE\n\n8 General Description:\n\n9 This bill amends provisions of the Election Code relating to initiatives and referenda.\n\n10 Highlighted Provisions:\n\n11 This bill:\n\n12 &lt; modifies the definitions of a local law and a local tax law;\n\n13 &lt; removes a criminal penalty relating to the statement on an initiative or referendum\n\n14 petition that a person signing the petition has read and understands the law to which\n\n15 the initiative or referendum relates;\n\n16 &lt; establishes and modifies deadlines relating to the local initiative and referendum\n\n17 process;\n\n18 &lt; modifies provisions relating to property tax referenda; and\n\n19 &lt; makes technical changes.\n\n20 Money Appropriated in this Bill:\n\n21 None\n\n22 Other Special Clauses:\n\n23 None\n\n24 Utah Code Sections Affected:\n\n25 AMENDS:\n\n26 20A-1-609, as last amended by Laws of Utah 2011, Chapter 395\n\n27 20A-7-101, as last amended by Laws of Utah 2014, Chapters 364 and 396\n\n28 20A-7-504, as last amended by Laws of Utah 2000, Chapter 3\n\n29 20A-7-601, as last amended by Laws of Utah 2014, Chapter 242\n\n\n\nH.B. 10 Enrolled Copy\n\n- 2 -\n\n30 20A-7-602, as last amended by Laws of Utah 2000, Chapter 3\n\n31 20A-7-603, as last amended by Laws of Utah 2014, Chapter 329\n\n32 20A-7-604, as enacted by Laws of Utah 1994, Chapter 272\n\n33 20A-7-606, as last amended by Laws of Utah 2014, Chapter 396\n\n34 20A-7-613, as last amended by Laws of Utah 2015, Chapter 258\n\n35  \n\n36 Be it enacted by the Legislature of the state of Utah:\n\n37 Section 1.  Section 20A-1-609 is amended to read:\n\n38 20A-1-609.   Omnibus penalties.\n\n39 [(1)  Unless another penalty is specifically provided, any]\n\n40 (1) (a)  Except as provided in Subsection (1)(b), a person who violates any provision of\n\n41 this title is guilty of a class B misdemeanor.\n\n42 (b)  Subsection (1)(a) does not apply to:\n\n43 (i)  a provision of this title for which another penalty is expressly stated; or\n\n44 (ii)  Subsection 20A-7-203(2)(h), 20A-7-303(2)(h), 20A-7-503(2)(i), or\n\n45 20A-7-603(2)(h).\n\n46 (2)  Except as provided by Section 20A-2-101.3 or 20A-2-101.5, a person convicted of\n\n47 any offense under this title may not:\n\n48 (a)  file a declaration of candidacy for any office or appear on the ballot as a candidate\n\n49 for any office during the election cycle in which the violation occurred;\n\n50 (b)  take or hold the office to which he was elected; and\n\n51 (c)  receive the emoluments of the office to which he was elected.\n\n52 (3) (a)  Any person convicted of any offense under this title forfeits the right to vote at\n\n53 any election unless the right to vote is restored as provided in Section 20A-2-101.3 or\n\n54 20A-2-101.5.\n\n55 (b)  Any person may challenge the right to vote of a person ...</td>
      <td>2019-11-17 20:41:40.067942+00:00</td>
    </tr>
    <tr>
      <th>997</th>
      <td>0</td>
      <td>683603</td>
      <td>Substitute Geographic Diversity Amendments</td>
      <td>UT-SB0070</td>
      <td>0.000000</td>
      <td>11.387229</td>
      <td>141243</td>
      <td>SB0070</td>
      <td>Substitute Geographic Diversity Amendments</td>
      <td>UT</td>
      <td>2015 Regular Session</td>
      <td>bill_data/UT/2015-2015_Regular_Session/bill/SB0070.json</td>
      <td>2</td>
      <td>2015-02-17</td>
      <td>http://le.utah.gov/~2015/bills/sbillint/SB0070S01.pdf</td>
      <td>None</td>
      <td>1st S\nu\n\nb\n. S\n\n.B\n. 70\n\nLEGISLATIVE GENERAL COUNSEL\n6  Approved for Filing: T.R. Vaughn  6\n\n6    01-29-15  1:06 PM    6\n\nS.B. 70\n1st Sub. (Green)\n\nSenator Todd Weiler proposes the following substitute bill:\n\n1 GEOGRAPHIC DIVERSITY AMENDMENTS\n\n2 2015 GENERAL SESSION\n\n3 STATE OF UTAH\n\n4 Chief Sponsor:  Todd Weiler\n\n5 House Sponsor:   Mike K. McKell\n\n6  \n\n7 LONG TITLE\n\n8 General Description:\n\n9 This bill amends the signature requirements for an initiative or referendum petition.\n\n10 Highlighted Provisions:\n\n11 This bill:\n\n12 &lt; defines terms;\n\n13 &lt; requires that an initiative or referendum petition in a city, county, or town meet\n\n14 certain signature requirements within a majority of the precincts in the city, county,\n\n15 or town; and\n\n16 &lt; makes technical and conforming changes.\n\n17 Money Appropriated in this Bill:\n\n18 None\n\n19 Other Special Clauses:\n\n20 None\n\n21 Utah Code Sections Affected:\n\n22 AMENDS:\n\n23 20A-7-101, as last amended by Laws of Utah 2014, Chapters 364 and 396\n\n24 20A-7-501, as last amended by Laws of Utah 2011, Chapter 17\n\n25 20A-7-601, as last amended by Laws of Utah 2014, Chapter 242\n\n*SB0070S01*\n\n\n\n1st Sub. (Green) S.B. 70 01-29-15  1:06 PM\n\n- 2 -\n\n26  \n\n27 Be it enacted by the Legislature of the state of Utah:\n\n28 Section 1.  Section 20A-7-101 is amended to read:\n\n29 20A-7-101.   Definitions.\n\n30 As used in this chapter:\n\n31 (1)  "Budget officer" means:\n\n32 (a)  for a county, the person designated as budget officer in Section 17-19a-203;\n\n33 (b)  for a city, the person designated as budget officer in Subsection 10-6-106(5); or\n\n34 (c)  for a town, the town council.\n\n35 (2)  "Certified" means that the county clerk has acknowledged a signature as being the\n\n36 signature of a registered voter.\n\n37 (3)  "Circulation" means the process of submitting an initiative or referendum petition\n\n38 to legal voters for their signature.\n\n39 (4)  "Final fiscal impact statement" means a financial statement prepared after voters\n\n40 approve an initiative that contains the information required by Subsection 20A-7-202.5(2) or\n\n41 20A-7-502.5(2).\n\n42 (5)  "Initial fiscal impact estimate" means:\n\n43 (a)  a financial statement prepared under Section 20A-7-202.5 after the filing of an\n\n44 application for an initiative petition; or\n\n45 (b)  a financial and legal statement prepared under Section 20A-7-502.5 or 20A-7-602.5\n\n46 for an initiative or referendum petition.\n\n47 (6)  "Initiative" means a new law proposed for adoption by the public as provided in\n\n48 this chapter.\n\n49 (7)  "Initiative packet" means a copy of the initiative petition, a copy of the proposed\n\n50 law, and the signature sheets, all of which have been bound together as a unit.\n\n51 (8)  "Legal signatures" means the number of signatures of legal voters that:\n\n52 (a)  meet the numerical requirements of this chapter; and\n\n53 (b)  have been certified and ve...</td>
      <td>2019-11-17 22:33:00.295015+00:00</td>
    </tr>
    <tr>
      <th>998</th>
      <td>0</td>
      <td>625075</td>
      <td>Geographic Diversity Amendments</td>
      <td>UT-SB0228</td>
      <td>0.000000</td>
      <td>11.305812</td>
      <td>140575</td>
      <td>SB0228</td>
      <td>Geographic Diversity Amendments</td>
      <td>UT</td>
      <td>2014 Regular Session</td>
      <td>bill_data/UT/2014-2014_Regular_Session/bill/SB0228.json</td>
      <td>2</td>
      <td>2014-03-05</td>
      <td>http://le.utah.gov/~2014/bills/sbillint/sb0228.pdf</td>
      <td>None</td>
      <td>S\n.B\n\n. 228\nLEGISLATIVE GENERAL COUNSEL\n6  Approved for Filing: T.R. Vaughn  6\n\n6    02-21-14 6:53 AM    6\n\nS.B. 228\n\n1 GEOGRAPHIC DIVERSITY AMENDMENTS\n\n2 2014 GENERAL SESSION\n\n3 STATE OF UTAH\n\n4 Chief Sponsor:  Stuart C. Reid\n\n5 House Sponsor:   Brad L. Dee\n\n6  \n\n7 LONG TITLE\n\n8 General Description:\n\n9 This bill amends the signature requirements for an initiative or referendum petition.\n\n10 Highlighted Provisions:\n\n11 This bill:\n\n12 &lt; defines terms;\n\n13 &lt; requires that an initiative or referendum petition in a city, county, or town meet\n\n14 certain signature requirements within a majority of precincts in the city, county, or\n\n15 town; and\n\n16 &lt; makes conforming changes.\n\n17 Money Appropriated in this Bill:\n\n18 None\n\n19 Other Special Clauses:\n\n20 None\n\n21 Utah Code Sections Affected:\n\n22 AMENDS:\n\n23 20A-7-101, as last amended by Laws of Utah 2012, Chapters 17 and 72\n\n24 20A-7-501, as last amended by Laws of Utah 2011, Chapter 17\n\n25 20A-7-601, as last amended by Laws of Utah 2012, Chapter 72\n\n26  \n\n27 Be it enacted by the Legislature of the state of Utah:\n\n*SB0228*\n\n\n\nS.B. 228 02-21-14 6:53 AM\n\n- 2 -\n\n28 Section 1.  Section 20A-7-101 is amended to read:\n\n29 20A-7-101.   Definitions.\n\n30 As used in this chapter:\n\n31 (1)  "Budget officer" means:\n\n32 (a) (i)  for a county of the first class, the person designated as budget officer in Section\n\n33 17-19a-203; or\n\n34 (ii)  for a county not described in Subsection (1)(a)(i), a person designated as budget\n\n35 officer in Section 17-19-19;\n\n36 (b)  for a city, the person designated as budget officer in Subsection 10-6-106(5); or\n\n37 (c)  for a town, the town council.\n\n38 (2)  "Certified" means that the county clerk has acknowledged a signature as being the\n\n39 signature of a registered voter.\n\n40 (3)  "Circulation" means the process of submitting an initiative or referendum petition\n\n41 to legal voters for their signature.\n\n42 (4)  "Final fiscal impact statement" means a financial statement prepared after voters\n\n43 approve an initiative that contains the information required by Subsection 20A-7-202.5(2) or\n\n44 20A-7-502.5(2).\n\n45 (5)  "Initial fiscal impact estimate" means a financial statement prepared according to\n\n46 the terms of Section 20A-7-202.5 or 20A-7-502.5 after the filing of an application for an\n\n47 initiative petition.\n\n48 (6)  "Initiative" means a new law proposed for adoption by the public as provided in\n\n49 this chapter.\n\n50 (7)  "Initiative packet" means a copy of the initiative petition, a copy of the proposed\n\n51 law, and the signature sheets, all of which have been bound together as a unit.\n\n52 (8)  "Legal signatures" means the number of signatures of legal voters that:\n\n53 (a)  meet the numerical requirements of this chapter; and\n\n54 (b)  have been certified and verified as provided in this chapter.\n\n55 (9)  "Legal voter" means a person who:\n\n56 (a)  is...</td>
      <td>2019-11-17 23:44:34.610471+00:00</td>
    </tr>
    <tr>
      <th>999</th>
      <td>0</td>
      <td>1241491</td>
      <td>In ballots, further providing for number of ballots to be printed and specimen ballots.</td>
      <td>PA-SB418</td>
      <td>0.000000</td>
      <td>10.458005</td>
      <td>698561</td>
      <td>SB418</td>
      <td>An Act amending the act of June 3, 1937 (P.L.1333, No.320), known as the Pennsylvania Election Code, in ballots, further providing for number of ballots to be printed and specimen ballots.</td>
      <td>PA</td>
      <td>2019-2020 Regular Session</td>
      <td>bill_data/PA/2019-2020_Regular_Session/bill/SB418.json</td>
      <td>2</td>
      <td>2019-06-25</td>
      <td>http://www.legis.state.pa.us/cfdocs/legis/PN/Public/btCheck.cfm?txtType=PDF&amp;sessYr=2019&amp;sessInd=0&amp;billBody=S&amp;billTyp=B&amp;billNbr=0418&amp;pn=1014</td>
      <td>None</td>
      <td>PRIOR PRINTER'S NO. 437 PRINTER'S NO.  1014\n\nTHE GENERAL ASSEMBLY OF PENNSYLVANIA\n\nSENATE BILL \nNo. 418 Session of 2019 \n\nINTRODUCED BY STEFANO, MARTIN, FOLMER, SCHWANK, KILLION, ARGALL, \nBARTOLOTTA, COSTA, DiSANTO, K. WARD, GORDNER, J. WARD, \nL. WILLIAMS, BROWNE AND BREWSTER, MARCH 19, 2019 \n\nSENATOR FOLMER, STATE GOVERNMENT, AS AMENDED, JUNE 18, 2019\n\nAN ACT\nAmending the act of June 3, 1937 (P.L.1333, No.320), entitled \n\n"An act concerning elections, including general, municipal, \nspecial and primary elections, the nomination of candidates, \nprimary and election expenses and election contests; creating \nand defining membership of county boards of elections; \nimposing duties upon the Secretary of the Commonwealth, \ncourts, county boards of elections, county commissioners; \nimposing penalties for violation of the act, and codifying, \nrevising and consolidating the laws relating thereto; and \nrepealing certain acts and parts of acts relating to \nelections," in ballots, further providing for number of \nballots to be printed and specimen ballots.\nThe General Assembly of the Commonwealth of Pennsylvania \n\nhereby enacts as follows:\nSection 1.  Section 1007 of the act of June 3, 1937 \n\n(P.L.1333, No.320), known as the Pennsylvania Election Code, is \namended to read:\n\nSection 1007.  Number of Ballots to Be Printed; Specimen \nBallots.--(a)  The county board of each county shall provide for \neach election district [in which a primary is to be held, one \nbook of fifty official ballots of each party for every forty-\nfive registered and enrolled electors of such party and fraction \n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\nthereof, appearing upon the district register, and shall provide \nfor each election district in which an election is to be held \none book of fifty official ballots for every forty-five \nregistered electors and fraction thereof appearing upon the \ndistrict register.] a supply of official election ballots for:\n\n(1)  the primary election in an amount of at least ten per \ncentum greater than the highest number of ballots cast in any of \nthe previous three primary elections in the election district; \nand\n\n(2)  the general election in an amount of at least ten per \ncentum greater than the highest number of ballots cast in any of \nthe previous three general elections in the election district.\n\n(1)  THE GENERAL PRIMARY ELECTION HELD IN EVEN-NUMBERED YEARS \nIN WHICH CANDIDATES FOR THE OFFICE OF PRESIDENT OF THE UNITED \nSTATES ARE NOT NOMINATED IN AN AMOUNT OF AT LEAST TEN PER CENTUM \nGREATER THAN THE HIGHEST NUMBER OF BALLOTS CAST IN THE ELECTION \nDISTRICT IN ANY OF THE PREVIOUS THREE GENERAL PRIMARY ELECTIONS \nAT WHICH CANDIDATES FOR THE OFFICE OF PRESIDENT OF THE UNITED \nSTATES WERE NOT NOMINATED;\n\n(2)  THE GENERAL PRIMARY ELECTION HELD IN EVEN-NUMBERED YEARS \nIN WHICH CANDIDATES FOR THE OFFICE OF PRESIDENT OF THE UNITED \nSTATES ARE N...</td>
      <td>2019-11-18 02:32:30.370653+00:00</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 18 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Which-phrases-repeat-where?">Which phrases repeat where?<a class="anchor-link" href="#Which-phrases-repeat-where?">#</a></h2><p>A cut-and-paste from the previous section</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Build a DataGrame of bills and word counts</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">matrix</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> 
    <span class="n">columns</span><span class="o">=</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">(),</span>
    <span class="n">index</span><span class="o">=</span><span class="n">bills_df</span><span class="o">.</span><span class="n">state</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">bills_df</span><span class="o">.</span><span class="n">bill_number</span>
<span class="p">)</span>

<span class="c1"># Drop any bills or phrases that don&#39;t have anything in common</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

<span class="c1"># Add up the number of shared phrases in each bill</span>
<span class="n">word_counts</span><span class="p">[</span><span class="s1">&#39;TOTAL_ngrams_shared&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;TOTAL_ngrams_shared&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">T</span>

<span class="c1"># Add up the nmber of times each phrase was used in different bills</span>
<span class="n">word_counts</span><span class="p">[</span><span class="s1">&#39;TOTAL_bills_used&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;TOTAL_bills_used&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Move &#39;total times used&#39; to the left-hand column</span>
<span class="n">cols</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">cols</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">cols</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">cols</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;TOTAL_bills_used&#39;</span><span class="p">)))</span>
<span class="n">word_counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">cols</span><span class="p">]</span>

<span class="n">word_counts</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;TOTAL_ngrams_shared&#39;</span><span class="p">,</span> <span class="s1">&#39;TOTAL_bills_used&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">word_counts</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">word_counts</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>TOTAL_bills_used</th>
      <th>CA-SJR12</th>
      <th>LA-HR261</th>
      <th>MI-SR0073</th>
      <th>MI-SR0073</th>
      <th>MI-HR0081</th>
      <th>AZ-SM1002</th>
      <th>CA-AR68</th>
      <th>CA-AR71</th>
      <th>CA-AJR44</th>
      <th>OH-HR300</th>
      <th>ME-HP1392</th>
      <th>OR-SJM9</th>
      <th>OR-SJM9</th>
      <th>CA-AJR39</th>
      <th>CA-SJR28</th>
      <th>CA-SJR28</th>
      <th>ME-SP0651</th>
      <th>PA-HR38</th>
      <th>OH-HCR32</th>
      <th>CA-SJR11</th>
      <th>CA-SJR11</th>
      <th>MI-HR0032</th>
      <th>PA-HR264</th>
      <th>PA-HR222</th>
      <th>ME-SP0382</th>
      <th>PA-SR340</th>
      <th>PA-SR119</th>
      <th>CA-SJR1</th>
      <th>CA-SJR1</th>
      <th>ME-HP0963</th>
      <th>VT-SR0013</th>
      <th>OR-HJM1</th>
      <th>OR-HJM3</th>
      <th>OR-HJM3</th>
      <th>OR-SJM7</th>
      <th>OR-SJM7</th>
      <th>OR-SJM7</th>
      <th>OH-SCR9</th>
      <th>TX-SCR38</th>
      <th>TX-HCR72</th>
      <th>MN-HF826</th>
      <th>OR-SJM5</th>
      <th>OR-SJM5</th>
      <th>OR-SJM5</th>
      <th>MI-SCR0018</th>
      <th>OR-HJM9</th>
      <th>OR-HJM9</th>
      <th>OR-HJM9</th>
      <th>OR-HJM9</th>
      <th>...</th>
      <th>NJ-A5337</th>
      <th>NJ-A1229</th>
      <th>NJ-S2553</th>
      <th>NJ-A3839</th>
      <th>NJ-A3706</th>
      <th>NJ-A3935</th>
      <th>NJ-S2599</th>
      <th>NJ-A4140</th>
      <th>NJ-S2670</th>
      <th>NJ-A3574</th>
      <th>NJ-A2796</th>
      <th>NJ-S1861</th>
      <th>CA-AB2410</th>
      <th>NJ-S1539</th>
      <th>NJ-S1525</th>
      <th>NJ-S1519</th>
      <th>NJ-A2381</th>
      <th>NJ-A2121</th>
      <th>NJ-A2118</th>
      <th>NJ-S1122</th>
      <th>NJ-S939</th>
      <th>NJ-A448</th>
      <th>NJ-A623</th>
      <th>NJ-A624</th>
      <th>NJ-S2375</th>
      <th>NJ-S1978</th>
      <th>NJ-S3006</th>
      <th>NJ-S1977</th>
      <th>NJ-A1268</th>
      <th>NJ-A1001</th>
      <th>NJ-S308</th>
      <th>NJ-A691</th>
      <th>NJ-A1252</th>
      <th>NJ-A831</th>
      <th>NJ-A692</th>
      <th>NJ-A1528</th>
      <th>NJ-A4155</th>
      <th>NJ-A4027</th>
      <th>CA-AB1919</th>
      <th>NJ-S1110</th>
      <th>NJ-A2159</th>
      <th>NJ-A2556</th>
      <th>NJ-S1305</th>
      <th>NJ-A2918</th>
      <th>NJ-S1372</th>
      <th>NJ-A2643</th>
      <th>NJ-S1657</th>
      <th>CA-SB1208</th>
      <th>NJ-S1956</th>
      <th>IL-HR0016</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>TOTAL_ngrams_shared</th>
      <td></td>
      <td>110</td>
      <td>90</td>
      <td>50</td>
      <td>5</td>
      <td>50</td>
      <td>24</td>
      <td>13</td>
      <td>13</td>
      <td>13</td>
      <td>13</td>
      <td>12</td>
      <td>12</td>
      <td>6</td>
      <td>12</td>
      <td>12</td>
      <td>7</td>
      <td>11</td>
      <td>11</td>
      <td>11</td>
      <td>11</td>
      <td>6</td>
      <td>11</td>
      <td>11</td>
      <td>11</td>
      <td>11</td>
      <td>11</td>
      <td>10</td>
      <td>10</td>
      <td>7</td>
      <td>10</td>
      <td>10</td>
      <td>9</td>
      <td>9</td>
      <td>8</td>
      <td>9</td>
      <td>9</td>
      <td>6</td>
      <td>9</td>
      <td>9</td>
      <td>9</td>
      <td>9</td>
      <td>9</td>
      <td>9</td>
      <td>7</td>
      <td>9</td>
      <td>9</td>
      <td>8</td>
      <td>7</td>
      <td>5</td>
      <td>...</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>the president of the united states</th>
      <td>962</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
    </tr>
    <tr>
      <th>and be it further resolved that</th>
      <td>753</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>to the president of the united</th>
      <td>624</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>president of the united states to</th>
      <td>543</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>the congress of the united states</th>
      <td>497</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>of the united states to the</th>
      <td>429</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>president of the united states and</th>
      <td>315</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
    </tr>
    <tr>
      <th>now therefore be it resolved that</th>
      <td>285</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>of the united states and the</th>
      <td>261</td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>congress of the united states to</th>
      <td>226</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>and the congress of the united</th>
      <td>61</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>urges the president of the united</th>
      <td>48</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>the north american free trade agreement</th>
      <td>28</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>the united states and the congress</th>
      <td>26</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>states and the congress of the</th>
      <td>19</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>united states and the congress of</th>
      <td>19</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>north american free trade agreement nafta</th>
      <td>19</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>the united states canada and mexico</th>
      <td>9</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>agreement and be it further resolved</th>
      <td>9</td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>1</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td>...</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>20 rows × 1311 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>748</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
 


    </div>
  </div>
</div>

<script>
  [...document.querySelectorAll(".code_cell")].filter(cell => cell.innerText.trim().length === 0).forEach(cell => cell.remove())
</script>

  <div class="footer bg-secondary">
  <div class="content">
    <div class="columns">
      <div class="column col-6 col-sm-12">
        <p><strong>Hi, welcome to Data Science for Journalism!</strong></p>
        <p>There's been a lot of buzz about machine learning and "artificial intelligence" being used in stories over
          the past few years. It's mostly not that complicated - a little stats, a classifier here or there - but it's
          hard to know where to start without a little help.</p>
        <p>Hopefully this site can be that help! <a href="/ds4j/about">Learn more about this project here.</a></p>
      </div>
      <div class="column col-3 col-sm-6">
        <p><strong>Quick links</strong></p>
        <!-- <p><a href="#">Something here</a></p>
        <p><a href="#">Something here</a></p>
        <p><a href="#">Something here</a></p> -->
      </div>
      <div class="column col-3 col-sm6">
        <p><strong>Contact</strong></p>
        <p><a href="mailto:hello@littlecolumns.com">hello@littlecolumns.com</a></p>
      </div>
    </div>
  </div>
</div>
  <script src="/ds4j/js/tocbot.js"></script>

  <script>
    try {
      let toc = document.createElement("div")
      toc.setAttribute('class', 'js-toc')
      document.querySelector(".reading-options").parentNode.appendChild(toc)
    } catch (err) {

    }

    // Chapter TOC
    tocbot.init({
      // Where to render the table of contents.
      tocSelector: '.js-toc',
      // Where to grab the headings to build the table of contents.
      contentSelector: '.notebook',
      // Which headings to grab inside of the contentSelector element.
      headingSelector: 'h1, h2, h3, h4',
      activeLinkClass: 'active',
      listClass: 'nav',
      listItemClass: 'nav-item',
      headingLabelCallback: function (label) {
        return label.replace("#", "")
      }
    });
  </script>

</body>

</html>